<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="admin_gui_dashboard.xml" version="5.0" xml:id="ceph-dashboard">
 <title>Ceph Dashboard</title>
 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:editurl>https://github.com/SUSE/doc-ses/edit/maintenance/ses6/xml/</dm:editurl>
   <dm:translation>Ja</dm:translation>
   <dm:release>SES 6</dm:release>
  </dm:docmanager>
 </info>
 <para>
  Das Ceph Dashboard-Modul ergänzt Ceph Manager mit einer integrierten webgestützten Überwachung- und Verwaltungsanwendung (weitere Informationen zum Ceph Manager siehe <xref linkend="storage-intro-core-nodes"/>). Sie müssen Ihren Ceph Cluster nicht mehr mit komplexen Ceph-spezifischen Kommandos verwalten und überwachen. Sie können entweder die intuitive Weboberfläche des Ceph Dashboards nutzen oder die integrierte REST-API.
 </para>
 <para>
  Das Ceph Dashboard wird im Rahmen des Implementierungsvorgangs automatisch mit der DeepSea-Phase 3 aktiviert und konfiguriert (siehe <xref linkend="ceph-install-stack"/>). In einem Ceph Cluster mit mehreren Ceph Manager-Instanzen verarbeitet lediglich das Dashboard, das auf dem derzeit aktiven Ceph Manager Daemon ausgeführt wird, die eingehenden Anfragen. Beim Zugriff auf den TCP-Port des Dashboards in einer anderen Ceph Manager-Instanz, die sich derzeit im Standby befindet, erfolgt eine HTTP-Weiterleitung (303) an die URL zum Dashboard des derzeit aktiven Ceph Managers. Auf diese Weise können Sie mit dem Browser eine beliebige Ceph Manager-Instanz öffnen und so auf das Dashboard zugreifen. Beachten Sie dieses Verhalten, wenn Sie den Zugriff mithilfe einer Firewall sichern oder eine HA-Einrichtung planen.
 </para>
 <sect1 xml:id="dashboard-webui-general">
  <title>Dashboard-Webbenutzeroberfläche</title>

  <sect2 xml:id="dashboard-webui-login">
   <title>Anmeldung</title>
   <para>
    Zum Anmelden bei der Dashboard-Webanwendung öffnen Sie die zugehörige URL (unter Angabe der Portnummer). Mit folgendem Kommando ermitteln Sie die Adresse:
   </para>
<screen>
<prompt>cephadm@adm &gt; </prompt>ceph mgr services | grep dashboard
"dashboard": "https://ses-dash-node.example.com:8443/",
</screen>
   <figure>
    <title>Ceph Dashboard-Anmeldebildschirm</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="dashboard_login.png" width="70%" format="PNG"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="dashboard_login.png" width="70%" format="PNG"/>
     </imageobject>
    </mediaobject>
   </figure>
   <para>
    Für die Anmeldung bei der Dashboard-Webanwendung benötigen Sie ein Benutzerkonto. DeepSea erstellt den Standardbenutzer „admin“ mit Administratorrechten. Wenn Sie sich mit dem Standardbenutzer „admin“ anmelden, rufen Sie das zugehörige Passwort mit folgendem Kommando ab:
   </para>
<screen>
<prompt>root@master # </prompt>salt-call grains.get dashboard_creds
</screen>
   <tip>
    <title>Benutzerdefiniertes Benutzerkonto</title>
    <para>
     Wenn Sie nicht über das Standardkonto „admin“ auf das Ceph Dashboard zugreifen möchten, erstellen Sie ein benutzerdefiniertes Benutzerkonto mit Administratorrechten. Weitere Informationen finden Sie in <xref linkend="dashboard-user-roles"/>.
    </para>
   </tip>
   <para>
    Die Dashboard-Benutzeroberfläche ist optisch in mehrere <emphasis>Blöcke</emphasis> unterteilt: das <emphasis>Dienstprogramm-Menü</emphasis>, das <emphasis>Hauptmenü</emphasis> und den Haupt-<emphasis>Inhaltsbereich</emphasis>.
   </para>
   <figure>
    <title>Ceph Dashboard-Startseite</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="dashboard_homepage.png" width="90%" format="PNG"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="dashboard_homepage.png" width="90%" format="PNG"/>
     </imageobject>
    </mediaobject>
   </figure>
  </sect2>

  <sect2 xml:id="dashboard-util-menu">
   <title>Dienstprogramm-Menü</title>
   <para>
    Oben rechts im Bildschirm befindet sich ein Dienstprogramm-Menü. Es enthält allgemeine Aufgaben, die eher mit dem Dashboard selbst zusammenhängen als mit dem Ceph Cluster. Über die Optionen im Menü gelangen Sie zu den folgenden Themen:
   </para>
   <itemizedlist>
    <listitem>
     <para>
      Sprache der Dashboard-Benutzeroberfläche ändern. Sie können zwischen Tschechisch, Englisch, Deutsch, Spanisch, Französisch, Portugiesisch, Chinesisch oder Indonesisch wählen.
     </para>
    </listitem>
    <listitem>
     <para>
      Eine Liste der Ceph-spezifischen Aufgaben abrufen, die im Hintergrund ausgeführt werden.
     </para>
    </listitem>
    <listitem>
     <para>
      Die letzten Dashboard-Benachrichtigungen abrufen und löschen.
     </para>
    </listitem>
    <listitem>
     <para>
      Eine Liste der Links abrufen, die auf Informationen zum Dashboard, auf die komplette Dokumentation sowie auf einen Überblick der REST-API verweisen.
     </para>
    </listitem>
    <listitem>
     <para>
      Die Benutzer und Benutzerrollen des Dashboards verwalten. Ausführliche Informationen zur Kommandozeile finden Sie in <xref linkend="dashboard-user-roles"/>.
     </para>
    </listitem>
    <listitem>
     <para>
      Abmelden beim Dashboard.
     </para>
    </listitem>
   </itemizedlist>
  </sect2>

  <sect2 xml:id="dashboard-main-menu">
   <title>Hauptmenü</title>
   <para>
    Das Hauptmenü des Dashboards ist oben links im Bildschirm angeordnet. Hier finden Sie die folgenden Themen:
   </para>
   <variablelist>
    <varlistentry>
     <term><guimenu>Dashboard</guimenu></term>
     <listitem>
      <para>
       Zur Ceph Dashboard-Startseite zurückkehren.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>Cluster</guimenu></term>
     <listitem>
      <para>
       Ausführliche Informationen zur allgemeinen Cluster-Navigation und zur CRUSH-Zuordnung, den Hosts, Ceph OSDs, Ceph Monitors und zum Inhalt einer Protokolldatei abrufen.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>Pools</guimenu></term>
     <listitem>
      <para>
       Cluster-Pools abrufen und verwalten.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>Blockieren</guimenu></term>
     <listitem>
      <para>
       Blockgeräte und deren iSCSI-Exporte abrufen und verwalten.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>NFS</guimenu></term>
     <listitem>
      <para>
       NFS Ganesha-Implementierungen abrufen und verwalten.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>Dateisysteme</guimenu></term>
     <listitem>
      <para>
       CephFSs abrufen und verwalten.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>Object Gateway</guimenu></term>
     <listitem>
      <para>
       Object Gateway-Daemons, -Benutzer und -Buckets abrufen und verwalten.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
  </sect2>

  <sect2 xml:id="dashboard-cpane">
   <title>Inhaltsbereich</title>
   <para>
    Der Inhaltsbereich belegt den Hauptteil des Dashboard-Bildschirms. Die Dashboard-Startseite enthält zahlreiche nützliche Widgets, mit denen Sie sich rasch über den aktuellen Status des Clusters, die Kapazität und die Leistung informieren können.
   </para>
  </sect2>

  <sect2 xml:id="dashboard-ui-common">
   <title>Allgemeine Funktionen der Webbenutzeroberfläche</title>
   <para>
    Im Ceph Dashboard arbeiten Sie oft mit <emphasis>Listen</emphasis>, beispielsweise Listen von Pools, OSD Nodes oder RBD-Geräten. Alle Listen werden standardmäßig automatisch alle 5 Sekunden aktualisiert. Mit den folgenden allgemeinen Widgets verwalten Sie diese Listen oder passen Sie an:
   </para>
   <para>
    Mit <inlinemediaobject>
    <imageobject role="fo">
     <imagedata fileref="oa_widget_reload.png" width="1.2em" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="oa_widget_reload.png" width="1.2em" format="PNG"/>
    </imageobject>
    </inlinemediaobject> lösen Sie eine manuelle Aktualisierung der Liste aus.
   </para>
   <para>
    Klicken Sie auf <inlinemediaobject>
    <imageobject role="fo">
     <imagedata fileref="oa_widget_columns.png" width="1.3em" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="oa_widget_columns.png" width="1.3em" format="PNG"/>
    </imageobject>
    </inlinemediaobject>, um einzelne Tabellenspalten anzuzeigen oder auszublenden.
   </para>
   <para>
    Klicken Sie auf <inlinemediaobject>
    <imageobject role="fo">
     <imagedata fileref="oa_widget_rows.png" width="1.8em" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="oa_widget_rows.png" width="1.8em" format="PNG"/>
    </imageobject>
    </inlinemediaobject> und wählen Sie, wie viele Zeilen auf einer einzelnen Seite angezeigt werden sollen.
   </para>
   <para>
    Klicken Sie in das Feld <inlinemediaobject>
    <imageobject role="fo">
     <imagedata fileref="oa_widget_search.png" width="5em" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="oa_widget_search.png" width="5em" format="PNG"/>
    </imageobject>
    </inlinemediaobject> und filtern Sie die Zeilen, indem Sie die Zeichenkette eingeben, nach der gesucht werden soll.
   </para>
   <para>
    Ändern Sie mit <inlinemediaobject>
    <imageobject role="fo">
     <imagedata fileref="oa_widget_pager.png" width="6em" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="oa_widget_pager.png" width="6em" format="PNG"/>
    </imageobject>
    </inlinemediaobject> die aktuell angezeigte Seite, wenn die Liste mehrere Seiten umfasst.
   </para>
  </sect2>

  <sect2 xml:id="dashboard-widgets">
   <title>Dashboard-Widgets</title>
   <para>
    Die einzelnen Dashboard-Widgets enthalten spezielle Statusinformationen zu einem bestimmten Aspekt eines aktiven Ceph Clusters. Einige Widgets sind aktive Links. Wenn Sie darauf klicken, werden Sie zu einer detaillierten Seite des jeweiligen Themas weitergeleitet.
   </para>
   <tip>
    <title>Weitere Details durch Bewegen des Mauszeigers</title>
    <para>
     Bei einigen grafischen Widgets werden zusätzliche Informationen angezeigt, wenn Sie mit der Maus darauf zeigen.
    </para>
   </tip>
   <sect3 xml:id="dashboard-widgets-status">
    <title>Status-Widgets</title>
    <para>
     <guimenu>Status</guimenu>-Widgets geben Ihnen einen kurzen Überblick über den aktuellen Status des Clusters.
    </para>
    <figure>
     <title>Status-Widgets</title>
     <mediaobject>
      <imageobject role="fo">
       <imagedata fileref="dashboard_widgets_status.png" width="70%" format="PNG"/>
      </imageobject>
      <imageobject role="html">
       <imagedata fileref="dashboard_widgets_status.png" width="70%" format="PNG"/>
      </imageobject>
     </mediaobject>
    </figure>
    <variablelist>
     <varlistentry>
      <term><guimenu>Cluster-Status</guimenu></term>
      <listitem>
       <para>
        Grundlegende Informationen zum Zustand des Clusters.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><guimenu>Monitors</guimenu></term>
      <listitem>
       <para>
        Anzahl der aktiven Monitors und deren Quorum.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><guimenu>OSDs</guimenu></term>
      <listitem>
       <para>
        Gesamtanzahl der OSDs sowie Anzahl der als „up“ und „in“ gekennzeichneten OSDs.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><guimenu>Manager Daemons</guimenu></term>
      <listitem>
       <para>
        Anzahl der aktiven und im Standby befindlichen Ceph Manager Daemons.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><guimenu>Hosts</guimenu></term>
      <listitem>
       <para>
        Gesamtanzahl der Cluster Nodes.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><guimenu>Object Gateways</guimenu></term>
      <listitem>
       <para>
        Anzahl der aktiven Object Gateways.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><guimenu>Metadata Server</guimenu></term>
      <listitem>
       <para>
        Anzahl der Metadatenserver.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><guimenu>iSCSI Gateway</guimenu></term>
      <listitem>
       <para>
        Anzahl der konfigurierten iSCSI-Gateways.
       </para>
      </listitem>
     </varlistentry>
    </variablelist>
   </sect3>
   <sect3 xml:id="dashboard-widgets-performance">
    <title>Leistungs-Widgets</title>
    <para>
     <guimenu>Leistungs</guimenu>-Widgets liefern grundlegende Leistungsdaten der Ceph Clients.
    </para>
    <figure>
     <title>Leistungs-Widgets</title>
     <mediaobject>
      <imageobject role="fo">
       <imagedata fileref="dashboard_widgets_perf.png" width="70%" format="PNG"/>
      </imageobject>
      <imageobject role="html">
       <imagedata fileref="dashboard_widgets_perf.png" width="70%" format="PNG"/>
      </imageobject>
     </mediaobject>
    </figure>
    <variablelist>
     <varlistentry>
      <term><guimenu>Client-IOPS</guimenu></term>
      <listitem>
       <para/>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><guimenu>Clientdurchsatz</guimenu></term>
      <listitem>
       <para/>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><guimenu>Client-Lese-/Schreibvorgänge</guimenu></term>
      <listitem>
       <para/>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><guimenu>Wiederherstellungsdurchsatz</guimenu></term>
      <listitem>
       <para/>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><guimenu>Scrub</guimenu></term>
      <listitem>
       <para/>
      </listitem>
     </varlistentry>
    </variablelist>
   </sect3>
   <sect3 xml:id="dashboard-widgets-capacity">
    <title>Kapazitäts-Widgets</title>
    <para>
     <guimenu>Kapazitäts</guimenu>-Widgets bieten kurze Informationen zur Speicherkapazität.
    </para>
    <figure>
     <title>Kapazitäts-Widgets</title>
     <mediaobject>
      <imageobject role="fo">
       <imagedata fileref="dashboard_widgets_capacity.png" width="70%" format="PNG"/>
      </imageobject>
      <imageobject role="html">
       <imagedata fileref="dashboard_widgets_capacity.png" width="70%" format="PNG"/>
      </imageobject>
     </mediaobject>
    </figure>
    <variablelist>
     <varlistentry>
      <term><guimenu>Pools</guimenu></term>
      <listitem>
       <para>
        Anzahl der Pools im Cluster.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><guimenu>Rohkapazität</guimenu></term>
      <listitem>
       <para>
        Verhältnis der belegten und verfügbaren Rohspeicherkapazität.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><guimenu>Objekte</guimenu></term>
      <listitem>
       <para>
        Anzahl der im Cluster gespeicherten Datenobjekte.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><guimenu>Platzierungsgruppen pro OSD</guimenu></term>
      <listitem>
       <para>
        Anzahl der Platzierungsgruppen pro OSD.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term><guimenu>Platzierungsgruppenstatus</guimenu></term>
      <listitem>
       <para>
        Diagramm der Platzierungsgruppe gemäß ihrem Status.
       </para>
      </listitem>
     </varlistentry>
    </variablelist>
   </sect3>
  </sect2>
 </sect1>
 <sect1 xml:id="dashboard-user-mgmt">
  <title>Verwalten der Dashboard-Benutzer und -Rollen</title>

  <para>
   Die Dashboard-Benutzerverwaltung mit Ceph-Kommandos wurde bereits in <xref linkend="dashboard-user-roles"/> vorgestellt.
  </para>

  <para>
   In diesem Abschnitt erfahren Sie, wie Sie Benutzerkonten über die Dashboard-Webbenutzeroberfläche verwalten.
  </para>

  <sect2 xml:id="dashboard-listing-users">
   <title>Auflisten von Benutzern</title>
   <para>
    Klicken Sie im Dienstprogramm-Menü auf <inlinemediaobject>
    <imageobject role="fo">
     <imagedata fileref="dash_icon_gear.png" width="1.3em" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="dash_icon_gear.png" width="1.3em" format="PNG"/>
    </imageobject>
    </inlinemediaobject> und wählen Sie <guimenu>Benutzerverwaltung</guimenu>.
   </para>
   <para>
    Die Liste enthält den Benutzernamen, den vollständigen Namen, die E-Mail-Adresse und eine Liste der zugewiesenen Rollen der einzelnen Benutzer.
   </para>
   <figure>
    <title>Benutzerverwaltung</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="dash_users.png" width="70%" format="PNG"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="dash_users.png" width="70%" format="PNG"/>
     </imageobject>
    </mediaobject>
   </figure>
  </sect2>

  <sect2 xml:id="dashboard-adding-users">
   <title>Hinzufügen neuer Benutzer</title>
   <para>
    Zum Hinzufügen eines neuen Benutzers klicken Sie oben links in der Tabellenüberschrift auf <guimenu>Hinzufügen</guimenu>. Geben Sie den Benutzernamen, das Passwort sowie optional den vollständigen Namen und eine E-Mail-Adresse ein.
   </para>
   <figure>
    <title>Hinzufügen eines Benutzers</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="dash_user_add.png" width="50%" format="PNG"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="dash_user_add.png" width="50%" format="PNG"/>
     </imageobject>
    </mediaobject>
   </figure>
   <para>
    Klicken Sie auf das kleine Stiftsymbol, und weisen Sie dem Benutzer vordefinierte Rollen zu. Bestätigen Sie mit <guimenu>Benutzer erstellen</guimenu>.
   </para>
  </sect2>

  <sect2 xml:id="dashboard-editing-users">
   <title>Bearbeiten von Benutzern</title>
   <para>
    Zum Bearbeiten der Details zu einem Benutzer klicken Sie auf dessen Tabellenzeile und wählen Sie <guimenu>Bearbeiten</guimenu>. Bestätigen Sie mit <guimenu>Benutzer aktualisieren</guimenu>.
   </para>
  </sect2>

  <sect2 xml:id="dashboard-deleting-users">
   <title>Löschen von Benutzern</title>
   <para>
    Zum Löschen eines Benutzerkontos klicken Sie auf die Tabellenzeile dieses Benutzers und wählen Sie <guimenu>Löschen</guimenu>. Aktivieren Sie das Kontrollkästchen <guimenu>Ja, ich bin sicher</guimenu> und bestätigen Sie mit <guimenu>Benutzer löschen</guimenu>.
   </para>
  </sect2>

  <sect2 xml:id="dashboard-listing-user-roles">
   <title>Auflisten der Benutzerrollen</title>
   <para>
    Klicken Sie im Dienstprogramm-Menü auf <inlinemediaobject>
    <imageobject role="fo">
     <imagedata fileref="dash_icon_gear.png" width="1.3em" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="dash_icon_gear.png" width="1.3em" format="PNG"/>
    </imageobject>
    </inlinemediaobject> und wählen Sie <guimenu>Benutzerverwaltung</guimenu>. Klicken Sie dann auf die Registerkarte <guimenu>Rollen</guimenu>.
   </para>
   <para>
    Die Liste enthält den Namen und die Beschreibung der einzelnen Rollen sowie einen Hinweis, ob die betreffende Rolle eine Systemrolle ist.
   </para>
   <figure>
    <title>Benutzerrollen</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="dash_roles.png" width="70%" format="PNG"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="dash_roles.png" width="70%" format="PNG"/>
     </imageobject>
    </mediaobject>
   </figure>
  </sect2>

  <sect2 xml:id="dashboard-adding-roles">
   <title>Hinzufügen benutzerdefinierter Rollen</title>
   <para>
    Zum Hinzufügen einer neuen benutzerdefinierten Rolle klicken Sie oben links in der Tabellenüberschrift auf <guimenu>Hinzufügen</guimenu>. Geben Sie den Namen und die Beschreibung ein und legen Sie die erforderlichen Berechtigungen für einzelne Themen fest.
   </para>
   <tip>
    <title>Bereinigen benutzerdefinierter Rollen</title>
    <para>
     Wenn Sie benutzerdefinierte Rollen erstellen und den Ceph Cluster später mit dem Ausführungsprogramm <command>ceph.purge</command> bereinigen möchten, müssen Sie zunächst die benutzerdefinierten Rollen bereinigen. Weitere Informationen finden Sie in <xref linkend="deepsea-ceph-purge"/>.
    </para>
   </tip>
   <figure>
    <title>Hinzufügen einer Rolle</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="dash_roles_add.png" width="70%" format="PNG"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="dash_roles_add.png" width="70%" format="PNG"/>
     </imageobject>
    </mediaobject>
   </figure>
   <tip>
    <title>Mehrfache Aktivierung</title>
    <para>
     Wenn Sie das Kontrollkästchen vor dem Namen eines Themas aktivieren, aktivieren Sie damit alle Berechtigungen für dieses Thema. Wenn Sie das Kontrollkästchen <guimenu>Alle</guimenu> aktivieren, aktivieren Sie damit alle Berechtigungen für sämtliche Themen.
    </para>
   </tip>
   <para>
    Bestätigen Sie mit <guimenu>Rolle erstellen</guimenu>.
   </para>
  </sect2>

  <sect2 xml:id="dashboard-editing-roles">
   <title>Bearbeiten benutzerdefinierter Rollen</title>
   <para>
    Klicken Sie auf die Tabellenzeile einer benutzerdefinierten Rolle, wählen Sie oben links in der Tabellenüberschrift die Option <guimenu>Bearbeiten</guimenu> und bearbeiten Sie die Beschreibung und die Berechtigungen der benutzerdefinierten Rolle. Bestätigen Sie mit <guimenu>Rolle aktualisieren</guimenu>.
   </para>
  </sect2>

  <sect2 xml:id="dashboard-deleting-roles">
   <title>Löschen benutzerdefinierter Rollen</title>
   <para>
    Zum Löschen einer Rolle klicken Sie auf deren Tabellenzeile und wählen Sie <guimenu>Löschen</guimenu>. Aktivieren Sie das Kontrollkästchen <guimenu>Ja, ich bin sicher</guimenu> und bestätigen Sie mit <guimenu>Rolle löschen</guimenu>.
   </para>
  </sect2>
 </sect1>
 <sect1 xml:id="dashboard-cluster">
  <title>Abrufen der internen Daten eines Clusters</title>

  <para>
   Mit der Menüoption <guimenu>Cluster</guimenu> erhalten Sie ausführliche Informationen zu Ceph Cluster-Hosts, OSDs, MONs, zur CRUSH-Zuordnung sowie zum Inhalt von Protokolldateien.
  </para>

  <sect2 xml:id="dashboard-cluster-hosts">
   <title>Cluster Nodes</title>
   <para>
    Mit <menuchoice><guimenu>Cluster</guimenu><guimenu>Hosts</guimenu></menuchoice> rufen Sie eine Liste der Cluster Nodes ab.
   </para>
   <figure>
    <title>Hosts</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="dash_hosts.png" width="70%" format="PNG"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="dash_hosts.png" width="70%" format="PNG"/>
     </imageobject>
    </mediaobject>
   </figure>
   <para>
    Zum Abrufen der Leistungsdetails zu einem Knoten klicken Sie auf den Namen dieses Knotens in der Spalte <guimenu>Hostname</guimenu>.
   </para>
   <para>
    Die Spalte <guimenu>Services</guimenu> enthält alle Daemons, die auf den einzelnen zugehörigen Knoten ausgeführt werden. Zum Abrufen der ausführlichen Konfiguration eines Daemons klicken Sie auf den Namen dieses Daemons.
   </para>
  </sect2>

  <sect2 xml:id="dashboard-cluster-monitors">
   <title>Ceph Monitors</title>
   <para>
    Mit <menuchoice><guimenu>Cluster</guimenu><guimenu>Monitors</guimenu></menuchoice> rufen Sie eine Liste der Cluster Nodes mit aktiven Ceph Monitors ab. Die Liste enthält die Rangnummer, die öffentliche IP-Adresse und die Anzahl der offenen Sitzungen der einzelnen Monitors.
   </para>
   <para>
    Die Liste ist in zwei Tabellen gegliedert: eine Tabelle für Ceph Monitors, die einem Quorum <emphasis>angehören</emphasis>, und eine zweite Tabelle für Ceph Monitors, die <emphasis>keinem</emphasis> Quorum angehören.
   </para>
   <para>
    Zum Abrufen der Ceph Monitor-Konfiguration eines Knotens klicken Sie auf den Namen dieses Knotens in der Spalte <guimenu>Name</guimenu>.
   </para>
   <para>
    Die Tabelle <guimenu>Status</guimenu> enthält allgemeine Statistiken zu den aktiven Ceph Monitors.
   </para>
   <figure>
    <title>Ceph Monitors</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="dash_mons.png" width="90%" format="PNG"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="dash_mons.png" width="90%" format="PNG"/>
     </imageobject>
    </mediaobject>
   </figure>
  </sect2>

  <sect2 xml:id="dashboard-cluster-osds">
   <title>Ceph OSDs</title>
   <para>
    Mit <menuchoice><guimenu>Cluster</guimenu><guimenu>OSDs</guimenu></menuchoice> rufen Sie eine Liste der Knoten mit aktiven OSD Daemons/Datenträgern ab. Die Liste enthält den Namen, den Status, die Anzahl der Platzierungsgruppen, die Größe, die Auslastung, ein Diagramm der Lese-/Schreibvorgänge im Zeitverlauf sowie die Rate der Lese-/Schreiboperationen pro Sekunde.
   </para>
   <figure>
    <title>Ceph OSDs</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="dash_osds.png" width="70%" format="PNG"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="dash_osds.png" width="70%" format="PNG"/>
     </imageobject>
    </mediaobject>
   </figure>
   <para>
    Mit <guimenu>Set Cluster-wide Flags</guimenu> in der Tabellenüberschrift öffnen Sie ein Popup-Fenster mit einer Liste der Flaggen, die für den gesamten Cluster gelten. Sie können einzelne Flaggen aktivieren oder deaktivieren und dies dann mit <guimenu>Absenden</guimenu> bestätigen.
   </para>
   <figure>
    <title>OSD-Flaggen</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="dash_osds_flags.png" width="70%" format="PNG"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="dash_osds_flags.png" width="70%" format="PNG"/>
     </imageobject>
    </mediaobject>
   </figure>
   <para>
    Mit <guimenu>Clusterweite Wiederherstellungspriorität</guimenu> in der Tabellenüberschrift öffnen Sie ein Popup-Fenster mit einer Liste der OSD-Wiederherstellungsprioritäten, die für den gesamten Cluster gelten. Sie können das bevorzugte Prioritätsprofil aktivieren und die einzelnen Werte darunter anpassen. Bestätigen Sie mit <guimenu>Absenden</guimenu>.
   </para>
   <figure>
    <title>OSD-Wiederherstellungspriorität</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="dash_osds_recover.png" width="70%" format="PNG"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="dash_osds_recover.png" width="70%" format="PNG"/>
     </imageobject>
    </mediaobject>
   </figure>
   <para>
    Zum Abrufen einer erweiterten Tabelle mit Details zur OSD-Einstellung und Leistung klicken Sie auf den Namen eines Knotens in der Spalte <guimenu>Host</guimenu>. Auf die verschiedenen Registerkarten finden Sie Listen der <guimenu>Attribute</guimenu>, <guimenu>Metadaten</guimenu>, <guimenu>Leistungsindikatoren</guimenu> sowie ein grafisches <guimenu>Histogramm</guimenu> der Schreib- und Lesevorgänge.
   </para>
   <figure>
    <title>OSD-Details</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="dash_isd_details.png" width="80%" format="PNG"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="dash_isd_details.png" width="80%" format="PNG"/>
     </imageobject>
    </mediaobject>
   </figure>
   <tip>
    <title>Ausführen bestimmter Aufgaben für OSDs</title>
    <para>
     Wenn Sie auf den Namen eines OSD Nodes klicken, wird die Farbe seiner Tabellenzeile leicht geändert. Dies bedeutet, dass Sie nun eine Aufgabe für den Knoten ausführen können. Klicken Sie oben links in der Tabellenüberschrift auf den Pfeil nach unten und wählen Sie die gewünschte Aufgabe aus, z. B. <guimenu>Umfassender Scrub</guimenu>. Geben Sie optional einen erforderlichen Wert für die Aufgabe ein und bestätigen Sie die Ausführung für den Knoten.
    </para>
   </tip>
  </sect2>

  <sect2 xml:id="dahsboard-cluster-config">
   <title>Clusterkonfiguration</title>
   <para>
    Mit <menuchoice><guimenu>Cluster</guimenu><guimenu>Konfiguration</guimenu></menuchoice> erhalten Sie eine umfassende Liste der Ceph Cluster-Konfigurationsoptionen. Die Liste enthält den Namen der Option, ihre Kurzbeschreibung sowie ihre aktuellen Werte und die Standardwerte.
   </para>
   <figure>
    <title>Clusterkonfiguration</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="dash_cluster_config.png" width="70%" format="PNG"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="dash_cluster_config.png" width="70%" format="PNG"/>
     </imageobject>
    </mediaobject>
   </figure>
   <para>
    Wenn Sie auf eine bestimmte Optionszeile klicken, wird die betreffende Option hervorgehoben und es werden ausführliche Informationen angezeigt, z. B. der Wertetyp, der zulässige Mindest- und Höchstwert, ein Hinweis, ob die Option zur Laufzeit aktualisiert werden kann, und vieles mehr.
   </para>
   <para>
    Ist eine bestimmte Option hervorgehoben, können Sie ihre(n) Wert(e) mit der Schaltfläche <guimenu>Bearbeiten</guimenu> oben links in der Tabellenüberschrift bearbeiten. Bestätigen Sie die Änderungen mit <guimenu>Speichern</guimenu>.
   </para>
  </sect2>

  <sect2 xml:id="dashboard-cluster-crushmap">
   <title>CRUSH Map</title>
   <para>
    Mit <menuchoice><guimenu>Cluster</guimenu><guimenu>CRUSH map</guimenu></menuchoice> rufen Sie eine CRUSH-Zuordnung des Clusters ab. Weitere allgemeine Informationen zu CRUSH-Zuordnungen finden Sie in <xref linkend="op-crush"/>.
   </para>
   <para>
    Wenn Sie auf den Root, die Knoten oder die einzelnen OSDs klicken, werden ausführlichere Informationen angezeigt, z. B. das Crush-Gewicht, die Tiefe im Zuordnungsbaum, die Geräteklasse des OSD und vieles mehr.
   </para>
   <figure>
    <title>CRUSH Map</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="dash_crushmap.png" width="70%" format="PNG"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="dash_crushmap.png" width="70%" format="PNG"/>
     </imageobject>
    </mediaobject>
   </figure>
  </sect2>

  <sect2 xml:id="dashboard-cluster-mgr-plugins">
   <title>Manager-Module</title>
   <para>
    Mit <menuchoice><guimenu>Cluster</guimenu><guimenu>Manager-Module</guimenu></menuchoice> rufen Sie eine Liste der verfügbaren Ceph Manager-Module ab. Die Zeilen enthalten jeweils einen Modulnamen sowie einen Hinweis, ob das Modul derzeit aktiviert ist oder nicht.
   </para>
   <figure>
    <title>Manager-Module</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="dash_mgr_modules.png" width="50%" format="PNG"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="dash_mgr_modules.png" width="50%" format="PNG"/>
     </imageobject>
    </mediaobject>
   </figure>
   <para>
    Ist ein bestimmtes Modul hervorgehoben, werden dessen ausführliche Einstellungen in der Tabelle <guimenu>Details</guimenu> darunter angezeigt. Zum Bearbeiten klicken Sie oben links in der Tabellenüberschrift auf die Schaltfläche <guimenu>Bearbeiten</guimenu>. Bestätigen Sie die Änderungen mit <guimenu>Aktualisieren</guimenu>.
   </para>
  </sect2>

  <sect2 xml:id="dashboard-cluster-logs">
   <title>Protokolle</title>
   <para>
    Mit <menuchoice><guimenu>Cluster</guimenu><guimenu>Logs</guimenu></menuchoice> rufen Sie eine Liste der letzten Protokolleinträge des Clusters ab. Die Zeilen enthalten jeweils einen Zeitstempel, den Typ des Protokolleintrags sowie die protokollierte Meldung selbst.
   </para>
   <para>
    Auf der Registerkarte <guimenu>Revisionsprotokoll</guimenu> finden Sie die Protokolleinträge des 
Revisions-Subsystems. Kommandos zum Aktivieren oder Deaktivieren der Revision finden Sie in <xref linkend="dashboard-auditing"/>.
   </para>
   <figure>
    <title>Protokolle</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="dash_logs.png" width="70%" format="PNG"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="dash_logs.png" width="70%" format="PNG"/>
     </imageobject>
    </mediaobject>
   </figure>
  </sect2>
 </sect1>
 <sect1 xml:id="dashboard-pools">
  <title>Verwalten von Pools</title>

  <tip>
   <title>Weitere Informationen zu Pools</title>
   <para>
    Weitere allgemeine Informationen zu Ceph Pools finden Sie in <xref linkend="ceph-pools"/>. Spezifische Informationen zu Pools mit Löschcodierung finden Sie in <xref linkend="cha-ceph-erasure"/>.
   </para>
  </tip>

  <para>
   Klicken Sie zum Auflisten aller verfügbaren Pools im Hauptmenü auf <guimenu>Pools</guimenu>.
  </para>

  <para>
   Die Liste enthält den Namen, den Typ, die zugehörige Anwendung, den Platzierungsgruppenstatus, die Reproduktionsgröße, das Profil mit Löschcodierung, die Auslastung sowie die Lese-/Schreibstatistik der einzelnen Pools.
  </para>

  <figure>
   <title>Liste der Pools</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="oa_pools.png" width="90%" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="oa_pools.png" width="90%" format="PNG"/>
    </imageobject>
   </mediaobject>
  </figure>

  <para>
   Zum Abrufen ausführlicher Informationen zu einem Pool aktivieren Sie dessen Tabellenzeile.
  </para>

  <sect2 xml:id="dashboard-pools-create">
   <title>Hinzufügen eines neuen Pools</title>
   <para>
    Mit <guimenu>Hinzufügen</guimenu> oben links in der Pool-Tabelle fügen Sie einen neuen Pool ein. In das Pool-Formular können Sie den Namen, den Typ, die Anzahl der Platzierungsgruppen und weitere Informationen zum Pool eingeben, z. B. die Anwendungen, den Komprimierungsmodus und den Algorithmus des Pools. Im Pool-Formular wird automatisch die optimale Anzahl der Platzierungsgruppen für diesen Pool berechnet. Die Berechnung beruht auf der Anzahl der OSDs im Cluster und dem ausgewählten Pool-Typ mit den zugehörigen Einstellungen. Sobald die Anzahl der Platzierungsgruppen manuell festgelegt wird, wird sie durch eine berechnete Anzahl ersetzt. Bestätigen Sie mit <guimenu>Pool erstellen</guimenu>.
   </para>
   <figure>
    <title>Hinzufügen eines neuen Pools</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="oa_pools_add.png" width="70%" format="PNG"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="oa_pools_add.png" width="70%" format="PNG"/>
     </imageobject>
    </mediaobject>
   </figure>
  </sect2>

  <sect2 xml:id="dashboard-pools-delete">
   <title>Löschen von Pools</title>
   <para>
    Zum Löschen eines Pools klicken Sie auf dessen Tabellenzeile und dann oben links in der Pool-Tabelle auf <guimenu>Löschen</guimenu>.
   </para>
  </sect2>

  <sect2 xml:id="dashboard-pools-edit">
   <title>Bearbeiten der Optionen eines Pools</title>
   <para>
    Zum Bearbeiten der Optionen eines Pools klicken Sie auf dessen Tabellenzeile und dann oben links in der Pool-Tabelle auf <guimenu>Bearbeiten</guimenu>.
   </para>
   <para>
    Sie können den Namen des Pools ändern, die Anzahl der Platzierungsgruppen erhöhen sowie die Liste der Pool-Anwendungen und die Komprimierungseinstellungen ändern. Bestätigen Sie mit <guimenu>Pool bearbeiten</guimenu>.
   </para>
  </sect2>
 </sect1>
 <sect1 xml:id="dashboard-rbds">
  <title>Verwalten von RADOS Block Devices</title>

  <para>
   Klicken Sie zum Auflisten aller verfügbaren RADOS Block Devices (RBDs) im Hauptmenü auf <menuchoice><guimenu>Block</guimenu><guimenu>Images</guimenu></menuchoice>.
  </para>

  <para>
   Die Liste enthält kurze Informationen zum Gerät, z. B. den Namen des Geräts, den Namen des zugehörigen Pools, die Größe des Geräts sowie die Anzahl und Größe der Objekte auf dem Gerät.
  </para>

  <figure>
   <title>Liste der RBD-Images</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="dash_rbd_images.png" width="90%" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="dash_rbd_images.png" width="90%" format="PNG"/>
    </imageobject>
   </mediaobject>
  </figure>

  <sect2 xml:id="dashboard-rbds-details">
   <title>Abrufen von Details zu RBDs</title>
   <para>
    Zum Abrufen ausführlicher Informationen zu einem Gerät klicken Sie auf dessen Zeile in der Tabelle:
   </para>
   <figure>
    <title>RBD-Details</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="dash_rbd_images_details.png" width="40%" format="PNG"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="dash_rbd_images_details.png" width="40%" format="PNG"/>
     </imageobject>
    </mediaobject>
   </figure>
  </sect2>

  <sect2 xml:id="dashboard-rbds-configuration">
   <title>Abrufen der RBD-Konfiguration</title>
   <para>
    Zum Abrufen der ausführlichen Konfiguration eines Geräts klicken Sie auf dessen Zeile in der Tabelle und dann in der unteren Tabelle auf die Registerkarte <guimenu>Konfiguration</guimenu>:
   </para>
   <figure>
    <title>RBD-Konfiguration</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="dash_rbd_images_config.png" width="40%" format="PNG"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="dash_rbd_images_config.png" width="40%" format="PNG"/>
     </imageobject>
    </mediaobject>
   </figure>
  </sect2>

  <sect2 xml:id="dashboard-rbds-create">
   <title>Erstellen von RBDs</title>
   <para>
    Klicken Sie zum Hinzufügen eines Geräts oben links in der Tabellenüberschrift auf <guimenu>Hinzufügen</guimenu> und gehen Sie im Bildschirm <guimenu>RBD erstellen</guimenu> folgendermaßen vor:
   </para>
   <figure>
    <title>Hinzufügen eines neuen RBD</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="oa_rbd_add.png" width="90%" format="PNG"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="oa_rbd_add.png" width="90%" format="PNG"/>
     </imageobject>
    </mediaobject>
   </figure>
   <procedure>
    <step>
     <para>
      Geben Sie den Namen des neuen Geräts ein. Informationen zu Benennungseinschränkungen finden Sie im <xref linkend="sysreq-naming"/>.
     </para>
    </step>
    <step>
     <para>
      Wählen Sie den Pool mit der zugewiesenen „rbd“-Anwendung aus, von dem aus das neue RBD-Gerät erstellt werden soll.
     </para>
    </step>
    <step>
     <para>
      Geben Sie die Größe des neuen Geräts an.
     </para>
    </step>
    <step>
     <para>
      Legen Sie zusätzliche Optionen für das Gerät fest. Zum Abstimmen der Geräteparameter klicken Sie auf<guimenu>Erweitert</guimenu> und geben Sie Werte für die Objektgröße, die Stripe-Einheit oder die Stripe-Anzahl ein. Sollen Grenzwerte für Quality of Service (QoS) festgelegt werden, klicken Sie auf <guimenu>Quality of Service</guimenu> und geben Sie die Werte ein.
     </para>
    </step>
    <step>
     <para>
      Bestätigen Sie mit <guimenu>RBD erstellen</guimenu>.
     </para>
    </step>
   </procedure>
  </sect2>

  <sect2 xml:id="dashboard-rbd-delete">
   <title>Löschen von RBDs</title>
   <para>
    Zum Löschen eines Geräts klicken Sie auf dessen Zeile in der Tabelle und dann oben links in der Tabellenüberschrift auf <guimenu>Löschen</guimenu>. Bestätigen Sie den Löschvorgang mit <guimenu>RBD löschen</guimenu>.
   </para>
   <tip>
    <title>Verschieben von RBDs in den Papierkorb</title>
    <para>
     Das Löschen eines RBDs kann nicht rückgängig gemacht werden. Wenn Sie stattdessen die Option <guimenu>In Papierkorb verschieben</guimenu> wählen, können Sie das Gerät später wiederherstellen. Wählen Sie das Gerät hierzu auf der Registerkarte <guimenu>Papierkorb</guimenu> der Haupttabelle aus und klicken Sie oben links in der Tabellenüberschrift auf <guimenu>Wiederherstellen</guimenu>.
    </para>
   </tip>
  </sect2>

  <sect2 xml:id="dashboard-rbds-snapshots">
   <title>RADOS Block Device-Snapshots</title>
   <para>
    Zum Erstellen eines RADOS Block Device-Snapshots klicken Sie auf die Tabellenzeile des Geräts und dann auf der Registerkarte <guimenu>Snapshots</guimenu> unterhalb der Haupttabelle auf <guimenu>Erstellen</guimenu> oben links in der Tabellenüberschrift. Geben Sie den Namen des Snapshots ein und bestätigen Sie mit <guimenu>Snapshot erstellen</guimenu>.
   </para>
   <para>
    Wenn Sie einen Snapshot ausgewählt haben, können Sie weitere Aktionen für das Gerät durchführen, z. B. Umbenennen, Schützen, Klonen, Kopieren oder Löschen. Mit <guimenu>Rollback</guimenu> wird der Zustand des Geräts vom aktuellen Snapshot wiederhergestellt.
   </para>
   <figure>
    <title>RBD-Snapshots</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="dash_rbd_images_snapshots.png" width="70%" format="PNG"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="dash_rbd_images_snapshots.png" width="70%" format="PNG"/>
     </imageobject>
    </mediaobject>
   </figure>
  </sect2>

  <sect2 xml:id="dashboard-iscsi">
   <title>Verwalten von iSCSI Gateways</title>
   <tip>
    <title>Weitere Informationen zu iSCSI Gateways</title>
    <para>
     Weitere Informationen zu iSCSI Gateways finden Sie im <xref linkend="cha-ceph-as-iscsi"/> und <xref linkend="cha-ceph-iscsi"/>.
    </para>
   </tip>
   <para>
    Klicken Sie zum Auflisten aller verfügbaren Gateways und zugeordneten Images im Hauptmenü auf <menuchoice><guimenu>Block</guimenu><guimenu>iSCSI</guimenu></menuchoice>. Die Registerkarte <guimenu>Übersicht</guimenu> mit eine Liste der derzeit konfigurierten iSCSI-Gateways und zugeordneten RBD-Images wird geöffnet.
   </para>
   <para>
    Die Tabelle <guimenu>Gateways</guimenu> enthält den Status der einzelnen Gateways, die Anzahl der iSCSI-Ziele die Anzahl der Sitzungen. Die Tabelle <guimenu>Images</guimenu> enthält den Namen der einzelnen zugeordneten Images, den Backstore-Typ des zugehörigen Pool-Namens und weitere statistische Daten.
   </para>
   <para>
    Die Registerkarte <guimenu>Ziele</guimenu> enthält eine Liste der derzeit konfigurierten iSCSI-Ziele.
   </para>
   <figure>
    <title>Liste der iSCSI-Ziele</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="dash_igws.png" width="90%" format="PNG"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="dash_igws.png" width="90%" format="PNG"/>
     </imageobject>
    </mediaobject>
   </figure>
   <para>
    Zum Abrufen ausführlicher Informationen zu einem Ziel aktivieren Sie dessen Tabellenzeile. Eine Baumstruktur mit den Datenträgern, Portalen, Initiatoren und Gruppen wird geöffnet. Wenn Sie auf ein Element klicken, wird es erweitert und sein Inhalt wird angezeigt, optional mit einer zugehörigen Konfiguration in der Tabelle rechts.
   </para>
   <figure>
    <title>Details zu iSCSI-Zielen</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="dash_igws_status.png" width="40%" format="PNG"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="dash_igws_status.png" width="40%" format="PNG"/>
     </imageobject>
    </mediaobject>
   </figure>
   <sect3 xml:id="dashboard-iscsi-create">
    <title>Hinzufügen von iSCSI-Zielen</title>
    <para>
     Klicken Sie zum Hinzufügen eines neuen iSCSI-Ziels links oben in der Tabelle <guimenu>Ziele</guimenu> auf <guimenu>Hinzufügen</guimenu> und geben Sie die erforderlichen Informationen ein.
    </para>
    <figure>
     <title>Hinzufügen eines neuen Ziels</title>
     <mediaobject>
      <imageobject role="fo">
       <imagedata fileref="dash_igws_add.png" width="70%" format="PNG"/>
      </imageobject>
      <imageobject role="html">
       <imagedata fileref="dash_igws_add.png" width="70%" format="PNG"/>
      </imageobject>
     </mediaobject>
    </figure>
    <procedure>
     <step>
      <para>
       Geben Sie die Zieladresse des neuen Gateways ein.
      </para>
     </step>
     <step>
      <para>
       Klicken Sie auf <guimenu>Portal hinzufügen</guimenu> und wählen Sie ein oder mehrere iSCSI-Portale aus der Liste aus.
      </para>
     </step>
     <step>
      <para>
       Klicken Sie auf <guimenu>Image hinzufügen</guimenu> und wählen Sie ein oder mehrere RBD-Images für das Gateway aus.
      </para>
     </step>
     <step>
      <para>
       Wenn Sie für den Zugriff auf das Gateway eine Authentifizierung verwenden müssen, aktivieren Sie das Kontrollkästchen <guimenu>Authentifizierung</guimenu> und geben Sie den Berechtigungsnachweis ein. Weitere erweiterte Authentifizierungsoptionen finden Sie nach Aktivieren von <guimenu>Mutual authentication</guimenu> (Gegenseitige Authentifizierung) und <guimenu>Discovery authentication</guimenu> (Ermittlungsauthentifizierung).
      </para>
     </step>
     <step>
      <para>
       Bestätigen Sie mit <guimenu>Ziel erstellen</guimenu>.
      </para>
     </step>
    </procedure>
   </sect3>
   <sect3 xml:id="dashboard-iscsi-edit">
    <title>Bearbeiten von iSCSI-Zielen</title>
    <para>
     Zum Bearbeiten eines vorhandenen iSCSI-Ziels klicken Sie auf dessen Zeile in der Tabelle <guimenu>Ziele</guimenu> und dann oben links in der Tabelle auf <guimenu>Bearbeiten</guimenu>.
    </para>
    <para>
     Sie können dann das iSCSI-Ziel bearbeiten, Portale hinzufügen oder löschen und entsprechende RBD-Images hinzufügen oder löschen. Außerdem haben Sie die Möglichkeit, die Authentifizierungsoptionen für das Gateway anzupassen.
    </para>
   </sect3>
   <sect3 xml:id="dashboard-iscsi-delete">
    <title>Löschen von iSCSI-Zielen</title>
    <para>
     Zum Löschen eines iSCSI-Ziels klicken Sie auf dessen Tabellenzeile und dann oben links in der Tabelle auf <guimenu>Löschen</guimenu>. Wählen Sie <guimenu>Ja, ich bin sicher</guimenu> und bestätigen Sie mit <guimenu>iSCSI löschen</guimenu>.
    </para>
   </sect3>
  </sect2>

  <sect2 xml:id="dash-rbd-qos">
   <title>RBD-Quality of Service (QoS)</title>
   <tip>
    <title>Weiterführende Informationen</title>
    <para>
     Allgemeine Informationen und eine Beschreibung der RBD-QoS-Konfigurationsoptionen finden Sie in <xref linkend="rbd-qos"/>.
    </para>
   </tip>
   <para>
    Die QoS-Optionen können auf verschiedenen Ebenen konfiguriert werden.
   </para>
   <itemizedlist>
    <listitem>
     <para>
      Global
     </para>
    </listitem>
    <listitem>
     <para>
      Für einzelne Pools
     </para>
    </listitem>
    <listitem>
     <para>
      Für einzelne Images
     </para>
    </listitem>
   </itemizedlist>
   <para>
    Die <emphasis>globale</emphasis> Konfiguration befindet sich an oberster Stelle in der Liste und wird für alle neu erstellten RBD-Images herangezogen, außerdem für alle Images, in denen diese Werte in der Pool- oder RBD-Image-Schicht nicht überschrieben werden. Ein global festgelegter Optionswert kann für einzelne Pools oder Images überschrieben werden. Die für einen Pool festgelegten Optionen werden für alle RBD-Images dieses Pools übernommen, sofern sie nicht von einer Konfigurationsoption in einem Image überschrieben werden. Die für ein Image festgelegten Optionen überschreiben die für einen Pool festgelegten Optionen sowie die global festgelegten Optionen.
   </para>
   <para>
    Auf diese Weise können Sie globale Standardwerte definieren, für alle RBD-Images eines bestimmten Pools anpassen und dann die Poolkonfiguration für einzelne RBD-Images überschreiben.
   </para>
   <sect3 xml:id="dash-rbd-qos-global">
    <title>Globale Konfiguration von Optionen</title>
    <para>
     Zur globalen Konfiguration von RBD-Optionen wählen Sie <menuchoice><guimenu>Cluster</guimenu>
     <guimenu>Konfiguration</guimenu></menuchoice> im Hauptmenü.
    </para>
    <para>
     Mit <menuchoice><guimenu>Ebene</guimenu>
     <guimenu>Erweitert</guimenu></menuchoice> erhalten Sie eine Liste aller verfügbaren globalen Konfigurationsoptionen. Filtern Sie die Ergebnisse der Tabelle dann nach „rbd_qos“ im Suchfeld. Damit wird eine Liste aller verfügbaren Konfigurationsoptionen für QoS angezeigt. Zum Ändern eines Werts klicken Sie auf dessen Tabellenzeile und dann oben links in der Tabelle auf <guimenu>Bearbeiten</guimenu>. Das Dialogfeld <guimenu>Bearbeiten</guimenu> enthält sechs Felder für die Eingabe von Werten. Die RBD-Konfigurationsoptionswerte müssen im Textfeld <guimenu>mgr</guimenu> angegeben werden. Im Gegensatz zu anderen Dialogfeldern können Sie den Wert in diesem Dialogfeld nicht in bequemen Einheiten angeben. Sie müssen diese Werte entweder in Byte oder in IOPS angeben, je nach bearbeiteter Option.
    </para>
   </sect3>
   <sect3 xml:id="dash-rbd-qos-pool-create">
    <title>Konfigurieren von Optionen für einen neuen Pool</title>
    <para>
     Zum Erstellen eines neuen Pools und zum Konfigurieren von RBD-Konfigurationsoptionen klicken Sie auf <menuchoice><guimenu>Pools</guimenu>
     <guimenu>Erstellen</guimenu></menuchoice>. Wählen Sie den Pooltyp <guimenu>replicated</guimenu> aus. Ergänzen Sie den Pool dann mit dem Anwendung-Tag <guimenu>rbd</guimenu>, damit Sie die RBD-QoS-Optionen konfigurieren können.
    </para>
    <note>
     <para>
      Bei einem Pool mit Löschcodierung können keine RBD-QoS-Konfigurationsoptionen konfiguriert werden. Zum Konfigurieren der RBD-QoS-Optionen für Pools mit Löschcodierung müssen Sie den reproduzierten Metadaten-Pool eines RBD-Images bearbeiten. Die Konfiguration wird dann für den Daten-Pool mit Löschcodierung dieses Images übernommen.
     </para>
    </note>
   </sect3>
   <sect3 xml:id="dash-rbd-qos-pool-edit">
    <title>Konfigurieren von Optionen für einen vorhandenen Pool</title>
    <para>
     Zum Konfigurieren von RBD-QoS-Optionen für einen vorhandenen Pool klicken Sie auf <guimenu>Pools</guimenu>, dann auf die Tabellenzeile des Pools und dann oben links in der Tabelle auf <guimenu>Bearbeiten</guimenu>.
    </para>
    <para>
     Im Dialogfeld wird der Abschnitt <guimenu>RBD-Konfiguration</guimenu> angezeigt, gefolgt vom Abschnitt <guimenu>Quality of Service</guimenu>.
    </para>
    <note>
     <para>
      Wenn weder der Abschnitt <guimenu>RBD-Konfiguration</guimenu> noch der Abschnitt <guimenu>Quality of Service</guimenu> angezeigt wird, bearbeiten Sie entweder einen Pool mit <emphasis>Löschcodierung</emphasis>, bei dem keine RBD-Konfigurationsoptionen festgelegt werden können, oder der Pool ist nicht für die Verwendung durch RBD-Images konfiguriert. Im letzteren Fall weisen Sie dem Pool das Anwendung-Tag <guimenu>rbd</guimenu> zu; hiermit werden die entsprechenden Konfigurationsabschnitte angezeigt.
     </para>
    </note>
   </sect3>
   <sect3 xml:id="dash-rbd-qos-qos">
    <title>Konfigurationsoptionen</title>
    <para>
     Erweitern Sie die Konfigurationsoptionen mit <guimenu>Quality of Service +</guimenu>. Eine Liste aller verfügbaren Optionen wird angezeigt. Die Einheiten der Konfigurationsoptionen werden bereits in den Textfeldern angezeigt. Bei Optionen mit Byte pro Sekunde (BPS) können Sie Abkürzungen wie „1M“ oder „5G“ eingeben. Diese werden automatisch in „1 MB/s“ bzw. „5 GB/s“ umgewandelt.
    </para>
    <para>
     Mit der Schaltfläche zum Zurücksetzen rechts neben den einzelnen Textfeldern können Sie die für den Pool festgelegten Werte entfernen. Die Konfigurationswerte für global konfigurierte Optionen oder für RBD-Images werden hiermit nicht entfernt.
    </para>
   </sect3>
   <sect3 xml:id="dash-rbd-qos-image-create">
    <title>Erstellen von RBD-QoS-Optionen mit einem neuen RBD-Image</title>
    <para>
     Zum Erstellen eines RBD-Images und zum Festlegen von RBD-QoS-Optionen für dieses Image klicken Sie auf <menuchoice><guimenu>Block</guimenu>
     <guimenu>Images</guimenu></menuchoice> und dann auf <guimenu>Erstellen</guimenu>. Öffnen Sie den Abschnitt zur erweiterten Konfiguration mit <guimenu>Erweitert</guimenu>. Öffnen Sie alle verfügbaren Konfigurationsoptionen mit <guimenu>Quality of Service</guimenu>.
    </para>
   </sect3>
   <sect3 xml:id="dash-rbd-qos-image-edit">
    <title>Bearbeiten von RBD-QoS-Optionen für vorhandene Images</title>
    <para>
     Zum Bearbeiten von RBD-QoS-Optionen für ein vorhandenes Image wählen Sie <menuchoice><guimenu>Block</guimenu>
     <guimenu>Images</guimenu></menuchoice>, klicken auf die Tabellenzeile des Pools und schließlich auf <guimenu>Bearbeiten</guimenu>. Das Dialogfeld „Bearbeiten“ wird geöffnet. Öffnen Sie den Abschnitt zur erweiterten Konfiguration mit <guimenu>Erweitert</guimenu>. Öffnen Sie alle verfügbaren Konfigurationsoptionen mit <guimenu>Quality of Service</guimenu>.
    </para>
   </sect3>
   <sect3 xml:id="dash-rbd-qos-image-copy">
    <title>Ändern von Konfigurationsoptionen beim Kopieren oder Klonen von Images</title>
    <para>
     Wenn ein RBD-Image geklont oder kopiert wird, werden die für dieses Image festgelegten Werte standardmäßig ebenfalls kopiert. Sollen diese Werte beim Kopieren oder Klonen geändert werden, geben Sie die aktualisierten Konfigurationswerte im Dialogfeld zum Kopieren/Klonen ein, ebenso wie beim Erstellen oder Bearbeiten eines RBD-Images. Hiermit werden ausschließlich die Werte für das zu kopierende oder zu klonende RBD-Image festgelegt (oder zurückgesetzt). Dieser Vorgang verändert weder die Konfiguration des Quell-RBD-Images noch die globale Konfiguration.
    </para>
    <para>
     Wenn Sie den Optionswert beim Kopieren/Klonen zurücksetzen, wird in diesem Image kein Wert für diese Option festgelegt. Dies bedeutet, dass ein Wert für diese Option herangezogen wird, der für den übergeordneten Pool festgelegt wurde, sofern der betreffende Wert im übergeordneten Pool konfiguriert ist. Ansonsten wird der globale Standardwert verwendet.
    </para>
   </sect3>
  </sect2>

  <sect2 xml:id="dash-rbd-mirror">
   <title>RBD-Spiegelung</title>
   <tip>
    <title>Allgemeine Informationen</title>
    <para>
     Allgemeine Informationen und Anweisungen für die RADOS Block Device-Spiegelung über die Kommandozeile finden Sie in <xref linkend="ceph-rbd-mirror"/>.
    </para>
   </tip>
   <para>
    Mit dem Ceph Dashboard können Sie die Reproduktion von RBD-Images zwischen mindestens zwei Clustern konfigurieren.
   </para>
   <sect3 xml:id="rbd-mirror-primary-secondary">
    <title>Primärer Cluster und sekundäre(r) Cluster</title>
    <para>
     Im <emphasis>primären</emphasis> Cluster wurde der ursprüngliche Pool mit Images erstellt. In den <emphasis>sekundären</emphasis> Clustern werden der Pool/die Images aus dem <emphasis>primären</emphasis> Cluster reproduziert.
    </para>
    <note>
     <title>Relative Namen</title>
     <para>
      Die Bezeichnungen <emphasis>primär</emphasis> und <emphasis>sekundär</emphasis> sind im Zusammenhang mit der Reproduktion relativ, da sie sich eher auf einzelne Pools als auf Cluster beziehen. Bei einer bidirektionalen Reproduktion kann ein Pool beispielsweise aus dem <emphasis>primären</emphasis> in den <emphasis>sekundären</emphasis> Cluster gespiegelt werden, während ein anderer Pool aus dem <emphasis>sekundären</emphasis> in den <emphasis>primären</emphasis> Cluster gespiegelt wird.
     </para>
    </note>
   </sect3>
   <sect3 xml:id="rbd-mirroring-replication-modes">
    <title>Reproduktionsmodi</title>
    <para>
     Es gibt zwei Modi der Datenreproduktion:
    </para>
    <itemizedlist>
     <listitem>
      <para>
       Im <emphasis>Pool</emphasis>-Modus reproduzieren Sie alle RBD-Images in einem Pool.
      </para>
     </listitem>
     <listitem>
      <para>
       Im <emphasis>Image</emphasis>-Modus können Sie die Spiegelung wahlweise nur für ein Image oder für bestimmte Images in einem Pool aktivieren.
      </para>
     </listitem>
    </itemizedlist>
   </sect3>
   <sect3 xml:id="rbd-mirror-gui-daemon">
    <title>Konfigurieren des <systemitem class="daemon">rbd-mirror</systemitem>-Daemons</title>
    <para>
     Der <systemitem class="daemon">rbd-mirror</systemitem>-Daemon führt die eigentliche Cluster-Datenreproduktion durch. So können Sie ihn installieren, konfigurieren und ausführen:
    </para>
    <procedure>
     <step>
      <para>
       Der <systemitem class="daemon">rbd-mirror</systemitem>-Daemon muss auf einem Knoten im <emphasis>sekundären</emphasis> Cluster ausgeführt werden, jedoch nicht auf dem Admin Node. Da er standardmäßig nicht installiert ist, installieren Sie ihn:
      </para>
<screen><prompt>root@minion &gt; </prompt>zypper install rbd-mirror</screen>
     </step>
     <step>
      <para>
       Erstellen Sie auf dem <emphasis>primären</emphasis> Cluster eine eindeutige Ceph-Benutzer-ID für den <systemitem class="daemon">rbd-mirror</systemitem>-Daemon-Prozess. In diesem Beispiel lautet die Benutzer-ID „uid1“:
      </para>
<screen><prompt>cephadm@adm &gt; </prompt>ceph auth get-or-create client.rbd-mirror.uid1 \
 mon 'profile rbd-mirror' osd 'profile rbd'
[client.rbd-mirror.uid1]
	key = AQBbDJddZKLBIxAAdsmSCCjXoKwzGkGmCpUQ9g==</screen>
     </step>
     <step>
      <para>
       Erstellen Sie auf dem Knoten, auf dem Sie zuvor das Paket
       <package>rbd-mirror</package> auf dem <emphasis>sekundären</emphasis> Cluster erstellt haben, denselben Ceph-Benutzer und speichern Sie die Ausgabe in einen Schlüsselbund:
      </para>
<screen><prompt>root@minion &gt; </prompt>ceph auth get-or-create client.rbd-mirror.uid1 \
 mon 'profile rbd-mirror' osd 'profile rbd' \
 &gt; /etc/ceph/ceph.client.rbd-mirror.uid1.keyring</screen>
     </step>
     <step>
      <para>
       Aktivieren Sie auf demselben Knoten den Service <systemitem class="daemon">rbd-mirror</systemitem> und führen Sie ihn aus:
      </para>
<screen><prompt>root@minion &gt; </prompt>systemctl enable ceph-rbd-mirror@rbd-mirror.uid1
<prompt>root@minion &gt; </prompt>systemctl start ceph-rbd-mirror@rbd-mirror.uid1
<prompt>root@minion &gt; </prompt>systemctl status ceph-rbd-mirror@rbd-mirror.uid1
● ceph-rbd-mirror@rbd-mirror.uid1.service - Ceph rbd mirror daemon
   Loaded: loaded (/usr/lib/systemd/system/ceph-rbd-mirror@.service; enabled; vendor preset: disabled)
   Active: active (running) since Fri 2019-10-04 07:48:53 EDT; 2 days ago
 Main PID: 212434 (rbd-mirror)
    Tasks: 47
   CGroup: /system.slice/system-ceph\x2drbd\x2dmirror.slice/ceph-rbd-mirror@rbd-mirror.uid1.service
           └─212434 /usr/bin/rbd-mirror -f --cluster ceph --id rbd-mirror.test --setuser ceph --setgroup ceph

Oct 04 07:48:53 doc-ses6min4 systemd[1]: Started Ceph rbd mirror daemon.
</screen>
     </step>
     <step>
      <para>
       Navigieren Sie im Ceph Dashboard des <emphasis>sekundären</emphasis> Clusters zu <menuchoice><guimenu>Block</guimenu><guimenu>Spiegelung</guimenu></menuchoice>. Die Tabelle <guimenu>Daemons</guimenu> links zeigt die aktiv ausgeführten <systemitem>rbd-mirror</systemitem>-Daemons und ihren Zustand.
      </para>
      <figure>
       <title>Ausführen von <systemitem class="daemon">rbd-mirror</systemitem>-Daemons</title>
       <mediaobject>
        <imageobject role="fo">
         <imagedata fileref="rbd-mirror-daemon.png" width="75%"/>
        </imageobject>
        <imageobject role="html">
         <imagedata fileref="rbd-mirror-daemon.png" width="75%"/>
        </imageobject>
       </mediaobject>
      </figure>
     </step>
    </procedure>
   </sect3>
   <sect3 xml:id="rbd-mirror-gui">
    <title>Konfigurieren der Poolreproduktion in Ceph Dashboard</title>
    <para>
     Der <systemitem class="daemon">rbd-mirror</systemitem>-Daemon benötigt Zugriff auf den primären Cluster, damit die RBD-Images gespiegelt werden können. Sie müssen daher ein <emphasis>Peer</emphasis>-Ceph-Benutzerkonto auf dem primären Cluster erstellen und dies dem sekundären Cluster über den Schlüsselbund mitteilen:
    </para>
    <procedure>
     <step>
      <para>
       Erstellen Sie auf dem <emphasis>primären</emphasis> Cluster einen neuen Benutzer „client.rbd-mirror-peer“ für die Datenreproduktion:
      </para>
<screen><prompt>cephadm@adm &gt; </prompt>ceph auth get-or-create client.rbd-mirror-peer \
 mon 'profile rbd' osd 'profile rbd'
[client.rbd-mirror-peer]
	key = AQBbDJddZKLBIxAAdsmSCCjXoKwzGkGmCpUQ9g==</screen>
     </step>
     <step>
      <para>
       Erstellen Sie sowohl auf dem <emphasis>primären</emphasis> als auch auf dem <emphasis>sekundären</emphasis> Cluster einen Pool mit demselben Namen und weisen Sie diesem die Anwendung „rbd“ zu. Weitere Informationen zum Erstellen eines neuen Pools finden Sie in <xref linkend="dashboard-pools-create"/>.
      </para>
      <figure>
       <title>Erstellen eines Pools mit der RBD-Anwendung</title>
       <mediaobject>
        <imageobject role="fo">
         <imagedata fileref="rbd-mirror-pool.png" width="75%"/>
        </imageobject>
        <imageobject role="html">
         <imagedata fileref="rbd-mirror-pool.png" width="75%"/>
        </imageobject>
       </mediaobject>
      </figure>
     </step>
     <step>
      <para>
       Navigieren Sie im Dashboard des <emphasis>primären</emphasis> und des <emphasis>sekundären</emphasis> Clusters zu <menuchoice><guimenu>Block</guimenu><guimenu>Spiegelung</guimenu></menuchoice>. Klicken Sie in der Tabelle <guimenu>Pools</guimenu> rechts auf den Namen des zu reproduzierenden Pools und dann auf <guimenu>Bearbeitungsmodus</guimenu> und wählen Sie den Reproduktionsmodus aus. In diesem Beispiel wird der <emphasis>Pool</emphasis>-Reproduktionsmodus herangezogen, bei dem alle Images in einem bestimmten Pool reproduziert werden. Bestätigen Sie mit <guimenu>Aktualisieren</guimenu>.
      </para>
      <figure>
       <title>Konfigurieren des Reproduktionsmodus</title>
       <mediaobject>
        <imageobject role="fo">
         <imagedata fileref="rbd-mirror-pool-mode.png" width="75%"/>
        </imageobject>
        <imageobject role="html">
         <imagedata fileref="rbd-mirror-pool-mode.png" width="75%"/>
        </imageobject>
       </mediaobject>
      </figure>
      <important>
       <title>Fehler- oder Warnmeldung im primären Cluster</title>
       <para>
        Nach dem Aktualisieren des Reproduktionsmodus wird eine Fehler- oder Warnflagge in der entsprechenden rechten Spalte angezeigt. Der Grund hierfür ist, dass dem Pool bislang noch kein Peer-Benutzer für die Reproduktion zugewiesen wurde. Ignorieren Sie diese Flagge im <emphasis>primären</emphasis> Cluster, da der Peer-Benutzer ausschließlich im <emphasis>sekundären</emphasis> Cluster zugewiesen wird.
       </para>
      </important>
     </step>
     <step>
      <para>
       Navigieren Sie im Dashboard des <emphasis>sekundären</emphasis> Clusters zu <menuchoice><guimenu>Block</guimenu><guimenu>Spiegelung</guimenu></menuchoice>. Registrieren Sie dem Benutzerschlüsselbund „client.rbd-mirror-peer“ für den gespiegelten Pool. Klicken Sie hierzu auf den Namen des Pools und wählen Sie <guimenu>Peer hinzufügen</guimenu>. Geben Sie die Details für den <emphasis>primären</emphasis> Cluster an:
      </para>
      <figure>
       <title>Hinzufügen des Peer-Berechtigungsnachweises</title>
       <mediaobject>
        <imageobject role="fo">
         <imagedata fileref="rbd-mirror-pool-peer.png" width="75%"/>
        </imageobject>
        <imageobject role="html">
         <imagedata fileref="rbd-mirror-pool-peer.png" width="75%"/>
        </imageobject>
       </mediaobject>
      </figure>
      <variablelist>
       <varlistentry>
        <term><guimenu>Clustername</guimenu></term>
        <listitem>
         <para>
          Eine willkürliche, eindeutige Zeichenkette, die den primären Cluster identifiziert, z. B. „primary“. Der Cluster-Name darf nicht mit dem tatsächlichen Namen des sekundären Clusters übereinstimmen.
         </para>
        </listitem>
       </varlistentry>
       <varlistentry>
        <term><guimenu>CephX-ID</guimenu></term>
        <listitem>
         <para>
          Die Ceph-Benutzer-ID, die Sie als Spiegelungs-Peer erstellt haben. In diesem Beispiel lautet sie „rbd-mirror-peer“.
         </para>
        </listitem>
       </varlistentry>
       <varlistentry>
        <term><guimenu>Adressen der Monitore</guimenu></term>
        <listitem>
         <para>
          Durch Komma getrennte Liste mit IP-Adressen/Hostnamen der Ceph Monitor Nodes im primären Cluster.
         </para>
        </listitem>
       </varlistentry>
       <varlistentry>
        <term><guimenu>CephX-Schlüssel</guimenu></term>
        <listitem>
         <para>
          Schlüssel für die Peer-Benutzer-ID. Zum Abrufen führen Sie folgendes (Beispiel-)Kommando im primären Cluster aus:
         </para>
<screen><prompt>cephadm@adm &gt; </prompt>ceph auth print_key client.rbd-mirror-peer</screen>
        </listitem>
       </varlistentry>
      </variablelist>
      <para>
       Bestätigen Sie mit <guimenu>Absenden</guimenu>.
      </para>
      <figure>
       <title>Liste der reproduzierten Pools</title>
       <mediaobject>
        <imageobject role="fo">
         <imagedata fileref="rbd-mirror-pool-list.png" width="75%"/>
        </imageobject>
        <imageobject role="html">
         <imagedata fileref="rbd-mirror-pool-list.png" width="75%"/>
        </imageobject>
       </mediaobject>
      </figure>
     </step>
    </procedure>
   </sect3>
   <sect3 xml:id="rbd-mirror-test">
    <title>Prüfen der Funktionsfähigkeit der RBD-Image-Reproduktion</title>
    <para>
     Wenn der <systemitem class="daemon">rbd-mirror</systemitem>-Daemon ausgeführt wird und die RBD-Image-Reproduktion im Ceph Dashboard konfiguriert ist, können Sie prüfen, ob die Reproduktion tatsächlich funktioniert:
    </para>
    <procedure>
     <step>
      <para>
       Erstellen Sie im Ceph Dashboard des <emphasis>primären</emphasis> Clusters ein RBD-Image und geben Sie den Pool, den Sie bereits für die Reproduktion erstellt haben, als dessen übergeordneten Pool an. Aktivieren Sie die Funktionen <option>Exklusive Sperre</option> und <option>Journaling</option> für das Image. Weitere Informationen zum Erstellen von RBD-Images finden Sie in <xref linkend="dashboard-rbds-create"/>.
      </para>
      <figure>
       <title>Neues RBD-Image</title>
       <mediaobject>
        <imageobject role="fo">
         <imagedata fileref="rbd-mirror-image.png" width="75%"/>
        </imageobject>
        <imageobject role="html">
         <imagedata fileref="rbd-mirror-image.png" width="75%"/>
        </imageobject>
       </mediaobject>
      </figure>
     </step>
     <step>
      <para>
       Sobald Sie das zu reproduzierende Image erstellt haben, öffnen Sie das Ceph Dashboard im <emphasis>sekundären</emphasis> Cluster und navigieren Sie zu <menuchoice><guimenu>Block</guimenu><guimenu>Spiegelung</guimenu></menuchoice>. Die Tabelle <guimenu>Pools</guimenu> rechts zeigt die Veränderung in der Anzahl der <guimenu># remote</guimenu>-Images und die Anzahl der <guimenu># lokalen</guimenu> Images wird synchronisiert.
      </para>
      <figure>
       <title>Synchronisiertes neues RBD-Image</title>
       <mediaobject>
        <imageobject role="fo">
         <imagedata fileref="rbd-mirror-pool-list-1.png" width="75%"/>
        </imageobject>
        <imageobject role="html">
         <imagedata fileref="rbd-mirror-pool-list-1.png" width="75%"/>
        </imageobject>
       </mediaobject>
      </figure>
      <tip>
       <title>Reproduktionsprozess</title>
       <para>
        Die Tabelle <guimenu>Images</guimenu> unten auf der Seite zeigt den Reproduktionsstatus der RBD-Images. Auf der Registerkarte <guimenu>Probleme</guimenu> werden eventuelle Probleme angezeigt, die Registerkarte <guimenu>Wird synchronisiert</guimenu> zeigt den Fortschritt der Image-Reproduktion und die Registerkarte <guimenu>Fertig</guimenu> enthält alle Images mit erfolgreicher Reproduktion.
       </para>
       <figure>
        <title>Reproduktionsstatus der RBD-Images</title>
        <mediaobject>
         <imageobject role="fo">
          <imagedata fileref="rbd-mirror-images-status.png" width="75%"/>
         </imageobject>
         <imageobject role="html">
          <imagedata fileref="rbd-mirror-images-status.png" width="75%"/>
         </imageobject>
        </mediaobject>
       </figure>
      </tip>
     </step>
     <step>
      <para>
       Schreiben Sie im <emphasis>primären</emphasis> Cluster Daten in das RBD-Image. Navigieren Sie im Ceph Dashboard des <emphasis>sekundären</emphasis> Clusters zu <menuchoice><guimenu>Block</guimenu><guimenu>Images</guimenu></menuchoice> und prüfen Sie, ob die Größe des entsprechenden Images wächst, während die Daten im primären Cluster geschrieben werden.
      </para>
     </step>
    </procedure>
   </sect3>
  </sect2>
 </sect1>
 <sect1 xml:id="dash-webui-nfs">
  <title>Verwalten von NFS Ganesha</title>

  <tip>
   <title>Weitere Informationen zu NFS Ganesha</title>
   <para>
    Weitere Informationen zu NFS Ganesha finden Sie in <xref linkend="cha-ceph-nfsganesha"/>.
   </para>
  </tip>

  <para>
   Klicken Sie zum Auflisten aller verfügbaren NFS-Exporte im Hauptmenü auf <guimenu>NFS</guimenu>.
  </para>

  <para>
   In der Liste werden das Verzeichnis, der Daemon-Hostname, der Typ des Speicher-Back-Ends und der Zugriffstyp der einzelnen Exporte angezeigt.
  </para>

  <figure>
   <title>Liste der NFS-Exporte</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="oa_nfs.png" width="90%" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="oa_nfs.png" width="90%" format="PNG"/>
    </imageobject>
   </mediaobject>
  </figure>

  <para>
   Zum Abrufen ausführlicher Informationen zu einem NFS-Export klicken Sie auf dessen Tabellenzeile.
  </para>

  <figure>
   <title>Details zu NFS-Exporten</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="oa_nfs_status.png" width="40%" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="oa_nfs_status.png" width="40%" format="PNG"/>
    </imageobject>
   </mediaobject>
  </figure>

  <sect2 xml:id="dash-webui-nfs-create">
   <title>Hinzufügen von NFS-Exporten</title>
   <para>
    Klicken Sie zum Hinzufügen eines neuen NFS-Exports links oben in der Tabelle der Exporte auf <guimenu>Hinzufügen</guimenu> und geben Sie die erforderlichen Informationen ein.
   </para>
   <figure>
    <title>Hinzufügen eines neuen NFS-Exports</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="oa_nfs_add.png" width="70%" format="PNG"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="oa_nfs_add.png" width="70%" format="PNG"/>
     </imageobject>
    </mediaobject>
   </figure>
   <procedure>
    <step>
     <para>
      Wählen Sie mindestens einen NFS Ganesha Daemon aus, der den Export ausführen soll.
     </para>
    </step>
    <step>
     <para>
      Wählen Sie ein Speicher-Back-End aus, entweder <guimenu>CephFS</guimenu> oder <guimenu>Object Gateway</guimenu>.
     </para>
    </step>
    <step>
     <para>
      Wählen Sie eine Benutzer-ID aus und legen Sie andere Back-End-spezifische Optionen fest.
     </para>
    </step>
    <step>
     <para>
      Geben Sie den Verzeichnispfad für den NFS-Export ein. Das Verzeichnis wird erstellt, falls es am Server noch nicht vorhanden ist.
     </para>
    </step>
    <step>
     <para>
      Legen Sie andere NFS-spezifische Optionen fest, z. B. die unterstützte NFS-Protokollversion, den Zugriffstyp, Squashing oder das Transportprotokoll.
     </para>
    </step>
    <step>
     <para>
      Wenn sie den Zugriff ausschließlich auf bestimmte Clients beschränken müssen, klicken Sie auf <guimenu>Clients hinzufügen</guimenu> und fügen Sie deren IP-Adressen zusammen mit dem Zugriffstyp und den Squashing-Optionen hinzu.
     </para>
    </step>
    <step>
     <para>
      Bestätigen Sie mit <guimenu>Absenden</guimenu>.
     </para>
    </step>
   </procedure>
  </sect2>

  <sect2 xml:id="dash-webui-nfs-delete">
   <title>Löschen von NFS-Exporten</title>
   <para>
    Zum Löschen eines Exports klicken Sie auf dessen Tabellenzeile und dann oben links in der Exporttabelle auf <guimenu>Löschen</guimenu>.
   </para>
  </sect2>

  <sect2 xml:id="dash-webui-nfs-edit">
   <title>Bearbeiten von NFS-Exporten</title>
   <para>
    Zum Bearbeiten eines Exports klicken Sie auf dessen Tabellenzeile und dann oben links in der Exporttabelle auf <guimenu>Bearbeiten</guimenu>.
   </para>
   <para>
    Sie können dann alle Details des NFS-Exports anpassen.
   </para>
   <figure>
    <title>Bearbeiten eines NFS-Exports</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="oa_nfs_edit.png" width="70%" format="PNG"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="oa_nfs_edit.png" width="70%" format="PNG"/>
     </imageobject>
    </mediaobject>
   </figure>
  </sect2>
 </sect1>
 <sect1 xml:id="dashboard-mds">
  <title>Verwalten von Ceph-Dateisystemen</title>

  <tip>
   <title>Weiterführende Informationen</title>
   <para>
    Weitere Informationen zu CephFS finden Sie in <xref linkend="cha-ceph-cephfs"/>.
   </para>
  </tip>

  <sect2 xml:id="dashboard-mds-overview">
   <title>Abrufen des CephFS-Überblicks</title>
   <para>
    Mit <guimenu>Dateisysteme</guimenu> im Hauptmenü rufen Sie einen Überblick der konfigurierten Dateisysteme ab. Die Haupttabelle zeigt den Namen und das Erstellungsdatum der einzelnen Dateisysteme und gibt an, ob ein Dateisystem aktiviert ist oder nicht.
   </para>
   <para>
    Wenn Sie auf die Tabellenzeile eines Dateisystems klicken, erhalten Sie Details zu dessen Rang und den Pools, die in das Dateisystem eingefügt wurden.
   </para>
   <figure>
    <title>CephFS-Details</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="dash_cephfs_details.png" width="70%" format="PNG"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="dash_cephfs_details.png" width="70%" format="PNG"/>
     </imageobject>
    </mediaobject>
   </figure>
   <para>
    Unten im Bildschirm werden Statistiken mit der Anzahl der zugehörigen MDS-Inodes und Client-Anfragen in Echtzeit angezeigt.
   </para>
  </sect2>
 </sect1>
 <sect1 xml:id="dashboard-ogw">
  <title>Verwalten von Object Gateways</title>

  <tip>
   <title>Weitere Informationen zum Object Gateway</title>
   <para>
    Weitere allgemeine Informationen zum Object Gateway finden Sie in <xref linkend="cha-ceph-gw"/>.
   </para>
  </tip>

  <sect2 xml:id="dashboard-ogw-view">
   <title>Abrufen von Object Gateways</title>
   <para>
    Zum Abrufen einer Liste der konfigurierten Object Gateways klicken Sie auf <menuchoice><guimenu>Object Gateway</guimenu><guimenu>Daemons</guimenu></menuchoice>. Die Liste enthält die ID des Gateways, den Hostnamen des Cluster Nodes, auf dem der Gateway Daemon ausgeführt wird, sowie die Versionsnummer des Gateways.
   </para>
   <para>
    Zum Abrufen ausführlicher Informationen zu einem Gateway klicken Sie auf dessen Tabellenzeile. Die Registerkarte <guimenu>Leistungsindikatoren</guimenu> enthält Details zu Lese-/Schreiboperationen und Cache-Statistiken.
   </para>
   <figure>
    <title>Gateway-Details</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="dash_ogw_details.png" width="70%" format="PNG"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="dash_ogw_details.png" width="70%" format="PNG"/>
     </imageobject>
    </mediaobject>
   </figure>
  </sect2>

  <sect2 xml:id="dashboard-ogw-user">
   <title>Verwalten von Object Gateway-Benutzern</title>
   <para>
    Mit <menuchoice><guimenu>Object Gateway</guimenu><guimenu>Benutzer</guimenu></menuchoice> erhalten Sie eine Liste der vorhandenen Object Gateway-Benutzer.
   </para>
   <para>
    Zum Abrufen von Details zu einem Benutzerkonto (z. B. Statusinformationen oder Details zu Benutzer-/Bucket-Kontingenten) klicken Sie auf die Tabellenzeile des Benutzers.
   </para>
   <figure>
    <title>Gateway-Benutzer</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="dash_ogw_users_details.png" width="70%" format="PNG"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="dash_ogw_users_details.png" width="70%" format="PNG"/>
     </imageobject>
    </mediaobject>
   </figure>
   <sect3 xml:id="dashboard-ogw-user-create">
    <title>Hinzufügen eines neuen Gateway-Benutzers</title>
    <para>
     Mit <guimenu>Hinzufügen</guimenu> oben links in der Tabellenüberschrift fügen Sie einen neuen Gateway-Benutzer ein. Geben Sie den Berechtigungsnachweis, Details zum S3-Schlüssel und das Benutzer-/Bucket-Kontingent ein und bestätigen Sie mit <guimenu>Hinzufügen</guimenu>.
    </para>
    <figure>
     <title>Hinzufügen eines neuen Gateway-Benutzers</title>
     <mediaobject>
      <imageobject role="fo">
       <imagedata fileref="dash_ogw_user_add.png" width="70%" format="PNG"/>
      </imageobject>
      <imageobject role="html">
       <imagedata fileref="dash_ogw_user_add.png" width="70%" format="PNG"/>
      </imageobject>
     </mediaobject>
    </figure>
   </sect3>
   <sect3 xml:id="dashboard-ogw-user-delete">
    <title>Löschen von Gateway-Benutzern</title>
    <para>
     Zum Löschen eines Gateway-Benutzers klicken Sie auf dessen Tabellenzeile und dann oben links in der Tabellenüberschrift auf <guimenu>Löschen</guimenu>. Aktivieren Sie das Kontrollkästchen <guimenu>Ja, ich bin sicher</guimenu> und bestätigen Sie mit <guimenu>Benutzer löschen</guimenu>.
    </para>
   </sect3>
   <sect3 xml:id="dashboard-ogw-user-edit">
    <title>Bearbeiten von Gateway-Benutzerdetails</title>
    <para>
     Zum Ändern der Details eines Gateway-Benutzers klicken Sie auf dessen Tabellenzeile und dann oben links in der Tabellenüberschrift auf <guimenu>Bearbeiten</guimenu>.
    </para>
    <para>
     Bearbeiten Sie die grundlegenden oder die zusätzlichen Benutzerinformationen, z. B. die Befähigungen, Schlüssel, Unterbenutzer und Kontingente. Bestätigen Sie mit <guimenu>Aktualisieren</guimenu>.
    </para>
    <para>
     Die Registerkarte <guimenu>Schlüssel</guimenu> enthält eine schreibgeschützte Liste der Gateway-Benutzer mit ihren Zugriffsschlüsseln und den geheimen Schlüsseln. Zum Abrufen der Schlüssel klicken Sie auf einen Benutzernamen in der Liste und dann oben links in der Tabellenüberschrift auf <guimenu>Anzeigen</guimenu>. Mit dem „Augensymbol“ im Dialogfeld <guimenu>S3-Schlüssel</guimenu> blenden Sie die Schlüssel ein, mit dem Zwischenablagensymbol kopieren Sie den entsprechenden Schlüssel in die Zwischenablage.
    </para>
   </sect3>
  </sect2>

  <sect2 xml:id="dashboard-ogw-bucket">
   <title>Verwalten der Object Gateway-Buckets</title>
   <para>
    Object Gateway(OGW)-Buckets setzen den Funktionsumfang von OpenStack Swift-Containern um. Object Gateway-Buckets fungieren als Container zum Speichern von Datenobjekten.
   </para>
   <para>
    Mit <menuchoice><guimenu>Object Gateway</guimenu><guimenu>Buckets</guimenu></menuchoice> rufen Sie eine Liste der OGW-Buckets ab.
   </para>
   <sect3 xml:id="dashboard-ogw-bucket-create">
    <title>Hinzufügen eines neuen Buckets</title>
    <para>
     Mit <guimenu>Hinzufügen</guimenu> oben links in der Tabellenüberschrift fügen Sie einen neuen Bucket ein. Geben Sie den Namen des Buckets ein und wählen Sie dessen Eigentümer aus. Bestätigen Sie Ihre Einstellung mit <guimenu>Add</guimenu> (Hinzufügen).
    </para>
   </sect3>
   <sect3 xml:id="dashboard-ogw-bucket-view">
    <title>Anzeigen der Bucket-Details</title>
    <para>
     Zum Abrufen ausführlicher Informationen zu einem OGW-Bucket klicken Sie auf dessen Tabellenzeile.
    </para>
    <figure>
     <title>Gateway Bucket-Details</title>
     <mediaobject>
      <imageobject role="fo">
       <imagedata fileref="dash_ogw_bucket_details.png" width="70%" format="PNG"/>
      </imageobject>
      <imageobject role="html">
       <imagedata fileref="dash_ogw_bucket_details.png" width="70%" format="PNG"/>
      </imageobject>
     </mediaobject>
    </figure>
    <tip>
     <title>Bucket Quota</title>
     <para>
      Unterhalb der Tabelle <guimenu>Details</guimenu> werden Details zu den Bucket-Kontingenteinstellungen angezeigt.
     </para>
    </tip>
   </sect3>
   <sect3 xml:id="dashboard-ogw-bucket-edit">
    <title>Aktualisieren des Eigentümers eines Buckets</title>
    <para>
     Klicken Sie auf eine Bucket-Tabellenzeile und dann oben links in der Tabellenüberschrift auf <guimenu>Bearbeiten</guimenu>.
    </para>
    <para>
     Aktualisieren Sie den Eigentümer des Buckets und bestätigen Sie mit <guimenu>Aktualisieren</guimenu>.
    </para>
   </sect3>
   <sect3 xml:id="dashboard-ogw-bucket-delete">
    <title>Löschen eines Buckets</title>
    <para>
     Zum Löschen eines OGW-Buckets klicken Sie auf dessen Tabellenzeile und dann oben links in der Tabellenüberschrift auf <guimenu>Löschen</guimenu>. Aktivieren Sie das Kontrollkästchen <guimenu>Ja, ich bin sicher</guimenu> und bestätigen Sie mit <guimenu>Bucket löschen</guimenu>.
    </para>
   </sect3>
  </sect2>
 </sect1>
 <sect1 xml:id="dashboard-initial-configuration">
  <title>Manuelle Konfiguration</title>

  <para>
   In diesem Abschnitt erhalten Sie erweiterte Informationen für Benutzer, die die Dashboard-Einstellungen manuell über die Kommandozeile konfigurieren möchten.
  </para>

  <sect2 xml:id="dashboard-ssl">
   <title>TLS/SSL-Unterstützung</title>
   <para>
    Alle HTTP-Verbindungen zum Dashboard werden standardmäßig mit SSL/TLS gesichert. Für eine sichere Verbindung ist ein SSL-Zertifikat erforderlich. Sie können entweder ein eigensigniertes Zertifikat verwenden oder ein Zertifikat erzeugen und durch eine bekannte Zertifizierungsstelle (CA) signieren lassen.
   </para>
   <tip>
    <title>Deaktivieren von SSL</title>
    <para>
     Unter Umständen muss die SSL-Unterstützung deaktiviert werden. Dies ist beispielsweise der Fall, wenn das Dashboard hinter einem Proxy ausgeführt wird, der SSL nicht unterstützt.
    </para>
    <para>
     Deaktivieren Sie SSL nur mit Bedacht, da die <emphasis role="bold">Benutzernamen und Passwörter</emphasis> damit <emphasis role="bold">unverschlüsselt</emphasis> an das Dashboard gesendet werden.
    </para>
    <para>
     Mit folgendem Kommando deaktivieren Sie SSL:
    </para>
<screen>
<prompt>cephadm@adm &gt; </prompt>ceph config set mgr mgr/dashboard/ssl false
</screen>
   </tip>
   <tip>
    <title>Neustarten der Ceph Manager-Prozesse</title>
    <para>
     Die Ceph Manager-Prozesse müssen nach einer Änderung des SSL-Zertifikats und des Schlüssels manuell neu gestartet werden. Führen Sie hierzu entweder das folgende Kommando aus:
    </para>
<screen><prompt>cephadm@adm &gt; </prompt>ceph mgr fail<replaceable>ACTIVE-MANAGER-NAME</replaceable></screen>
    <para>
     oder deaktivieren Sie das Dashboard-Modul und aktivieren Sie es wieder, wodurch auch der Manager sich selbst wieder neu erzeugt:
    </para>
<screen>
<prompt>cephadm@adm &gt; </prompt>ceph mgr module disable dashboard
<prompt>cephadm@adm &gt; </prompt>ceph mgr module enable dashboard
</screen>
   </tip>
   <sect3 xml:id="self-sign-certificates">
    <title>Selbstsignierte Zertifikate</title>
    <para>
     Ein selbstsigniertes Zertifikat für die sichere Kommunikation lässt sich schnell und einfach erstellen. So bringen Sie das Dashboard rasch in Gang.
    </para>
    <note>
     <title>Fehlermeldung von Webbrowsern</title>
     <para>
      Die meisten Webbrowser geben bei selbstsignierten Zertifikaten eine Fehlermeldung aus und fordern eine explizite Bestätigung, bevor eine sichere Verbindung zum Dashboard hergestellt wird.
     </para>
    </note>
    <para>
     Mit dem folgenden integrierten Kommando erzeugen und installieren Sie ein selbstsigniertes Zertifikat:
    </para>
<screen>
<prompt>cephadm@adm &gt; </prompt>ceph dashboard create-self-signed-cert
</screen>
   </sect3>
   <sect3 xml:id="cert-sign-CA">
    <title>Von einer CA signierte Zertifikate</title>
    <para>
     Damit die Verbindung zum Dashboard ordnungsgemäß gesichert wird und Webbrowser-Fehlermeldungen zu selbstsignierten Zertifikaten unterbunden werden, wird empfohlen, ein Zertifikat zu verwenden, das von einer CA signiert ist.
    </para>
    <para>
     Mit einem Kommando wie im folgenden Beispiel erzeugen Sie ein Zertifikat-Schlüsselpaar:
    </para>
<screen>
<prompt>root # </prompt>openssl req -new -nodes -x509 \
  -subj "/O=IT/CN=ceph-mgr-dashboard" -days 3650 \
  -keyout dashboard.key -out dashboard.crt -extensions v3_ca
</screen>
    <para>
     Das obige Kommando gibt die Dateien <filename>dashboard.key</filename> und <filename>dashboard.crt</filename> aus. Sobald die Datei <filename>dashboard.crt</filename> von einer CA signiert wurde, aktivieren Sie es mit dem folgenden Kommando für alle Ceph Manager-Instanzen:
    </para>
<screen>
<prompt>cephadm@adm &gt; </prompt>ceph config-key set mgr/dashboard/crt -i dashboard.crt
<prompt>cephadm@adm &gt; </prompt>ceph config-key set mgr/dashboard/key -i dashboard.key
</screen>
    <tip>
     <title>Unterschiedliche Zertifikate für die einzelnen Manager-Instanzen</title>
     <para>
      Wenn Sie unterschiedliche Zertifikate für die einzelnen Ceph Manager-Instanzen benötigen, bearbeiten Sie die Kommandos und geben Sie den Namen der Instanz wie folgt an. Ersetzen Sie <replaceable>NAME</replaceable> durch den Namen der Ceph Manager-Instanz (in der Regel der zugehörige Hostname):
     </para>
<screen>
<prompt>cephadm@adm &gt; </prompt>ceph config-key set mgr/dashboard/<replaceable>NAME</replaceable>/crt -i dashboard.crt
<prompt>cephadm@adm &gt; </prompt>ceph config-key set mgr/dashboard/<replaceable>NAME</replaceable>/key -i dashboard.key
</screen>
    </tip>
   </sect3>
  </sect2>

  <sect2 xml:id="dashboard-hostname-port">
   <title>Hostname und Portnummer</title>
   <para>
    Die Ceph Dashboard-Webanwendung bindet an eine bestimmte TCP/IP-Adresse und einen bestimmten TCP-Port. Standardmäßig bindet der derzeit aktive Ceph Manager, auf dem das Dashboard gehostet wird, an den TCP-Port 8443 (oder 8080, wenn SSL deaktiviert ist).
   </para>
   <para>
    Die Dashboard-Webanwendung bindet standardmäßig an „::“, was allen verfügbaren IPv4- und IPv6-Adressen entspricht. Mit folgenden Kommandos können Sie die IP-Adresse und die Portnummer der Webanwendung ändern, sodass sie für alle Ceph Manager-Instanzen gelten:
   </para>
<screen>
<prompt>cephadm@adm &gt; </prompt>ceph config set mgr mgr/dashboard/server_addr <replaceable>IP_ADDRESS</replaceable>
<prompt>cephadm@adm &gt; </prompt>ceph config set mgr mgr/dashboard/server_port <replaceable>PORT_NUMBER</replaceable>
</screen>
   <tip>
    <title>Separate Konfiguration der Ceph Manager-Instanzen</title>
    <para>
     Auf jedem <systemitem class="daemon">ceph-mgr</systemitem>-Daemon wird eine eigene Dashboard-Instanz gehostet; unter Umständen müssen diese Instanzen daher separat konfiguriert werden. Mit folgenden Kommandos ändern Sie die IP-Adresse und die Portnummer für eine bestimmte Manager-Instanz (ersetzen Sie <replaceable>NAME</replaceable> mit der ID der <systemitem class="daemon">ceph-mgr</systemitem>-Instanz):
    </para>
<screen>
<prompt>cephadm@adm &gt; </prompt>ceph config set mgr mgr/dashboard/<replaceable>NAME</replaceable>/server_addr <replaceable>IP_ADDRESS</replaceable>
<prompt>cephadm@adm &gt; </prompt>ceph config set mgr mgr/dashboard/<replaceable>NAME</replaceable>/server_port <replaceable>PORT_NUMBER</replaceable>
</screen>
   </tip>
   <tip>
    <title>Auflisten der konfigurierten Endpunkte</title>
    <para>
     Das Kommando <command>ceph mgr services</command> gibt alle derzeit konfigurierten Endpunkte zurück. Über den Schlüssel „dashboard“ erhalten Sie die URL für den Zugriff auf das Dashboard.
    </para>
   </tip>
  </sect2>

  <sect2 xml:id="dashboard-username-password">
   <title>Benutzername und Passwort</title>
   <para>
    Wenn Sie nicht das standardmäßige Administratorkonto verwenden möchten, erstellen Sie ein anderes Benutzerkonto und weisen Sie diesem Konto mindestens eine Rolle zu. Es steht eine Reihe vordefinierter Systemrollen zur Auswahl. Weitere Informationen finden Sie unter <xref linkend="dashboard-user-roles"/>.
   </para>
   <para>
    Mit folgendem Kommando erstellen Sie einen Benutzer mit Administratorrechten:
   </para>
<screen>
<prompt>cephadm@adm &gt; </prompt>ceph dashboard ac-user-create <replaceable>USER_NAME</replaceable> <replaceable>PASSWORD</replaceable> administrator
</screen>
  </sect2>

  <sect2 xml:id="dashboard-ogw-enabling">
   <title>Aktivieren des Verwaltungs-Front-End für das Object Gateway</title>
   <para>
    Sollen die Object Gateway-Verwaltungsfunktionen des Dashboards genutzt werden, müssen Sie die Anmeldeberechtigung eines Benutzers mit aktivierter Flagge „system“ angeben:
   </para>
   <procedure>
    <step>
     <para>
      Falls kein Benutzer mit der Flagge „system“ vorhanden ist, legen Sie ihn an:
     </para>
<screen>
<prompt>cephadm@adm &gt; </prompt>radosgw-admin user create --uid=<replaceable>USER_ID</replaceable> --display-name=<replaceable>DISPLAY_NAME</replaceable> --system
</screen>
     <para>
      Beachten Sie die Schlüssel „access_key“ und „secret_key“ in der Ausgabe des Kommandos.
     </para>
    </step>
    <step>
     <para>
      Sie können die Berechtigungsnachweise eines vorhandenen Benutzers auch mit dem Kommando <command>radosgw-admin</command> abrufen:
     </para>
<screen>
<prompt>cephadm@adm &gt; </prompt>radosgw-admin user info --uid=<replaceable>USER_ID</replaceable>
</screen>
    </step>
    <step>
     <para>
      Geben Sie den erhaltenen Berechtigungsnachweis im Dashboard an:
     </para>
<screen>
<prompt>cephadm@adm &gt; </prompt>ceph dashboard set-rgw-api-access-key <replaceable>ACCESS_KEY</replaceable>
<prompt>cephadm@adm &gt; </prompt>ceph dashboard set-rgw-api-secret-key <replaceable>SECRET_KEY</replaceable>
</screen>
    </step>
   </procedure>
   <para>
    Es sind mehrere Punkte zu beachten:
   </para>
   <itemizedlist>
    <listitem>
     <para>
      Der Hostname und die Portnummer des Object Gateway werden automatisch ermittelt.
     </para>
    </listitem>
    <listitem>
     <para>
      Wenn mehrere Zonen verwendet werden, wird automatisch der Host in der Master-Zonengruppe und der Master-Zone ermittelt. Bei den meisten Einrichtungen reicht dies aus, doch unter bestimmten Umständen müssen Sie den Hostnamen und den Port manuell festlegen:
     </para>
<screen>
<prompt>cephadm@adm &gt; </prompt>ceph dashboard set-rgw-api-host <replaceable>HOST</replaceable>
<prompt>cephadm@adm &gt; </prompt>ceph dashboard set-rgw-api-port <replaceable>PORT</replaceable>
</screen>
    </listitem>
    <listitem>
     <para>
      Sie benötigen ggf. die folgenden zusätzlichen Einstellungen:
     </para>
<screen>
<prompt>cephadm@adm &gt; </prompt>ceph dashboard set-rgw-api-scheme <replaceable>SCHEME</replaceable>  # http or https
<prompt>cephadm@adm &gt; </prompt>ceph dashboard set-rgw-api-admin-resource <replaceable>ADMIN_RESOURCE</replaceable>
<prompt>cephadm@adm &gt; </prompt>ceph dashboard set-rgw-api-user-id <replaceable>USER_ID</replaceable>
</screen>
    </listitem>
    <listitem>
     <para>
      Wenn die Object Gateway-Einrichtung ein selbstsigniertes Zertifikat umfasst (<xref linkend="dashboard-ssl"/>), deaktivieren Sie die Zertifikatsprüfung im Dashboard, sodass keine Verbindungen aufgrund von Zertifikaten, die von einer unbekannten CA signiert wurden oder nicht mit dem Hostnamen übereinstimmen, verweigert werden:
     </para>
<screen>
<prompt>cephadm@adm &gt; </prompt>ceph dashboard set-rgw-api-ssl-verify False
</screen>
    </listitem>
    <listitem>
     <para>
      Wenn die Verarbeitung von Anforderungen im Object Gateway zu lange dauert und eine Zeitüberschreitung im Dashboard auftritt, können Sie den Zeitüberschreitungswert anpassen (Standardwert 45 Sekunden):
     </para>
<screen>
<prompt>cephadm@adm &gt; </prompt>ceph dashboard set-rest-requests-timeout <replaceable>SECONDS</replaceable>
</screen>
    </listitem>
   </itemizedlist>
  </sect2>

  <sect2 xml:id="dashboard-sso">
   <title>Single Sign-on aktivieren</title>
   <para>
    Mit der Zugriffskontrollmethode <emphasis>Single Sign-on</emphasis> (SSO) können die Benutzer sich mit einer einzigen ID und einem einzigen Passwort bei mehreren Anwendungen gleichzeitig anmelden.
   </para>
   <para>
    Das Ceph Dashboard unterstützt die externe Authentifizierung von Benutzern über das SAML-2.0-Protokoll. Da die <emphasis>Autorisierung</emphasis> weiterhin durch das Dashboard vorgenommen wird, müssen Sie zunächst Benutzerkonten erstellen und ihnen die gewünschten Rollen zuweisen. Der <emphasis>Authentifizierungsprozess</emphasis> kann jedoch von einem vorhandenen <emphasis>Identitätsanbieter</emphasis> (IdP) durchgeführt werden.
   </para>
   <para>
    Mit folgendem Kommando konfigurieren Sie das Single Sign-on:
   </para>
<screen>
<prompt>cephadm@adm &gt; </prompt>ceph dashboard sso setup saml2 <replaceable>CEPH_DASHBOARD_BASE_URL</replaceable> \
 <replaceable>IDP_METADATA</replaceable> <replaceable>IDP_USERNAME_ATTRIBUTE</replaceable> \
 <replaceable>IDP_ENTITY_ID</replaceable> <replaceable>SP_X_509_CERT</replaceable> \
 <replaceable>SP_PRIVATE_KEY</replaceable>
</screen>
   <para>
    Parameter:
   </para>
   <variablelist>
    <varlistentry>
     <term><replaceable>CEPH_DASHBOARD_BASE_URL</replaceable></term>
     <listitem>
      <para>
       Basis-URL für den Zugriff auf Ceph Dashboard (z. B. „https://cephdashboard.local“).
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><replaceable>IDP_METADATA</replaceable></term>
     <listitem>
      <para>
       URL, Dateipfad oder Inhalt der IdP-Metadaten-XML (z. B. „https://myidp/metadata“).
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><replaceable>IDP_USERNAME_ATTRIBUTE</replaceable></term>
     <listitem>
      <para>
       Optional. Attribut, mit dem der Benutzername aus der Authentifizierungsantwort ermittelt wird. Der Standardwert lautet „uid“.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><replaceable>IDP_ENTITY_ID</replaceable></term>
     <listitem>
      <para>
       Optional. Für den Fall, dass die IdP-Metadaten mehrere Entitäts-IDs umfassen.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><replaceable>SP_X_509_CERT</replaceable> / <replaceable>SP_PRIVATE_KEY</replaceable></term>
     <listitem>
      <para>
       Optional. Dateipfad oder Inhalt des Zertifikats, mit dem das Ceph Dashboard (Service-Anbieter) die Signierung und Verschlüsselung vornimmt.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
   <note>
    <title>SAML-Anforderungen</title>
    <para>
     Für den Ausstellerwert der SAML-Anforderungen gilt folgende Syntax:
    </para>
<screen>
<replaceable>CEPH_DASHBOARD_BASE_URL</replaceable>/auth/saml2/metadata
</screen>
   </note>
   <para>
    Mit folgendem Kommando rufen Sie die aktuelle SAML-2.0-Konfiguration ab:
   </para>
<screen>
<prompt>cephadm@adm &gt; </prompt>ceph dashboard sso show saml2
</screen>
   <para>
    Mit folgendem Kommando deaktivieren Sie Single Sign-on:
   </para>
<screen>
<prompt>cephadm@adm &gt; </prompt>ceph dashboard sso disable
</screen>
   <para>
    Mit folgendem Kommando prüfen Sie, ob SSO aktiviert ist:
   </para>
<screen>
<prompt>cephadm@adm &gt; </prompt>ceph dashboard sso status
</screen>
   <para>
    Mit folgendem Kommando aktivieren Sie SSO:
   </para>
<screen>
<prompt>cephadm@adm &gt; </prompt>ceph dashboard sso enable saml2
</screen>
  </sect2>
 </sect1>
 <sect1 xml:id="dashboard-user-roles">
  <title>Verwalten von Benutzern und Rollen über die Kommandozeile</title>

  <para>
   In diesem Abschnitt wird die Verwaltung von Benutzerkonten erläutert, die im Ceph Dashboard verwendet werden. Hier erhalten Sie Hilfestellung für die Erstellung oder Bearbeitung von Benutzerkonten sowie für die Festlegung der richtigen Benutzerrollen und Berechtigungen.
  </para>

  <sect2 xml:id="dahsboard-user-accounts">
   <title>Benutzerkonten</title>
   <para>
    Das Ceph Dashboard unterstützt die Verwaltung mehrerer Benutzerkonten. Jedes Benutzerkonto umfasst einen Benutzernamen, ein Passwort (in verschlüsselter Form mit <literal>bcrypt</literal> gespeichert), einen optionalen Namen und eine optionale E-Mail-Adresse.
   </para>
   <para>
    Die Benutzerkonten werden in der Konfigurationsdatenbank von Ceph Monitor gespeichert und global für alle Ceph Manager-Instanzen freigegeben.
   </para>
   <para>
    Mit folgenden Kommandos verwalten Sie die Benutzerkonten:
   </para>
   <variablelist>
    <varlistentry>
     <term>Vorhandene Benutzer abrufen:</term>
     <listitem>
<screen>
<prompt>cephadm@adm &gt; </prompt>ceph dashboard ac-user-show [<replaceable>USERNAME</replaceable>]
</screen>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>Einen neuen Benutzer erstellen:</term>
     <listitem>
<screen>
<prompt>cephadm@adm &gt; </prompt>ceph dashboard ac-user-create <replaceable>USERNAME</replaceable> [<replaceable>PASSWORD</replaceable>] [<replaceable>ROLENAME</replaceable>] [<replaceable>NAME</replaceable>] [<replaceable>EMAIL</replaceable>]
</screen>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>Einen Benutzer löschen:</term>
     <listitem>
<screen>
<prompt>cephadm@adm &gt; </prompt>ceph dashboard ac-user-delete <replaceable>USERNAME</replaceable>
</screen>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>Benutzerpasswörter ändern:</term>
     <listitem>
<screen>
<prompt>cephadm@adm &gt; </prompt>ceph dashboard ac-user-set-password <replaceable>USERNAME</replaceable> <replaceable>PASSWORD</replaceable>
</screen>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>Name und E-Mail-Adresse eines Benutzers bearbeiten:</term>
     <listitem>
<screen>
<prompt>cephadm@adm &gt; </prompt>ceph dashboard ac-user-set-info <replaceable>USERNAME</replaceable> <replaceable>NAME</replaceable> <replaceable>EMAIL</replaceable>
</screen>
     </listitem>
    </varlistentry>
   </variablelist>
  </sect2>

  <sect2 xml:id="dashboard-permissions">
   <title>Benutzerrollen und Berechtigungen</title>
   <para>
    In diesem Abschnitt erfahren Sie, welche Sicherheitsbereiche Sie einer Benutzerrolle zuweisen können, wie Sie Benutzerrollen verwalten und wie Sie sie den Benutzerkonten zuweisen.
   </para>
   <sect3>
    <title>Sicherheitsbereiche</title>
    <para>
     Benutzerkonten sind mit einer Gruppe von Rollen verknüpft, mit der definiert wird, auf welche Teile des Dashboards der Benutzer zugreifen kann. Die Dashboard-Teile sind in einem <emphasis>Sicherheitsbereich</emphasis> gruppiert. Sicherheitsbereiche sind vordefiniert und statisch. Die folgenden Sicherheitsbereiche sind derzeit verfügbar:
    </para>
    <variablelist>
     <varlistentry>
      <term>hosts</term>
      <listitem>
       <para>
        Alle Funktionen für den Menüeintrag <guimenu>Hosts</guimenu>.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>config-opt</term>
      <listitem>
       <para>
        Alle Funktionen für die Verwaltung der Ceph-Konfigurationsoptionen.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>pool</term>
      <listitem>
       <para>
        Alle Funktionen für die Pool-Verwaltung.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>osd</term>
      <listitem>
       <para>
        Alle Funktionen für die Ceph OSD-Verwaltung.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>monitor</term>
      <listitem>
       <para>
        Alle Funktionen für die Ceph Monitor-Verwaltung.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>rbd-image</term>
      <listitem>
       <para>
        Alle Funktionen für die Verwaltung von RADOS Block Device-Images.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>rbd-mirroring</term>
      <listitem>
       <para>
        Alle Funktionen für die Verwaltung der RADOS Block Device-Spiegelung.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>iscsi</term>
      <listitem>
       <para>
        Alle Funktionen für die iSCSI-Verwaltung.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>rgw</term>
      <listitem>
       <para>
        Alle Funktionen für die Object Gateway-Verwaltung.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>cephfs</term>
      <listitem>
       <para>
        Alle Funktionen für die CephFS-Verwaltung.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>manager</term>
      <listitem>
       <para>
        Alle Funktionen für die Ceph Manager-Verwaltung.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>Protokoll</term>
      <listitem>
       <para>
        Alle Funktionen für die Verwaltung der Ceph-Protokolle.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>grafana</term>
      <listitem>
       <para>
        Alle Funktionen für den Grafana-Proxy.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>dashboard-settings</term>
      <listitem>
       <para>
        Zum Ändern der Dashboard-Einstellungen.
       </para>
      </listitem>
     </varlistentry>
    </variablelist>
   </sect3>
   <sect3>
    <title>Benutzerrollen</title>
    <para>
     Eine <emphasis>Rolle</emphasis> bestimmt eine Reihe von Zuordnungen zwischen einem <emphasis>Sicherheitsbereich</emphasis> und einer Gruppe von <emphasis>Berechtigungen</emphasis>. Es gibt vier Arten von Berechtigungen: „read“, „create“, „update“ und „delete“.
    </para>
    <para>
     Im folgenden Beispiel wird eine Rolle festgelegt, bei der ein Benutzer die Berechtigungen „read“ und „create“ für Funktionen im Rahmen der Pool-Verwaltung sowie uneingeschränkte Berechtigungen für Funktionen im Rahmen der RBD-Image-Verwaltung besitzt:
    </para>
<screen>
{
  'role': 'my_new_role',
  'description': 'My new role',
  'scopes_permissions': {
    'pool': ['read', 'create'],
    'rbd-image': ['read', 'create', 'update', 'delete']
  }
}
</screen>
    <para>
     Das Dashboard bietet bereits eine Gruppe vordefinierter Rollen, die als <emphasis>Systemrollen</emphasis> bezeichnet werden. Diese Rollen können Sie nach einer Neuinstallation des Ceph Dashboards sofort nutzen:
    </para>
    <variablelist>
     <varlistentry>
      <term>Administrator</term>
      <listitem>
       <para>
        Uneingeschränkte Berechtigungen für alle Sicherheitsbereiche.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>Nur-Lesen</term>
      <listitem>
       <para>
        Leseberechtigung für alle Sicherheitsbereiche mit Ausnahme der Dashboard-Einstellungen.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>block-manager</term>
      <listitem>
       <para>
        Uneingeschränkte Berechtigungen für die Bereiche „rbd-image“, „rbd-mirroring“ und „iscsi“.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>rgw-manager</term>
      <listitem>
       <para>
        Uneingeschränkte Berechtigungen für den Bereich „rgw“.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>cluster-manager</term>
      <listitem>
       <para>
        Uneingeschränkte Berechtigungen für die Bereiche „hosts“, „osd“, „monitor“, „manager“ und „config-opt“.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>pool-manager</term>
      <listitem>
       <para>
        Uneingeschränkte Berechtigungen für den Bereich „pool“.
       </para>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>cephfs-manager</term>
      <listitem>
       <para>
        Uneingeschränkte Berechtigungen für den Bereich „cephfs“.
       </para>
      </listitem>
     </varlistentry>
    </variablelist>
    <sect4>
     <title>Verwalten benutzerdefinierter Rollen</title>
     <para>
      Mit folgenden Kommandos können Sie neue Benutzerrollen erstellen:
     </para>
     <variablelist>
      <varlistentry>
       <term>Eine neue Rolle erstellen:</term>
       <listitem>
<screen>
<prompt>cephadm@adm &gt; </prompt>ceph dashboard ac-role-create <replaceable>ROLENAME</replaceable> [<replaceable>DESCRIPTION</replaceable>]
</screen>
       </listitem>
      </varlistentry>
      <varlistentry>
       <term>Eine Rolle löschen:</term>
       <listitem>
<screen>
<prompt>cephadm@adm &gt; </prompt>ceph dashboard ac-role-delete <replaceable>ROLENAME</replaceable>
</screen>
       </listitem>
      </varlistentry>
      <varlistentry>
       <term>Bereichsberechtigungen für eine Rolle festlegen:</term>
       <listitem>
<screen>
<prompt>cephadm@adm &gt; </prompt>ceph dashboard ac-role-add-scope-perms <replaceable>ROLENAME</replaceable> <replaceable>SCOPENAME</replaceable> <replaceable>PERMISSION</replaceable> [<replaceable>PERMISSION</replaceable>...]
</screen>
       </listitem>
      </varlistentry>
      <varlistentry>
       <term>Bereichsberechtigungen einer Rolle löschen:</term>
       <listitem>
<screen>
<prompt>cephadm@adm &gt; </prompt>ceph dashboard ac-role-del-perms <replaceable>ROLENAME</replaceable> <replaceable>SCOPENAME</replaceable>
</screen>
       </listitem>
      </varlistentry>
     </variablelist>
    </sect4>
    <sect4>
     <title>Zuweisen von Rollen zu Benutzerkonten</title>
     <para>
      Mit folgenden Kommandos weisen Sie die Rollen den Benutzern zu:
     </para>
     <variablelist>
      <varlistentry>
       <term>Benutzerrollen festlegen:</term>
       <listitem>
<screen>
<prompt>cephadm@adm &gt; </prompt>ceph dashboard ac-user-set-roles <replaceable>USERNAME</replaceable> <replaceable>ROLENAME</replaceable> [<replaceable>ROLENAME</replaceable> ...]
</screen>
       </listitem>
      </varlistentry>
      <varlistentry>
       <term>Einem Benutzer zusätzliche Rollen zuweisen:</term>
       <listitem>
<screen>
<prompt>cephadm@adm &gt; </prompt>ceph dashboard ac-user-add-roles <replaceable>USERNAME</replaceable> <replaceable>ROLENAME</replaceable> [<replaceable>ROLENAME</replaceable> ...]
</screen>
       </listitem>
      </varlistentry>
      <varlistentry>
       <term>Rollen eines Benutzers löschen:</term>
       <listitem>
<screen>
<prompt>cephadm@adm &gt; </prompt>ceph dashboard ac-user-del-roles <replaceable>USERNAME</replaceable> <replaceable>ROLENAME</replaceable> [<replaceable>ROLENAME</replaceable> ...]
</screen>
       </listitem>
      </varlistentry>
     </variablelist>
     <tip>
      <title>Bereinigen benutzerdefinierter Rollen</title>
      <para>
       Wenn Sie benutzerdefinierte Rollen erstellen und den Ceph Cluster später mit dem Ausführungsprogramm <command>ceph.purge</command> bereinigen möchten, müssen Sie zunächst die benutzerdefinierten Rollen bereinigen. Weitere Informationen finden Sie in <xref linkend="deepsea-ceph-purge"/>.
      </para>
     </tip>
    </sect4>
    <sect4>
     <title>Beispiel: Erstellen eines Benutzers und einer benutzerdefinierten Regel</title>
     <para>
      In diesem Abschnitt wird das Verfahren zum Erstellen eines Benutzerkontos veranschaulicht, das RBD-Images verwalten und den Ceph-Pool abrufen kann sowie den Nur-Lese-Zugriff auf alle anderen Bereiche erhält.
     </para>
     <procedure>
      <step>
       <para>
        Erstellen Sie den neuen Benutzer „tux“:
       </para>
<screen>
 <prompt>cephadm@adm &gt; </prompt>ceph dashboard ac-user-create tux <replaceable>PASSWORD</replaceable>
</screen>
      </step>
      <step>
       <para>
        Erstellen Sie eine Rolle und legen Sie die Bereichsberechtigungen fest:
       </para>
<screen>
<prompt>cephadm@adm &gt; </prompt>ceph dashboard ac-role-create rbd/pool-manager
<prompt>cephadm@adm &gt; </prompt>ceph dashboard ac-role-add-scope-perms rbd/pool-manager \
 rbd-image read create update delete
<prompt>cephadm@adm &gt; </prompt>ceph dashboard ac-role-add-scope-perms rbd/pool-manager pool read create
</screen>
      </step>
      <step>
       <para>
        Weisen Sie die Rollen dem Benutzer „tux“ zu:
       </para>
<screen>
<prompt>cephadm@adm &gt; </prompt>ceph dashboard ac-user-set-roles tux rbd/pool-manager read-only
</screen>
      </step>
     </procedure>
    </sect4>
   </sect3>
  </sect2>

  <sect2 xml:id="dashboard-proxy">
   <title>Reverse-Proxys</title>
   <para>
    Wenn Sie über eine Reverse-Proxy-Konfiguration auf das Dashboard zugreifen, muss ggf. ein URL-Präfix angegeben werden. Mit der Einstellung <option>url_prefix</option> legen Sie fest, dass das Dashboard Hyperlinks mit Ihrem Präfix nutzen soll:
   </para>
<screen>
<prompt>cephadm@adm &gt; </prompt>ceph config set mgr mgr/dashboard/url_prefix <replaceable>URL_PREFIX</replaceable>
</screen>
   <para>
    Anschließend können Sie unter <literal>http://<replaceable>HOST_NAME</replaceable>:<replaceable>PORT_NUMBER</replaceable>/<replaceable>URL_PREFIX</replaceable>/</literal> auf das Dashboard zugreifen.
   </para>
  </sect2>

  <sect2 xml:id="dashboard-auditing">
   <title>Revision</title>
   <para>
    Die REST-API des Ceph Dashboards kann PUT-, POST- und DELETE-Anforderungen im Ceph-Revisionsprotokoll festhalten. Die Protokollierung ist standardmäßig deaktiviert; mit folgendem Kommando können Sie sie jedoch aktivieren:
   </para>
<screen>
<prompt>cephadm@adm &gt; </prompt>ceph dashboard set-audit-api-enabled true
</screen>
   <para>
    Nach der Aktivierung werden die folgenden Parameter für jede Anforderung protokolliert:
   </para>
   <variablelist>
    <varlistentry>
     <term>from</term>
     <listitem>
      <para>
       Ursprung der Anforderung, z. B. „https://[::1]:44410“.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>Pfad</term>
     <listitem>
      <para>
       Pfad der REST-API, z. B. „/api/auth“.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>aufrufen</term>
     <listitem>
      <para>
       „PUT“, „POST“ oder „DELETE“.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>user</term>
     <listitem>
      <para>
       Name des Benutzers (oder „None“ [Keine]).
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
   <para>
    Beispiel für einen Protokolleintrag:
   </para>
<screen>
2019-02-06 10:33:01.302514 mgr.x [INF] [DASHBOARD] \
 from='https://[::ffff:127.0.0.1]:37022' path='/api/rgw/user/exu' method='PUT' \
 user='admin' params='{"max_buckets": "1000", "display_name": "Example User", "uid": "exu", "suspended": "0", "email": "user@example.com"}'
</screen>
   <tip>
    <title>Deaktivieren der Protokollierung der Anforderungsnutzlast</title>
    <para>
     Die Protokollierung der Anforderungsnutzlast (die Liste der Argumente und ihrer Werte) ist standardmäßig aktiviert. So können Sie sie deaktivieren:
    </para>
<screen>
<prompt>cephadm@adm &gt; </prompt>ceph dashboard set-audit-api-log-payload false
</screen>
   </tip>
  </sect2>
 </sect1>
</chapter>
