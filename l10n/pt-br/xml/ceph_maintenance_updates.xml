<?xml version="1.0" encoding="UTF-8"?>
<appendix xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="ceph_maintenance_updates.xml" version="5.0">
 <title>Atualizações de manutenção do Ceph baseadas nos point releases de upstream do “Octopus”</title>
 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:translation>sim</dm:translation>
   <dm:release>SES 7</dm:release>
  </dm:docmanager>
 </info>
 <para>
  Vários pacotes importantes no SUSE Enterprise Storage 7 são baseados na série de lançamentos Octopus do Ceph. Quando o projeto do Ceph (<link xlink:href="https://github.com/ceph/ceph"/>) publica novos point releases na série Octopus, o SUSE Enterprise Storage 7 é atualizado para garantir que o produto aproveite as correções de bug de upstream e os backports de recursos mais recentes.
 </para>
 <para>
  Este capítulo contém resumos das mudanças importantes contidas em cada point release de upstream que foi, ou está planejado para ser incluído no produto.
 </para>
 <bridgehead renderas="sect1">Point release do Octopus 15.2.5</bridgehead>
 <para>
  O point release do Octopus 15.2.5 trouxe as seguintes correções e outras mudanças:
 </para>
 <itemizedlist>
  <listitem>
   <para>
    CephFS: As políticas automáticas de particionamento estático de subárvore agora podem ser configuradas usando os novos atributos estendidos de fixação temporária e aleatória nos diretórios. Consulte a seguinte documentação para obter mais informações: <link xlink:href="https://docs.ceph.com/docs/master/cephfs/multimds/"/>
   </para>
  </listitem>
  <listitem>
   <para>
    Os monitores agora têm uma opção de configuração <option>mon_osd_warn_num_repaired</option>, que por padrão está definida como 10. Se qualquer OSD tiver consertado mais do que esse número de erros de E/S em dados armazenados, um aviso de saúde <literal>OSD_TOO_MANY_REPAIRS</literal> será gerado.
   </para>
  </listitem>
  <listitem>
   <para>
    Quando os flags <literal>no scrub</literal> e/ou <literal>no deep-scrub</literal> são definidos globalmente ou por pool, as depurações programas do tipo desabilitado são interrompidas. Todas as depurações iniciadas pelo usuário NÃO são interrompidas.
   </para>
  </listitem>
  <listitem>
   <para>
    Problema corrigido de osdmaps que não eram cortados em um cluster saudável.
   </para>
  </listitem>
 </itemizedlist>
 <bridgehead renderas="sect1">Point release do Octopus 15.2.4</bridgehead>
 <para>
  O point release do Octopus 15.2.4 trouxe as seguintes correções e outras mudanças:
 </para>
 <itemizedlist>
  <listitem>
   <para>
    CVE-2020-10753: rgw: limpar novas linhas no ExposeHeader do CORSConfiguration do s3
   </para>
  </listitem>
  <listitem>
   <para>
    Gateway de Objetos: Os subcomandos <command>radosgw-admin</command> que processam órfãos, <command>radosgw-admin orphans find</command>, <command>radosgw-admin orphans finish</command> e <command>radosgw-admin orphans list-jobs</command>, foram descontinuados. Eles não eram ativamente mantidos e, como armazenam resultados intermediários no cluster, poderiam encher um cluster quase cheio. Eles foram substituídos por uma ferramenta <command>rgw-orphan-list</command>, que ainda é considerada em fase experimental.
   </para>
  </listitem>
  <listitem>
   <para>
    RBD: O nome do objeto do pool RBD usado para armazenar a programação de purgação de lixo do RBD foi mudado de <literal>rbd_trash_trash_purge_schedule</literal> para <literal>rbd_trash_purge_schedule</literal>. Os usuários que já começaram a usar a funcionalidade de programação de purgação de lixo do RBD e têm programações por pool ou namespace configuradas devem copiar o objeto <literal>rbd_trash_trash_purge_schedule</literal> para <literal>rbd_trash_purge_schedule</literal> antes do upgrade e remover o <literal>rbd_trash_purge_schedule</literal>, usando os seguintes comandos em cada pool e namespace RBD nos quais uma programação de purgação de lixo já foi configurada:
   </para>
<screen>
rados -p <replaceable>pool-name</replaceable> [-N namespace] cp rbd_trash_trash_purge_schedule rbd_trash_purge_schedule
rados -p <replaceable>pool-name</replaceable> [-N namespace] rm rbd_trash_trash_purge_schedule
</screen>
   <para>
    Se preferir, use qualquer outro método prático para restaurar a programação após o upgrade.
   </para>
  </listitem>
 </itemizedlist>
 <bridgehead renderas="sect1">Point release do Octopus 15.2.3</bridgehead>
 <itemizedlist>
  <listitem>
   <para>
    O point release do Octopus 15.2.3 foi uma versão de Hot Fix para resolver um problema de corrompimento de WAL observado quando <option>bluefs_preextend_wal_files</option> e <option>bluefs_buffered_io</option> eram habilitados ao mesmo tempo. A correção na versão 15.2.3 é apenas uma medida temporária (por meio da mudança do valor padrão <option>bluefs_preextend_wal_files</option> para <literal>false</literal>). A correção permanente será remover completamente a opção <option>bluefs_preextend_wal_files</option>: essa correção deverá ser lançada no point release 15.2.6.
   </para>
  </listitem>
 </itemizedlist>
 <bridgehead renderas="sect1">Point release do Octopus 15.2.2</bridgehead>
 <para>
  O point release do Octopus 15.2.2 corrigiu uma vulnerabilidade de segurança:
 </para>
 <itemizedlist>
  <listitem>
   <para>
    CVE-2020-10736: Desvio de autorização corrigido em MONs e MGRs
   </para>
  </listitem>
 </itemizedlist>
 <bridgehead renderas="sect1">Point release do Octopus 15.2.1</bridgehead>
 <para>
  O point release do Octopus 15.2.1 corrigiu um problema em que o upgrade rápido do Luminous (SES5.5) para o Nautilus (SES6) para o Octopus (SES7) provocava falha nos OSDs. Além disso, ele corrigiu duas vulnerabilidades de segurança que estavam presentes na versão inicial do Octopus (15.2.0):
 </para>
 <itemizedlist>
  <listitem>
   <para>
    CVE-2020-1759: Reutilização de nonce corrigida no modo seguro do msgr V2
   </para>
  </listitem>
  <listitem>
   <para>
    CVE-2020-1760: XSS corrigido devido à divisão do cabeçalho RGW GetObject
   </para>
  </listitem>
 </itemizedlist>
</appendix>
