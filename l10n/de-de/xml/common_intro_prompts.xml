<?xml version="1.0" encoding="UTF-8"?>
<sect1 xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="common_intro_prompts.xml" version="5.0">
 <title>Kommandos und Kommandozeilen in diesem Handbuch</title>

 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:translation>Ja</dm:translation>
   <dm:release>SES 7</dm:release>
  </dm:docmanager>
 </info>

 <para>
  Als Ceph-Cluster-Administrator können Sie das Cluster-Verhalten mit bestimmten Kommandos konfigurieren und anpassen. Hierzu benötigen Sie verschiedene Arten von Kommandos:
 </para>

 <sect2>
  <title>Salt-spezifische Kommandos</title>
  <para>
   Mit diesen Kommandos können Sie Ceph-Cluster-Knoten bereitstellen, Kommandos auf mehreren (oder allen) Cluster-Knoten gleichzeitig ausführen oder auch Cluster-Knoten hinzufügen oder entfernen. Die am häufigsten verwendeten Kommandos sind <command>ceph-salt</command> und <command>ceph-salt config</command>. Salt-Kommandos müssen auf dem Salt-Master-Knoten als <systemitem class="username">root</systemitem> ausgeführt werden. Diese Kommandos werden in der folgenden Kommandozeile eingegeben:
  </para>
<screen>
<prompt>root@master # </prompt>
</screen>
  <para>
   Beispiel:
  </para>
<screen>
<prompt>root@master # </prompt>ceph-salt config ls
</screen>
 </sect2>

 <sect2>
  <title>Ceph-spezifische Kommandos</title>
  <para>
   Hierbei handelt es sich um Kommandos auf niedrigerer Ebene, mit denen alle Aspekte des Clusters und seiner Gateways auf der Kommandozeile konfiguriert und feinabgestimmt werden, zum Beispiel <command>ceph</command>, <command>cephadm</command>, <command>rbd</command> oder <command>radosgw-admin</command>.
  </para>
  <para>
   Zum Ausführen von Ceph-spezifischen Kommandos benötigen Sie den Lesezugriff auf einen Ceph-Schlüssel. Die Capabilities des Schlüssels definieren dann Ihre Rechte in der Ceph-Umgebung. Sie können die Ceph-Kommandos als <systemitem class="username">root</systemitem> (oder über <command>sudo</command>) ausführen und den uneingeschränkten Standard-Schlüsselbund „ceph.client.admin.key“ verwenden.
  </para>
  <para>
   Als sicherere und empfohlene Alternative erstellen Sie je einen stärker eingeschränkten, individuellen Schlüssel für die einzelnen verwaltungsberechtigten Benutzer, den Sie dann in einem Verzeichnis ablegen, in dem die Benutzer ihn lesen können, beispielsweise:
  </para>
<screen>~/.ceph/ceph.client.<replaceable>USERNAME</replaceable>.keyring</screen>
  <tip>
   <title>Pfad der Ceph-Schlüssel</title>
   <para>
    Sollen ein benutzerdefinierter verwaltungsberechtigter Benutzer und Schlüsselbund verwendet werden, müssen Sie den Benutzernamen und den Pfad des Schlüssels bei jeder Ausführung des Kommandos <command>ceph</command> mit den Optionen <option>-n client angeben.<replaceable>USER_NAME</replaceable></option> und <option>--keyring <replaceable>PATH/TO/KEYRING</replaceable></option> angeben.
   </para>
   <para>
    Um dies zu vermeiden, nehmen Sie diese Optionen in die Variable <varname>CEPH_ARGS</varname> in den <filename>~/.bashrc</filename>-Dateien der einzelnen Benutzer auf.
   </para>
  </tip>
  <para>
   Ceph-spezifische Kommandos können auf jedem Cluster-Knoten ausgeführt werden. Es wird jedoch empfohlen, sie ausschließlich auf dem Admin-Knoten auszuführen. In dieser Dokumentation werden die Kommandos mit dem Benutzer <systemitem class="username">cephuser</systemitem> ausgeführt. Die Kommandozeile lautet daher:
  </para>
<screen>
<prompt>cephuser@adm &gt; </prompt>
</screen>
  <para>
   Beispiel:
  </para>
<screen>
<prompt>cephuser@adm &gt; </prompt>ceph auth list
</screen>
  <tip>
   <title>Kommandos für bestimmte Knoten</title>
   <para>
    Wenn Sie laut Dokumentation ein Kommando für einen Cluster-Knoten mit einer bestimmten Rolle ausführen sollen, ist dies an der Bezeichnung der Kommandozeile ersichtlich. Beispiel:
   </para>
<screen>
<prompt>cephuser@mon &gt; </prompt>
</screen>
  </tip>
  <sect3>
   <title>Ausführen von <command>ceph-volume</command></title>
   <para>
    Ab SUSE Enterprise Storage 7 werden Ceph-Services containerisiert ausgeführt. Wenn Sie <command>ceph-volume</command> auf einem OSD-Knoten ausführen müssen, müssen Sie ihm das Kommando <command>cephadm</command> voranstellen. Beispiel:
   </para>
<screen><prompt>cephuser@adm &gt; </prompt>cephadm ceph-volume simple scan</screen>
  </sect3>
 </sect2>

 <sect2>
  <title>Allgemeine Linux-Kommandos</title>
  <para>
   Linux-Kommandos, die nicht Ceph-spezifisch sind, wie zum Beispiel <command>mount</command>, <command>cat</command> oder <command>openssl</command>, werden entweder mit der Kommandozeile <prompt>cephuser@adm &gt; </prompt> oder <prompt role="root">root #</prompt> eingeführt. Dies hängt davon ab, welche Rechte für das entsprechende Kommando erforderlich sind.
  </para>
 </sect2>

 <sect2>
  <title>Zusätzliche Informationen</title>
  <para>
   Weitere Informationen zur Ceph-Schlüsselverwaltung finden Sie in <xref linkend="storage-cephx-keymgmt"/>.
  </para>
 </sect2>
</sect1>
