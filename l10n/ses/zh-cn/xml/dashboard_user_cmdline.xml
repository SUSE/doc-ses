<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="dashboard_user_cmdline.xml" version="5.0" xml:id="dashboard-user-roles">
 <title>在命令行上管理用户和角色</title>
 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:translation>是</dm:translation>
   <dm:release>SES 7</dm:release>
  </dm:docmanager>
 </info>
 <para>
  本节说明如何管理 Ceph Dashboard 使用的用户帐户。该工具可帮助您创建或修改用户帐户，以及设置正确的用户角色和权限。
 </para>
 <sect1 xml:id="dashboard-password-policy">
  <title>管理密码策略</title>

  <para>
   默认情况下会启用密码策略功能，包括以下检查：
  </para>

  <itemizedlist>
   <listitem>
    <para>
     密码长度是否超过 <emphasis>N</emphasis> 个字符？
    </para>
   </listitem>
   <listitem>
    <para>
     旧密码和新密码是否相同？
    </para>
   </listitem>
  </itemizedlist>

  <para>
   可以完全打开或关闭密码策略功能：
  </para>

<screen><prompt>cephuser@adm &gt; </prompt>ceph dashboard set-pwd-policy-enabled <replaceable>true|false</replaceable></screen>

  <para>
   可以打开或关闭以下各项检查：
  </para>

<screen>
<prompt>cephuser@adm &gt; </prompt>ceph dashboard set-pwd-policy-check-length-enabled <replaceable>true|false</replaceable>
<prompt>cephuser@adm &gt; </prompt>ceph dashboard set-pwd-policy-check-oldpwd-enabled <replaceable>true|false</replaceable>
<prompt>cephuser@adm &gt; </prompt>ceph dashboard set-pwd-policy-check-username-enabled <replaceable>true|false</replaceable>
<prompt>cephuser@adm &gt; </prompt>ceph dashboard set-pwd-policy-check-exclusion-list-enabled <replaceable>true|false</replaceable>
<prompt>cephuser@adm &gt; </prompt>ceph dashboard set-pwd-policy-check-complexity-enabled <replaceable>true|false</replaceable>
<prompt>cephuser@adm &gt; </prompt>ceph dashboard set-pwd-policy-check-sequential-chars-enabled <replaceable>true|false</replaceable>
<prompt>cephuser@adm &gt; </prompt>ceph dashboard set-pwd-policy-check-repetitive-chars-enabled <replaceable>true|false</replaceable>
</screen>

  <para>
   此外，可使用以下选项配置密码策略行为。
  </para>

  <itemizedlist>
   <listitem>
    <para>
     最短密码长度（默认值为 8）：
    </para>
<screen><prompt>cephuser@adm &gt; </prompt>ceph dashboard set-pwd-policy-min-length <replaceable>N</replaceable></screen>
   </listitem>
   <listitem>
    <para>
     最小密码复杂性（默认值为 10）：
    </para>
<screen><prompt>cephuser@adm &gt; </prompt>ceph dashboard set-pwd-policy-min-complexity <replaceable>N</replaceable></screen>
    <para>
     密码复杂性是通过对密码中的每个字符进行分类来计算的。
    </para>
   </listitem>
   <listitem>
    <para>
     密码中不允许使用的逗号分隔的单词列表：
    </para>
<screen><prompt>cephuser@adm &gt; </prompt>ceph dashboard set-pwd-policy-exclusion-list <replaceable>word</replaceable>[,...]</screen>
   </listitem>
  </itemizedlist>
 </sect1>
 <sect1 xml:id="dashboard-user-accounts">
  <title>管理用户帐户</title>

  <para>
   Ceph Dashboard 支持管理多个用户帐户。每个用户帐户包含用户名、密码（使用 <literal>bcrypt</literal> 以加密形式存储）、可选名称和可选电子邮件地址。
  </para>

  <para>
   用户帐户存储在 Ceph Manager 的配置数据库中，并在所有 Ceph Manager 实例之间全局共享。
  </para>

  <para>
   使用以下命令可管理用户帐户：
  </para>

  <variablelist>
   <varlistentry>
    <term>显示现有用户：</term>
    <listitem>
<screen>
<prompt>cephuser@adm &gt; </prompt>ceph dashboard ac-user-show [<replaceable>USERNAME</replaceable>]
</screen>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>创建新用户：</term>
    <listitem>
<screen>
<prompt>cephuser@adm &gt; </prompt>ceph dashboard ac-user-create <replaceable>USERNAME</replaceable> [<replaceable>PASSWORD</replaceable>] [<replaceable>ROLENAME</replaceable>] [<replaceable>NAME</replaceable>] [<replaceable>EMAIL</replaceable>]
</screen>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>删除用户：</term>
    <listitem>
<screen>
<prompt>cephuser@adm &gt; </prompt>ceph dashboard ac-user-delete <replaceable>USERNAME</replaceable>
</screen>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>更改用户密码：</term>
    <listitem>
<screen>
<prompt>cephuser@adm &gt; </prompt>ceph dashboard ac-user-set-password <replaceable>USERNAME</replaceable> <replaceable>PASSWORD</replaceable>
</screen>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>修改用户名和电子邮件：</term>
    <listitem>
<screen>
<prompt>cephuser@adm &gt; </prompt>ceph dashboard ac-user-set-info <replaceable>USERNAME</replaceable> <replaceable>NAME</replaceable> <replaceable>EMAIL</replaceable>
</screen>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>禁用用户</term>
    <listitem>
<screen>
<prompt>cephuser@adm &gt; </prompt>ceph dashboard ac-user-disable <replaceable>USERNAME</replaceable>
</screen>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>启用用户</term>
    <listitem>
<screen>
<prompt>cephuser@adm &gt; </prompt>ceph dashboard ac-user-enable <replaceable>USERNAME</replaceable>
</screen>
    </listitem>
   </varlistentry>
  </variablelist>
 </sect1>
 <sect1 xml:id="dashboard-permissions">
  <title>用户角色和权限</title>

  <para>
   本节说明您可为用户角色指定的安全作用范围、如何管理用户角色，以及如何为用户帐户指定角色。
  </para>

  <sect2 xml:id="dashboard-security-scopes">
   <title>定义安全作用范围</title>
   <para>
    用户帐户与一组角色相关联，这些角色定义了该用户可以访问仪表盘的哪些部分。仪表盘的各个部分均会划分在某个<emphasis>安全</emphasis>作用范围内。安全作用范围已预先定义且固定不变。当前可用的安全作用范围如下：
   </para>
   <variablelist>
    <varlistentry>
     <term>hosts</term>
     <listitem>
      <para>
       包含与<guimenu>主机</guimenu>菜单项相关的所有特性。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>config-opt</term>
     <listitem>
      <para>
       包含与 Ceph 配置选项管理相关的所有特性。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>pool</term>
     <listitem>
      <para>
       包含与存储池管理相关的所有特性。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>osd</term>
     <listitem>
      <para>
       包含与 Ceph OSD 管理相关的所有特性。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>monitor</term>
     <listitem>
      <para>
       包含与 Ceph Monitor 管理相关的所有特性。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>rbd-image</term>
     <listitem>
      <para>
       包含与 RADOS 块设备映像管理相关的所有特性。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>rbd-mirroring</term>
     <listitem>
      <para>
       包含与 RADOS 块设备镜像管理相关的所有特性。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>iscsi</term>
     <listitem>
      <para>
       包含与 iSCSI 管理相关的所有特性。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>rgw</term>
     <listitem>
      <para>
       包含与对象网关管理相关的所有特性。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>cephfs</term>
     <listitem>
      <para>
       包含与 CephFS 管理相关的所有特性。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>manager</term>
     <listitem>
      <para>
       包含与 Ceph Manager 管理相关的所有特性。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>log</term>
     <listitem>
      <para>
       包含与 Ceph 日志管理相关的所有特性。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>grafana</term>
     <listitem>
      <para>
       包含与 Grafana 代理相关的所有特性。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>prometheus</term>
     <listitem>
      <para>
       包含与 Prometheus 告警管理相关的所有特性。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>dashboard-settings</term>
     <listitem>
      <para>
       允许更改仪表盘设置。
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
  </sect2>

  <sect2 xml:id="dashboard-user-roles-security-scope">
   <title>指定用户角色</title>
   <para>
    <emphasis>角色</emphasis>指定了一个<emphasis>安全作用范围</emphasis>与一组<emphasis>权限</emphasis>之间的一组映射。权限分为四种类型：“read”、“create”、“update”和“delete”。
   </para>
   <para>
    下面的示例指定了一个角色，具有该角色的用户拥有与存储池管理相关的特性的“read”和“create”权限，以及与 RBD 映像管理相关的特性的全部权限：
   </para>
<screen>
{
  'role': 'my_new_role',
  'description': 'My new role',
  'scopes_permissions': {
    'pool': ['read', 'create'],
    'rbd-image': ['read', 'create', 'update', 'delete']
  }
}
</screen>
   <para>
    仪表盘提供了一组预定义角色，我们称之为<emphasis>系统角色</emphasis>。全新安装 Ceph Dashboard 后即可使用这些角色：
   </para>
   <variablelist>
    <varlistentry>
     <term>administrator</term>
     <listitem>
      <para>
       提供针对所有安全作用范围的全部权限。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>read-only</term>
     <listitem>
      <para>
       提供针对仪表盘设置以外的其他所有安全作用范围的读取权限。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>block-manager</term>
     <listitem>
      <para>
       提供针对“rbd-image”、“rbd-mirroring”和“iscsi”作用范围的全部权限。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>rgw-manager</term>
     <listitem>
      <para>
       提供针对“rgw”作用范围的全部权限。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>cluster-manager</term>
     <listitem>
      <para>
       提供针对“hosts”、“osd”、“monitor”、“manager”和“config-opt”作用范围的全部权限。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>pool-manager</term>
     <listitem>
      <para>
       提供针对“pool”作用范围的全部权限。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>cephfs-manager</term>
     <listitem>
      <para>
       提供针对“cephfs”作用范围的全部权限。
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
   <sect3 xml:id="dashboard-managing-custom-roles">
    <title>管理自定义角色</title>
    <para>
     您可以使用以下命令创建新用户角色：
    </para>
    <variablelist>
     <varlistentry>
      <term>创建新角色：</term>
      <listitem>
<screen>
<prompt>cephuser@adm &gt; </prompt>ceph dashboard ac-role-create <replaceable>ROLENAME</replaceable> [<replaceable>DESCRIPTION</replaceable>]
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>删除角色:</term>
      <listitem>
<screen>
<prompt>cephuser@adm &gt; </prompt>ceph dashboard ac-role-delete <replaceable>ROLENAME</replaceable>
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>为角色添加作用范围权限：</term>
      <listitem>
<screen>
<prompt>cephuser@adm &gt; </prompt>ceph dashboard ac-role-add-scope-perms <replaceable>ROLENAME</replaceable> <replaceable>SCOPENAME</replaceable> <replaceable>PERMISSION</replaceable> [<replaceable>PERMISSION</replaceable>...]
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>从角色中删除作用范围权限：</term>
      <listitem>
<screen>
<prompt>cephuser@adm &gt; </prompt>ceph dashboard ac-role-del-perms <replaceable>ROLENAME</replaceable> <replaceable>SCOPENAME</replaceable>
</screen>
      </listitem>
     </varlistentry>
    </variablelist>
   </sect3>
   <sect3 xml:id="dashboard-assigning-roles-user-accounts">
    <title>为用户帐户指定角色</title>
    <para>
     使用以下命令可为用户指定角色：
    </para>
    <variablelist>
     <varlistentry>
      <term>设置用户角色：</term>
      <listitem>
<screen>
<prompt>cephuser@adm &gt; </prompt>ceph dashboard ac-user-set-roles <replaceable>USERNAME</replaceable> <replaceable>ROLENAME</replaceable> [<replaceable>ROLENAME</replaceable> ...]
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>为用户添加其他角色：</term>
      <listitem>
<screen>
<prompt>cephuser@adm &gt; </prompt>ceph dashboard ac-user-add-roles <replaceable>USERNAME</replaceable> <replaceable>ROLENAME</replaceable> [<replaceable>ROLENAME</replaceable> ...]
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>删除用户的角色：</term>
      <listitem>
<screen>
<prompt>cephuser@adm &gt; </prompt>ceph dashboard ac-user-del-roles <replaceable>USERNAME</replaceable> <replaceable>ROLENAME</replaceable> [<replaceable>ROLENAME</replaceable> ...]
</screen>
      </listitem>
     </varlistentry>
    </variablelist>
    <tip>
     <title>清除自定义角色</title>
     <para>
      如果您创建了自定义用户角色，并打算以后使用 <command>ceph.purge</command> 运行程序删除 Ceph 集群，则需要先清除自定义角色。有关详细信息，请参见<xref linkend="ceph-cluster-purge"/>。
     </para>
    </tip>
   </sect3>
   <sect3 xml:id="example-create-user-custom-role">
    <title>示例：创建用户和自定义角色</title>
    <para>
     本节说明创建具有以下权限的用户帐户的过程：可管理 RBD 映像、查看和创建 Ceph 存储池，并拥有针对任何其他安全作用范围的只读访问权限。
    </para>
    <procedure>
     <step>
      <para>
       创建名为 <literal>tux</literal> 的新用户：
      </para>
<screen>
 <prompt>cephuser@adm &gt; </prompt>ceph dashboard ac-user-create tux <replaceable>PASSWORD</replaceable>
</screen>
     </step>
     <step>
      <para>
       创建角色并指定作用范围权限：
      </para>
<screen>
<prompt>cephuser@adm &gt; </prompt>ceph dashboard ac-role-create rbd/pool-manager
<prompt>cephuser@adm &gt; </prompt>ceph dashboard ac-role-add-scope-perms rbd/pool-manager \
 rbd-image read create update delete
<prompt>cephuser@adm &gt; </prompt>ceph dashboard ac-role-add-scope-perms rbd/pool-manager pool read create
</screen>
     </step>
     <step>
      <para>
       将角色与 <literal>tux</literal> 用户相关联：
      </para>
<screen>
<prompt>cephuser@adm &gt; </prompt>ceph dashboard ac-user-set-roles tux rbd/pool-manager read-only
</screen>
     </step>
    </procedure>
   </sect3>
  </sect2>
 </sect1>
 <sect1 xml:id="dashboard-proxy-config">
  <title>代理配置</title>

  <para>
   如果您要建立固定 URL 以访问 Ceph Dashboard，或者不允许直接连接到 Manager 节点，可以设置一个代理将传入请求转发到当前活动的 <literal>ceph-mgr</literal> 实例。
  </para>

  <sect2 xml:id="dashboard-proxy">
   <title>使用反向代理访问仪表盘</title>
   <para>
    如果您要通过反向代理配置访问仪表盘，则可能需要使用 URL 前缀来访问。要让仪表盘使用包含您前缀的超链接，您可以设置 <option>url_prefix</option> 设置：
   </para>
<screen>
  <prompt>cephuser@adm &gt; </prompt>ceph config set mgr mgr/dashboard/url_prefix <replaceable>URL_PREFIX</replaceable>
  </screen>
   <para>
    然后，您便可通过网址 <literal>http://<replaceable>HOST_NAME</replaceable>:<replaceable>PORT_NUMBER</replaceable>/<replaceable>URL_PREFIX</replaceable>/</literal> 来访问仪表盘。
   </para>
  </sect2>

  <sect2 xml:id="dashboard-disable-redirection">
   <title>禁用重定向</title>
   <para>
    如果 Ceph Dashboard 位于 HAProxy 等负载平衡代理之后，请禁用重定向行为，以防止出现将内部（无法解析的）URL 发布到前端客户端的情况。使用以下命令可让仪表盘以 HTTP 错误（默认为<literal>500</literal>）响应，而不是重定向到活动仪表盘：
   </para>
<screen>
<prompt>cephuser@adm &gt; </prompt>ceph config set mgr mgr/dashboard/standby_behaviour "error"
</screen>
   <para>
    要将设置重置为默认的重定向行为，请使用以下命令：
   </para>
<screen>
<prompt>cephuser@adm &gt; </prompt>ceph config set mgr mgr/dashboard/standby_behaviour "redirect"
</screen>
  </sect2>

  <sect2 xml:id="dashboard-config-error-status">
   <title>配置错误状态码</title>
   <para>
    如果禁用了重定向行为，则应自定义待机仪表盘的 HTTP 状态码。为此，请运行以下命令：
   </para>
<screen>
<prompt>cephuser@adm &gt; </prompt>ceph config set mgr mgr/dashboard/standby_error_status_code 503
</screen>
  </sect2>

  <sect2 xml:id="dashboard-haproxy-config">
   <title>HAProxy 示例配置</title>
   <para>
    以下示例配置适用于使用 HAProxy 的 TLS/SSL 传递。
   </para>
   <note>
    <para>
     该配置适用于以下情况：如果仪表盘发生故障转移，前端客户端可能会收到 HTTP 重定向 (<literal>303</literal>) 响应，并将重定向到无法解析的主机。
    </para>
    <para>
     两次 HAProxy 健康状况检查期间发生故障转移时，会发生此情况。在这种情况下，之前处于活动状态的仪表盘节点现在将以 303 进行响应，从而指向新活动节点。为避免出现该情况，您应该考虑禁用待机节点上的重定向行为。
    </para>
   </note>
<screen>
  defaults
    log global
    option log-health-checks
    timeout connect 5s
    timeout client 50s
    timeout server 450s

  frontend dashboard_front
    mode http
    bind *:80
    option httplog
    redirect scheme https code 301 if !{ ssl_fc }

  frontend dashboard_front_ssl
    mode tcp
    bind *:443
    option tcplog
    default_backend dashboard_back_ssl

  backend dashboard_back_ssl
    mode tcp
    option httpchk GET /
    http-check expect status 200
    server x <replaceable>HOST</replaceable>:<replaceable>PORT</replaceable> ssl check verify none
    server y <replaceable>HOST</replaceable>:<replaceable>PORT</replaceable> ssl check verify none
    server z <replaceable>HOST</replaceable>:<replaceable>PORT</replaceable> ssl check verify none
</screen>
  </sect2>
 </sect1>
 <sect1 xml:id="dashboard-auditing">
  <title>审计 API 请求</title>

  <para>
   Ceph Dashboard 的 REST API 可在 Ceph 审计日志中记录 PUT、POST 和 DELETE 请求。记录功能默认处于禁用状态，但您可使用以下命令将其启用：
  </para>

<screen>
<prompt>cephuser@adm &gt; </prompt>ceph dashboard set-audit-api-enabled true
</screen>

  <para>
   如果记录功能处于启用状态，将会记录每个请求的以下参数：
  </para>

  <variablelist>
   <varlistentry>
    <term>from</term>
    <listitem>
     <para>
      请求的来源，例如“https://[::1]:44410”。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>path</term>
    <listitem>
     <para>
      REST API 路径，例如 <filename>/api/auth</filename>。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>method</term>
    <listitem>
     <para>
      “PUT”、“POST”或“DELETE”。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>user</term>
    <listitem>
     <para>
      用户的名称（或“None”）。
     </para>
    </listitem>
   </varlistentry>
  </variablelist>

  <para>
   示例日志项如下所示：
  </para>

<screen>
2019-02-06 10:33:01.302514 mgr.x [INF] [DASHBOARD] \
 from='https://[::ffff:127.0.0.1]:37022' path='/api/rgw/user/exu' method='PUT' \
 user='admin' params='{"max_buckets": "1000", "display_name": "Example User", "uid": "exu", "suspended": "0", "email": "user@example.com"}'
</screen>

  <tip>
   <title>禁用记录请求有效负载的功能</title>
   <para>
    请求有效负载（自变量及其值的列表）的记录功能默认处于启用状态。您可以按照如下方式禁用该功能：
   </para>
<screen>
<prompt>cephuser@adm &gt; </prompt>ceph dashboard set-audit-api-log-payload false
</screen>
  </tip>
 </sect1>
 <sect1 xml:id="dashboard-config-nfs-ganesha">
  <title>在 Ceph Dashboard 中配置 NFS Ganesha</title>

  <para>
   Ceph Dashboard 可以管理使用 CephFS 或对象网关作为其后备存储的 NFS Ganesha 导出项。该仪表盘用于管理存储在 CephFS 集群上的 RADOS 对象中的 NFS Ganesha 配置文件。NFS Ganesha 必须将其部分配置存储在 Ceph 集群中。
  </para>

  <para>
   运行以下命令以配置 NFS Ganesha 配置对象的位置：
  </para>

<screen><prompt>cephuser@adm &gt; </prompt>ceph dashboard set-ganesha-clusters-rados-pool-namespace <replaceable>pool_name</replaceable>[/<replaceable>namespace</replaceable>]</screen>

  <para>
   现在您便可以使用 Ceph Dashboard 管理 NFS Ganesha 导出项。
  </para>

  <sect2 xml:id="dashboard-multi-config-nfs-ganesha">
   <title>配置多个 NFS Ganesha 集群</title>
   <para>
    Ceph Dashboard 支持管理属于不同 NFS Ganesha 集群的 NFS Ganesha 导出项。建议每个 NFS Ganesha 集群将其配置对象存储在不同的 RADOS 存储池/名称空间中，以便相互隔离各自配置。
   </para>
   <para>
    使用以下命令可指定每个 NFS Ganesha 集群的配置位置：
   </para>
<screen><prompt>cephuser@adm &gt; </prompt>ceph dashboard set-ganesha-clusters-rados-pool-namespace <replaceable>cluster_id</replaceable>:<replaceable>pool_name</replaceable>[/<replaceable>namespace</replaceable>](,<replaceable>cluster_id</replaceable>:<replaceable>pool_name</replaceable>[/<replaceable>namespace</replaceable>])*</screen>
   <para>
    <replaceable>cluster_id</replaceable> 是唯一标识 NFS Ganesha 集群的任意字符串。
   </para>
   <para>
    使用多个 NFS Ganesha 集群配置 Ceph Dashboard 时，Web UI 会自动让您选择导出项的所属集群。
   </para>
  </sect2>
 </sect1>
 <sect1 xml:id="dashboard-debug-plugin">
  <title>调试插件</title>

  <para>
   Ceph Dashboard 插件扩展了仪表盘的功能。调试插件允许根据调试模式来自定义仪表盘的行为。可以使用以下命令启用、禁用或检查调试插件：
  </para>

<screen>
<prompt>cephuser@adm &gt; </prompt>ceph dashboard debug status
Debug: 'disabled'
<prompt>cephuser@adm &gt; </prompt>ceph dashboard debug enable
Debug: 'enabled'
<prompt>cephuser@adm &gt; </prompt>dashboard debug disable
Debug: 'disabled'
</screen>

  <para>
   默认情况下，它处于禁用状态。这是适用于生产部署的推荐设置。如果需要，可以启用调试模式，而无需重启动。
  </para>
 </sect1>
</chapter>
