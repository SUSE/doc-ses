<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="dashboard_webui.xml" version="5.0" xml:id="dashboard-webui-general">
 <title>仪表盘的 Web 用户界面</title>
 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:translation>是</dm:translation>
   <dm:release>SES 7</dm:release>
  </dm:docmanager>
 </info>
 <sect1 xml:id="dashboard-webui-login">
  <title>登录</title>

  <para>
   要登录 Ceph Dashboard，请将浏览器指向其 URL，包括端口号。运行以下命令可查找地址：
  </para>

<screen>
<prompt>cephuser@adm &gt; </prompt>ceph mgr services | grep dashboard
"dashboard": "https://host:port/",
</screen>

  <para>
   该命令将返回 Ceph Dashboard 所在的
   URL。如果您有与此命令相关的问题，请参见<xref linkend="bp-troubleshooting-locate-dashboard"/>。
  </para>

  <figure>
   <title>Ceph Dashboard 登录屏幕</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="dashboard_login.png" width="100%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="dashboard_login.png" width="100%"/>
    </imageobject>
   </mediaobject>
  </figure>

  <para>
   使用您在集群部署期间创建的身份凭证登录（参见<xref linkend="deploy-cephadm-configure-dashboardlogin"/>）。
  </para>

  <tip>
   <title>自定义用户帐户</title>
   <para>
    如果您不想使用默认的 <emphasis>admin</emphasis> 帐户访问 Ceph
    Dashboard，请创建拥有管理员权限的自定义用户帐户。有关更多详细信息，请参见<xref linkend="dashboard-user-roles"/>。
   </para>
  </tip>

  <para>
   仪表盘用户界面以图形方式分为几个<emphasis>区块</emphasis>：屏幕右上方的<emphasis>实用程序菜单</emphasis>，左侧的<emphasis>主菜单</emphasis>以及主要的<emphasis>内容窗格</emphasis>。
  </para>

  <figure>
   <title>Ceph Dashboard 首页</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="dashboard_homepage.png" width="90%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="dashboard_homepage.png" width="90%"/>
    </imageobject>
   </mediaobject>
  </figure>
 </sect1>
 <sect1 xml:id="dashboard-util-menu">
  <title>实用程序菜单</title>

  <para>
   实用程序菜单位于屏幕右上方。该菜单包含与仪表盘更为相关（相较于 Ceph 集群）的常规任务。点击相应选项可以访问以下主题：
  </para>

  <itemizedlist>
   <listitem>
    <para>
     将仪表盘的语言界面更改为：捷克语、德语、英语、西班牙语、法语、印度尼西亚语、意大利语、日语、韩语、波兰语、葡萄牙语（巴西）和中文。
    </para>
   </listitem>
   <listitem>
    <para>
     任务和通知
    </para>
   </listitem>
   <listitem>
    <para>
     查看文档、有关 REST API 的信息或有关仪表盘的更多信息。
    </para>
   </listitem>
   <listitem>
    <para>
     用户管理和遥测配置。
    </para>
    <note>
     <para>
      有关用户角色的更详细的命令行描述，请参见<xref linkend="dashboard-user-roles"/>。
     </para>
    </note>
   </listitem>
   <listitem>
    <para>
     登录配置；更改密码或登出。
    </para>
   </listitem>
  </itemizedlist>
 </sect1>
 <sect1 xml:id="dashboard-main-menu">
  <title>主菜单</title>

  <para>
   仪表盘的主菜单位于屏幕左侧。它涵盖下列主题：
  </para>

  <variablelist>
   <varlistentry>
    <term><guimenu>操作板</guimenu></term>
    <listitem>
     <para>
      返回 Ceph Dashboard 首页。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><guimenu>群集</guimenu></term>
    <listitem>
     <para>
      查看有关主机、库存、Ceph Monitor、服务、Ceph OSD、集群配置、CRUSH 索引、Ceph Manager
      模块、日志和监控的详细信息。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><guimenu>存储池</guimenu></term>
    <listitem>
     <para>
      查看并管理集群存储池。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><guimenu>拦截</guimenu></term>
    <listitem>
     <para>
      查看详细信息并管理 RADOS 块设备映像、镜像和 iSCSI。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><guimenu>NFS</guimenu></term>
    <listitem>
     <para>
      查看并管理 NFS Ganesha 部署。
     </para>
     <note>
      <para>
       如果未部署 NFS
       Ganesha，则会显示一条信息通知。请参见<xref linkend="dashboard-config-nfs-ganesha"/>。
      </para>
     </note>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><guimenu>Filesystems</guimenu></term>
    <listitem>
     <para>
      查看并管理 CephFS。
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><guimenu>对象网关</guimenu></term>
    <listitem>
     <para>
      查看并管理对象网关的守护进程、用户和存储桶。
     </para>
     <note>
      <para>
       如果未部署对象网关，则会显示一条信息通知。请参见<xref linkend="dashboard-ogw-enabling"/>。
      </para>
     </note>
    </listitem>
   </varlistentry>
  </variablelist>
 </sect1>
 <sect1 xml:id="dashboard-cpane">
  <title>内容窗格</title>

  <para>
   内容窗格占据仪表盘屏幕的主要部分。仪表盘首页上显示了很多有用的控件，为您提供集群当前状态、容量及性能的概要信息。
  </para>
 </sect1>
 <sect1 xml:id="dashboard-ui-common">
  <title>常用 Web UI 功能</title>

  <para>
   在 Ceph Dashboard 中，您经常会用到<emphasis>列表</emphasis> — 例如，存储池列表、OSD 节点列表或 RBD
   设备列表。所有列表默认每五秒会自动刷新一次。下列常用控件可帮助您管理或调整这些列表：
  </para>

  <para>
   点击 <inlinemediaobject>
   <imageobject role="fo">
    <imagedata fileref="oa_widget_reload.png" width="1.2em"/>
   </imageobject>
   <imageobject role="html">
    <imagedata fileref="oa_widget_reload.png" width="1.2em"/>
   </imageobject>
   </inlinemediaobject> 可手动触发列表的刷新。
  </para>

  <para>
   点击 <inlinemediaobject>
   <imageobject role="fo">
    <imagedata fileref="oa_widget_columns.png" width="1.3em"/>
   </imageobject>
   <imageobject role="html">
    <imagedata fileref="oa_widget_columns.png" width="1.3em"/>
   </imageobject>
   </inlinemediaobject> 可显示或隐藏表格的相应列。
  </para>

  <para>
   点击 <inlinemediaobject>
   <imageobject role="fo">
    <imagedata fileref="oa_widget_rows.png" width="1.8em"/>
   </imageobject>
   <imageobject role="html">
    <imagedata fileref="oa_widget_rows.png" width="1.8em"/>
   </imageobject>
   </inlinemediaobject> 并输入（或选择）要在一页上显示多少行。
  </para>

  <para>
   在 <inlinemediaobject>
   <imageobject role="fo">
    <imagedata fileref="oa_widget_search.png" width="5em"/>
   </imageobject>
   <imageobject role="html">
    <imagedata fileref="oa_widget_search.png" width="5em"/>
   </imageobject>
   </inlinemediaobject> 中点击并键入要搜索的字符串以过滤行。
  </para>

  <para>
   如果列表跨多页显示，可使用 <inlinemediaobject>
   <imageobject role="fo">
    <imagedata fileref="oa_widget_pager.png" width="6em"/>
   </imageobject>
   <imageobject role="html">
    <imagedata fileref="oa_widget_pager.png" width="6em"/>
   </imageobject>
   </inlinemediaobject> 来更改当前显示的页。
  </para>
 </sect1>
 <sect1 xml:id="dashboard-widgets">
  <title>仪表盘控件</title>

  <para>
   每个仪表盘控件显示与运行中 Ceph 集群特定方面相关的特定状态信息。有些控件是活跃链接，点击它们会将您重定向到其所代表主题的相关详细页面。
  </para>

  <tip>
   <title>鼠标悬停时显示更多详细信息</title>
   <para>
    有些图形控件会在您将鼠标移到其上时显示更多详细信息。
   </para>
  </tip>

  <sect2 xml:id="dashboard-widgets-status">
   <title>状态控件</title>
   <para>
    <guimenu>状态</guimenu>控件为您提供有关集群当前状态的简要概览。
   </para>
   <figure>
    <title>状态控件</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="dashboard_widgets_status.png" width="100%"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="dashboard_widgets_status.png" width="100%"/>
     </imageobject>
    </mediaobject>
   </figure>
   <variablelist>
    <varlistentry>
     <term><guimenu>集群状态</guimenu></term>
     <listitem>
      <para>
       显示有关集群健康状况的基本信息。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>主机</guimenu></term>
     <listitem>
      <para>
       显示集群节点的总数。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>Monitor</guimenu></term>
     <listitem>
      <para>
       显示运行中 Monitor 数量及其仲裁。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>OSD</guimenu></term>
     <listitem>
      <para>
       显示 OSD 的总数及处于 <emphasis>up</emphasis> 和 <emphasis>in</emphasis> 状态的 OSD
       数量。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>管理员</guimenu></term>
     <listitem>
      <para>
       显示处于活跃和待机状态的 Ceph Manager 守护进程的数量。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>对象网关</guimenu></term>
     <listitem>
      <para>
       显示运行中对象网关的数量。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>元数据服务器</guimenu></term>
     <listitem>
      <para>
       显示元数据服务器的数量。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>iSCSI 网关</guimenu></term>
     <listitem>
      <para>
       显示配置的 iSCSI 网关的数量。
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
  </sect2>

  <sect2 xml:id="dashboard-widgets-capacity">
   <title>容量控件</title>
   <para>
    <guimenu>容量</guimenu>控件显示有关存储容量的简要信息。
   </para>
   <figure>
    <title>容量控件</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="dashboard_widgets_capacity.png" width="100%"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="dashboard_widgets_capacity.png" width="100%"/>
     </imageobject>
    </mediaobject>
   </figure>
   <variablelist>
    <varlistentry>
     <term><guimenu>基本容量</guimenu></term>
     <listitem>
      <para>
       显示已用与可用基本存储容量的比例。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>对象</guimenu></term>
     <listitem>
      <para>
       显示集群中存储的数据对象数量。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>PG 状态</guimenu></term>
     <listitem>
      <para>
       显示按照状态分组的归置组图表。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>存储池</guimenu></term>
     <listitem>
      <para>
       显示集群中存储池的数量。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>每个 OSD 的 PG 数</guimenu></term>
     <listitem>
      <para>
       显示每个 OSD 的平均归置组数量。
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
  </sect2>

  <sect2 xml:id="dashboard-widgets-performance">
   <title>性能控件</title>
   <para>
    <guimenu>性能</guimenu>控件提供 Ceph 客户端的基本性能数据。
   </para>
   <figure>
    <title>性能控件</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="dashboard_widgets_perf.png" width="100%"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="dashboard_widgets_perf.png" width="100%"/>
     </imageobject>
    </mediaobject>
   </figure>
   <variablelist>
    <varlistentry>
     <term><guimenu>客户端读/写</guimenu></term>
     <listitem>
      <para>
       每秒客户端读写操作次数。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>客户端吞吐量</guimenu></term>
     <listitem>
      <para>
       每秒与 Ceph 客户端之间传输的数据量（以字节为单位）。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>恢复吞吐量</guimenu></term>
     <listitem>
      <para>
       每秒恢复的数据吞吐量。
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>洗刷</guimenu></term>
     <listitem>
      <para>
       显示洗刷（参见<xref linkend="op-pg-scrubpg"/>）状态。其状态可以是
       <option>inactive</option>、<option>enabled</option> 或
       <option>active</option>。
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
  </sect2>
 </sect1>
</chapter>
