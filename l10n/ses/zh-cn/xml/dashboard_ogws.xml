<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="dashboard_ogws.xml" version="5.0" xml:id="dashboard-ogw">
 <title>管理对象网关</title>
 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:translation>yes</dm:translation>
   <dm:release>SES 7</dm:release>
  </dm:docmanager>
 </info>
 <important>
  <para>
   开始之前，在尝试访问 Ceph Dashboard 上的对象网关前端时，您可能会收到以下通知：
  </para>
<screen>
Information
No RGW credentials found, please consult the documentation on how to enable RGW for the dashboard.
Please consult the documentation on how to configure and enable the Object Gateway management functionality.
</screen>
  <para>
   这是因为 cephadm 没有为 Ceph Dashboard 自动配置对象网关。如果您收到此通知，请按照<xref linkend="dashboard-ogw-enabling"/>中的说明手动启用 Ceph Dashboard 的对象网关前端。
  </para>
 </important>
 <tip>
  <title>对象网关的更多信息</title>
  <para>
   有关对象网关的更多一般信息，请参见<xref linkend="cha-ceph-gw"/>。
  </para>
 </tip>
 <sect1 xml:id="dashboard-ogw-view">
  <title>查看对象网关</title>

  <para>
   要查看配置的对象网关列表，请点击<menuchoice><guimenu>对象网关</guimenu><guimenu>守护进程</guimenu></menuchoice>。该列表包含网关的 ID、运行网关守护进程的集群节点的主机名以及网关的版本号。
  </para>

  <para>
   点击网关名称旁的下拉箭头可查看有关该网关的详细信息。<guimenu>性能计数器</guimenu>选项卡显示有关读/写操作及缓存统计数据的详细信息。
  </para>

  <figure>
   <title>网关的详细信息</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="dash_ogw_details.png" width="100%" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="dash_ogw_details.png" width="100%" format="PNG"/>
    </imageobject>
   </mediaobject>
  </figure>
 </sect1>
 <sect1 xml:id="dashboard-ogw-user">
  <title>管理对象网关用户</title>

  <para>
   点击<menuchoice><guimenu>对象网关</guimenu><guimenu>用户</guimenu></menuchoice>可查看现有对象网关用户的列表。
  </para>

  <para>
   点击用户名旁的下拉箭头可查看有关用户帐户的详细信息，例如状态信息或用户和存储桶配额详细信息。
  </para>

  <figure>
   <title>网关用户</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="dash_ogw_users_details.png" width="100%" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="dash_ogw_users_details.png" width="100%" format="PNG"/>
    </imageobject>
   </mediaobject>
  </figure>

  <sect2 xml:id="dashboard-ogw-user-create">
   <title>添加新网关用户</title>
   <para>
    要添加新网关用户，请点击表标题左上方的<guimenu>创建</guimenu>。填写其身份凭证、有关 S3 密钥及用户和存储桶配额的详细信息，然后点击<guimenu>创建用户</guimenu>进行确认。
   </para>
   <figure>
    <title>添加新网关用户</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="dash_ogw_user_add.png" width="100%" format="PNG"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="dash_ogw_user_add.png" width="100%" format="PNG"/>
     </imageobject>
    </mediaobject>
   </figure>
  </sect2>

  <sect2 xml:id="dashboard-ogw-user-delete">
   <title>删除网关用户</title>
   <para>
    要删除网关用户，请选择并高亮显示该用户。点击<guimenu>编辑</guimenu>旁的下拉按钮，然后从列表中选择<guimenu>删除</guimenu>，即可删除用户帐户。激活<guimenu>是的，我确定</guimenu>复选框，然后点击<guimenu>删除用户</guimenu>进行确认。
   </para>
  </sect2>

  <sect2 xml:id="dashboard-ogw-user-edit">
   <title>编辑网关用户详细信息</title>
   <para>
    要更改网关用户详细信息，请选择并高亮显示该用户。点击表标题左上方的<guimenu>编辑</guimenu>。
   </para>
   <para>
    修改基本或附加用户信息，例如其用户权限、密钥、子用户和配额信息。点击<guimenu>编辑用户</guimenu>进行确认。
   </para>
   <para>
    <guimenu>密钥</guimenu>选项卡包含只读的网关用户列表以及这些用户的访问密钥和秘密密钥。要查看这些密钥，请点击列表中的用户名，然后选择表标题左上方的<guimenu>显示</guimenu>。在 <guimenu>S3 密钥</guimenu>对话框中，点击眼睛图标可显示密钥，点击剪贴板图标可将相关密钥复制到剪贴板。
   </para>
  </sect2>
 </sect1>
 <sect1 xml:id="dashboard-ogw-bucket">
  <title>管理对象网关存储桶</title>

  <para>
   对象网关 (OGW) 存储桶实现了 OpenStack Swift 容器的功能。对象网关存储桶可充当存储数据对象的容器。
  </para>

  <para>
   点击<menuchoice><guimenu>对象网关</guimenu><guimenu>存储桶</guimenu></menuchoice>可查看对象网关存储桶列表。
  </para>

  <sect2 xml:id="dashboard-ogw-bucket-create">
   <title>添加新的存储桶</title>
   <para>
    要添加新的对象网关存储桶，请点击表标题左上方的<guimenu>创建</guimenu>。输入存储桶的名称，选择所有者，并设置归置目标。点击<guimenu>创建存储桶</guimenu>进行确认。
   </para>
   <note>
    <para>
     您也可以在此阶段通过选择<guimenu>已启用</guimenu>来启用锁定；但此功能在存储桶创建之后亦可配置。有关更多信息，请参见<xref linkend="dashboard-ogw-bucket-edit"/>。
    </para>
   </note>
  </sect2>

  <sect2 xml:id="dashboard-ogw-bucket-view">
   <title>查看存储桶详细信息</title>
   <para>
    要查看有关对象网关存储桶的详细信息，请点击存储桶名称旁的下拉箭头。
   </para>
   <figure>
    <title>网关存储桶详细信息</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="dash_ogw_bucket_details.png" width="100%" format="PNG"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="dash_ogw_bucket_details.png" width="100%" format="PNG"/>
     </imageobject>
    </mediaobject>
   </figure>
   <tip>
    <title>存储桶配额</title>
    <para>
     您可以在<guimenu>详细信息</guimenu>表下方查看有关存储桶配额和锁定设置的详细信息。
    </para>
   </tip>
  </sect2>

  <sect2 xml:id="dashboard-ogw-bucket-edit">
   <title>编辑存储桶</title>
   <para>
    选择并高亮显示存储桶，然后点击表标题左上方的<guimenu>编辑</guimenu>。
   </para>
   <para>
    您可以更新存储桶的所有者，或者启用版本控制、多重身份验证或锁定功能。点击<guimenu>编辑存储桶</guimenu>确认任何更改。
   </para>
   <figure>
    <title>编辑存储桶详细信息</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="dash_ogw_bucket_edit.png" width="100%" format="PNG"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="dash_ogw_bucket_edit.png" width="100%" format="PNG"/>
     </imageobject>
    </mediaobject>
   </figure>
  </sect2>

  <sect2 xml:id="dashboard-ogw-bucket-delete">
   <title>删除存储桶</title>
   <para>
    要删除对象网关存储桶，请选择并高亮显示该存储桶。点击<guimenu>编辑</guimenu>旁的下拉按钮，然后从列表中选择<guimenu>删除</guimenu>，即可删除存储桶。激活<guimenu>是的，我确定</guimenu>复选框，然后点击<guimenu>删除存储桶</guimenu>进行确认。
   </para>
  </sect2>
 </sect1>
</chapter>
