<?xml version="1.0" encoding="UTF-8"?>
<sect1 xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="common_intro_prompts.xml" version="5.0">
 <title>Comandos e prompts de comando usados neste guia</title>

 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:translation>yes</dm:translation>
   <dm:release>SES 7</dm:release>
  </dm:docmanager>
 </info>

 <para>
  Como administrador de cluster do Ceph, você configura e ajusta o comportamento do cluster executando comandos específicos. Há vários tipos de comandos que serão necessários:
 </para>

 <sect2>
  <title>Comandos relacionados ao Salt</title>
  <para>
   Esses comandos ajudam você a implantar nós do cluster do Ceph, executar comandos em vários (ou todos) nós do cluster ao mesmo tempo ou a adicionar ou remover nós do cluster. Os comandos usados com mais frequência são <command>ceph-salt</command> e <command>ceph-salt config</command>. Você precisa executar os comandos do Salt no nó do Master Salt como <systemitem class="username">root</systemitem>. Esses comandos são introduzidos com o seguinte prompt:
  </para>
<screen>
<prompt>root@master # </prompt>
</screen>
  <para>
   Por exemplo:
  </para>
<screen>
<prompt>root@master # </prompt>ceph-salt config ls
</screen>
 </sect2>

 <sect2>
  <title>Comandos relacionados ao Ceph</title>
  <para>
   Esses são comandos de nível inferior para configurar e ajustar todos os aspectos do cluster e seus gateways na linha de comando, por exemplo, <command>ceph</command>, <command>cephadm</command>, <command>rbd</command> ou <command>radosgw-admin</command>.
  </para>
  <para>
   Para executar os comandos relacionados ao Ceph, você precisa ter acesso de leitura a uma chave do Ceph. Os recursos da chave definem seus privilégios no ambiente do Ceph. Uma opção é executar os comandos do Ceph como <systemitem class="username">root</systemitem> (ou por meio do <command>sudo</command>) e usar o chaveiro padrão irrestrito “ceph.client.admin.key”.
  </para>
  <para>
   A opção mais segura e recomendada é criar uma chave individual mais restritiva para cada usuário administrador e colocá-la em um diretório onde os usuários possam lê-la, por exemplo:
  </para>
<screen>~/.ceph/ceph.client.<replaceable>USERNAME</replaceable>.keyring</screen>
  <tip>
   <title>Caminho para as chaves do Ceph</title>
   <para>
    Para utilizar um usuário admin e um chaveiro personalizados, você precisa especificar o nome de usuário e o caminho para a chave toda vez que executar o comando <command>ceph</command> com as opções <option>-n client.<replaceable>USER_NAME</replaceable></option> e <option>--keyring <replaceable>PATH/TO/KEYRING</replaceable></option>.
   </para>
   <para>
    Para evitar isso, inclua essas opções na variável <varname>CEPH_ARGS</varname> nos arquivos <filename>~/.bashrc</filename> dos usuários individuais.
   </para>
  </tip>
  <para>
   É possível executar os comandos relacionados ao Ceph em qualquer nó do cluster, mas a recomendação é executá-los no Nó de Admin. Esta documentação utiliza o usuário <systemitem class="username">cephuser</systemitem> para executar os comandos, portanto, eles são introduzidos com o seguinte prompt:
  </para>
<screen>
<prompt>cephuser@adm &gt; </prompt>
</screen>
  <para>
   Por exemplo:
  </para>
<screen>
<prompt>cephuser@adm &gt; </prompt>ceph auth list
</screen>
  <tip>
   <title>Comandos para nós específicos</title>
   <para>
    Se a documentação orientar você a executar um comando em um nó do cluster com uma função específica, isso será processado pelo prompt. Por exemplo:
   </para>
<screen>
<prompt>cephuser@mon &gt; </prompt>
</screen>
  </tip>
  <sect3>
   <title>Executando o <command>ceph-volume</command></title>
   <para>
    A partir do SUSE Enterprise Storage 7, os serviços do Ceph são executados em containers. Se você precisar executar o <command>ceph-volume</command> em um nó OSD, anteceda-o com o comando <command>cephadm</command>, por exemplo:
   </para>
<screen><prompt>cephuser@adm &gt; </prompt>cephadm ceph-volume simple scan</screen>
  </sect3>
 </sect2>

 <sect2>
  <title>Comandos gerais do Linux</title>
  <para>
   Os comandos do Linux não relacionados ao Ceph, como <command>mount</command>, <command>cat</command> ou <command>openssl</command>, são introduzidos com os prompts <prompt>cephuser@adm &gt; </prompt> ou <prompt role="root">#</prompt>, dependendo dos privilégios exigidos pelo comando relacionado.
  </para>
 </sect2>

 <sect2>
  <title>Informações adicionais</title>
  <para>
   Para obter mais informações sobre o gerenciamento de chaves do Ceph, consulte o <xref linkend="storage-cephx-keymgmt"/>.
  </para>
 </sect2>
</sect1>
