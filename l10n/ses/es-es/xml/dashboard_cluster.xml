<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="dashboard_cluster.xml" version="5.0" xml:id="dashboard-cluster">
 <title>Visualización de elementos internos del clúster</title>
 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:translation>sí</dm:translation>
   <dm:release>SES 7</dm:release>
  </dm:docmanager>
 </info>
 <para>
  El elemento de menú <guimenu>Clúster</guimenu> permite ver información detallada acerca de los hosts del clúster de Ceph, el inventario, los monitores Ceph Monitor, los servicios, los OSD, la configuración, el mapa de CRUSH, Ceph Manager, los registros y los archivos de supervisión.
 </para>
 <sect1 xml:id="dashboard-cluster-hosts">
  <title>Visualización de nodos de clúster</title>

  <para>
   Haga clic en <menuchoice><guimenu>Clúster</guimenu><guimenu>Hosts</guimenu></menuchoice> para ver una lista de nodos de clúster.
  </para>

  <figure>
   <title>Hosts</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="dash_hosts.png" width="100%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="dash_hosts.png" width="100%"/>
    </imageobject>
   </mediaobject>
  </figure>

  <para>
   Haga clic en la flecha desplegable situada junto al nombre de un nodo en la columna <guimenu>Nombre de host</guimenu> para ver los detalles de rendimiento del nodo.
  </para>

  <para>
   La columna <guimenu>Servicios</guimenu> muestra todos los daemons que se ejecutan en cada nodo relacionado. Haga clic en un nombre de daemon para ver su configuración detallada.
  </para>
 </sect1>
 <sect1 xml:id="dashboard-cluster-inventory">
  <title>Acceso al inventario del clúster</title>

  <para>
   Haga clic en <menuchoice><guimenu>Clúster</guimenu><guimenu>Inventario</guimenu></menuchoice> para ver una lista de dispositivos. La lista incluye la vía del dispositivo, el tipo, la disponibilidad, el proveedor, el modelo, el tamaño y los OSD.
  </para>

  <para>
   Haga clic para seleccionar un nombre de nodo en la columna <guimenu>Nombre de host</guimenu>. Si está seleccionado, haga clic en <guimenu>Identificar</guimenu> para identificar el dispositivo en el que se ejecuta el host. Esto indica al dispositivo que haga parpadear sus LED. Seleccione la duración de esta acción, que puede ser 1, 2, 5, 10 o 15 minutos. Haga clic en <guimenu>Ejecutar.</guimenu>
  </para>

  <figure>
   <title>Servicios</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="dash_inventory.png" width="100%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="dash_inventory.png" width="100%"/>
    </imageobject>
   </mediaobject>
  </figure>
 </sect1>
 <sect1 xml:id="dashboard-cluster-monitors">
  <title>Visualización de monitores Ceph Monitor</title>

  <para>
   Haga clic en <menuchoice><guimenu>Clúster</guimenu><guimenu>Monitores</guimenu></menuchoice> para ver una lista de nodos de clúster con monitores de Ceph en ejecución. El panel de contenido se divide en dos vistas: <literal>Estado</literal> y <literal>En quórum</literal> o <literal>Sin quórum.</literal>
  </para>

  <para>
   La tabla <guimenu>Estado</guimenu> muestra estadísticas generales sobre los monitores Ceph Monitor en ejecución, incluido lo siguiente:
  </para>

  <itemizedlist>
   <listitem>
    <para>
     ID del clúster
    </para>
   </listitem>
   <listitem>
    <para>
     Mapa de supervisión modificado
    </para>
   </listitem>
   <listitem>
    <para>
     Época de mapa de supervisión
    </para>
   </listitem>
   <listitem>
    <para>
     quórum de con
    </para>
   </listitem>
   <listitem>
    <para>
     quórum de mon
    </para>
   </listitem>
   <listitem>
    <para>
     con requerido
    </para>
   </listitem>
   <listitem>
    <para>
     mon requerido
    </para>
   </listitem>
  </itemizedlist>

  <para>
   Los paneles <literal>Con quórum</literal> y <literal>Sin quórum</literal> incluyen el nombre de cada monitor, el número de rango, la dirección IP pública y el número de sesiones abiertas.
  </para>

  <para>
   Haga clic en un nombre de nodo en la columna <guimenu>Nombre</guimenu> para ver la configuración relacionada de Ceph Monitor.
  </para>

  <figure>
   <title>Monitores Ceph Monitor</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="dash_mons.png" width="100%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="dash_mons.png" width="100%"/>
    </imageobject>
   </mediaobject>
  </figure>
 </sect1>
 <sect1 xml:id="dashboard-cluster-services">
  <title>Visualización de servicios</title>

  <para>
   Haga clic en <menuchoice><guimenu>Clúster</guimenu><guimenu>Servicios</guimenu></menuchoice> para ver los detalles de cada uno de los servicios disponibles: <literal>crash</literal>, Ceph Manager y monitores Ceph Monitor. La lista incluye el nombre de la imagen del contenedor, el ID de la imagen del contenedor, el estado de lo que se está ejecutando, el tamaño y cuándo se actualizó por última vez.
  </para>

  <para>
   Haga clic en la flecha desplegable situada junto al nombre de un servicio en la columna <guimenu>Servicio</guimenu> para ver los detalles del daemon. La lista de detalles incluye el nombre de host, el tipo de daemon, el ID de daemon, el ID de contenedor, el nombre de la imagen del contenedor, el ID de la imagen del contenedor, el número de versión, el estado y cuándo se actualizó por última vez.
  </para>

  <figure>
   <title>Servicios</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="dash_services.png" width="100%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="dash_services.png" width="100%"/>
    </imageobject>
   </mediaobject>
  </figure>
 </sect1>
 <sect1 xml:id="dashboard-cluster-osds">
  <title>Visualización de los OSD de Ceph</title>

  <para>
   Haga clic en <menuchoice><guimenu>Clúster</guimenu><guimenu>OSDs</guimenu></menuchoice> para ver una lista de nodos con daemons de OSD en ejecución. La lista incluye el nombre de cada nodo, el ID, su estado, la clase de dispositivo, el número de grupos de colocación, el tamaño, el uso, el gráfico de lecturas/escrituras en el tiempo y la tasa de operaciones de lectura/escritura por segundo.
  </para>

  <figure>
   <title>Daemons Ceph OSD</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="dash_osds.png" width="100%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="dash_osds.png" width="100%"/>
    </imageobject>
   </mediaobject>
  </figure>

  <para>
   Seleccione <guimenu>Indicadores</guimenu> en el menú desplegable <guimenu>Configuración de todo el clúster</guimenu> en el encabezado de la tabla para abrir una ventana emergente. En ella verá una lista de indicadores que se aplican a todo el clúster. Puede activar o desactivar indicadores individuales. Para confirmar, haga clic en <guimenu>Enviar.</guimenu>
  </para>

  <figure>
   <title>Indicadores de OSD</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="dash_osds_flags.png" width="70%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="dash_osds_flags.png" width="70%"/>
    </imageobject>
   </mediaobject>
  </figure>

  <para>
   Seleccione <guimenu>Prioridad de recuperación</guimenu> en el menú desplegable <guimenu>Configuración de todo el clúster</guimenu> en el encabezado de la tabla para abrir una ventana emergente. En ella verá una lista de prioridades de recuperación de OSD que se aplican a todo el clúster. Puede activar el perfil de prioridad preferido y después ajustar los valores individuales. Para confirmar, haga clic en <guimenu>Enviar.</guimenu>
  </para>

  <figure>
   <title>Prioridad de recuperación de OSD</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="dash_osds_recover.png" width="70%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="dash_osds_recover.png" width="70%"/>
    </imageobject>
   </mediaobject>
  </figure>

  <para>
   Haga clic en la flecha desplegable situada junto a un nombre de nodo en la columna <guimenu>Host</guimenu> para ver una tabla extendida con detalles sobre la configuración y el rendimiento del dispositivo. En las distintas pestañas, es posible ver listas de <guimenu>atributos</guimenu>, <guimenu>metadatos</guimenu>, el <guimenu>estado del dispositivo</guimenu>, <guimenu>contadores de rendimiento</guimenu> y un <guimenu>histograma</guimenu> gráfico de lecturas y escrituras, así como <guimenu>detalles de rendimiento.</guimenu>
  </para>

  <figure>
   <title>Detalles de OSD</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="dash_osd_details.png" width="100%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="dash_osd_details.png" width="100%"/>
    </imageobject>
   </mediaobject>
  </figure>

  <tip>
   <title>realización de tareas específicas en los OSD</title>
   <para>
    Cuando se hace clic en el nombre de un nodo de OSD, la fila de la tabla se resalta. Esto significa que ahora se puede realizar una tarea en el nodo. Puede realizar cualquiera de las siguientes acciones: <guimenu>Editar,</guimenu> <guimenu>Crear,</guimenu> <guimenu>Depuración,</guimenu> <guimenu>Depuración profunda,</guimenu> <guimenu>Reequilibrar peso,</guimenu> <guimenu>Marcar para excluir,</guimenu> <guimenu>Marcar para incluir,</guimenu> <guimenu>Marcar para desactivar,</guimenu> <guimenu>Marcar como perdido,</guimenu> <guimenu>Limpiar,</guimenu> <guimenu>Destruir</guimenu> o <guimenu>Suprimir.</guimenu>
   </para>
   <para>
    Haga clic en la flecha hacia abajo situada en la parte superior izquierda del encabezado de la tabla, junto al botón <guimenu>Crear</guimenu> y seleccione la tarea que desea realizar.
   </para>
  </tip>

  <sect2 xml:id="dashboard-cluster-osds-add">
   <title>Adición de OSD</title>
   <para>
    Para añadir nuevos OSD, siga estos pasos:
   </para>
   <procedure>
    <step>
     <para>
      Verifique que algunos nodos del clúster tengan dispositivos de almacenamiento cuyo estado sea <literal>disponible.</literal> A continuación, haga clic en la flecha hacia abajo situada en la parte superior izquierda del encabezado de la tabla y seleccione <guimenu>Crear.</guimenu> Se abrirá la ventana <guimenu>Crear OSDs.</guimenu>
     </para>
     <figure>
      <title>Crear OSDs</title>
      <mediaobject>
       <imageobject role="fo">
        <imagedata fileref="dash_osd_add.png" width="75%"/>
       </imageobject>
       <imageobject role="html">
        <imagedata fileref="dash_osd_add.png" width="75%"/>
       </imageobject>
      </mediaobject>
     </figure>
    </step>
    <step>
     <para>
      Para añadir dispositivos de almacenamiento primarios para los OSD, haga clic en <guimenu>Añadir.</guimenu> Antes de poder añadir dispositivos de almacenamiento, debe especificar criterios de filtrado en la parte superior derecha de la tabla <guimenu>Dispositivos primarios;</guimenu> por ejemplo, <guimenu>Tipo</guimenu> <guimenu>hdd</guimenu>. Para confirmar, haga clic en <guimenu>Añadir.</guimenu>
     </para>
     <figure>
      <title>Adición de dispositivos primarios</title>
      <mediaobject>
       <imageobject role="fo">
        <imagedata fileref="dash_osd_add_primary.png" width="100%"/>
       </imageobject>
       <imageobject role="html">
        <imagedata fileref="dash_osd_add_primary.png" width="100%"/>
       </imageobject>
      </mediaobject>
     </figure>
    </step>
    <step>
     <para>
      En la ventana <guimenu>Crear OSDs</guimenu> actualizada, tiene la opción de añadir dispositivos WAL y BD compartidos, o bien de habilitar el cifrado de dispositivos.
     </para>
     <figure>
      <title>Crear OSDs con dispositivos primarios añadidos</title>
      <mediaobject>
       <imageobject role="fo">
        <imagedata fileref="dash_osd_add_primary_created.png" width="75%"/>
       </imageobject>
       <imageobject role="html">
        <imagedata fileref="dash_osd_add_primary_created.png" width="75%"/>
       </imageobject>
      </mediaobject>
     </figure>
    </step>
    <step>
     <para>
      Haga clic en <guimenu>Vista previa</guimenu> para ver la vista previa de la especificación DriveGroups para los dispositivos que ha añadido anteriormente. Para confirmar, haga clic en <guimenu>Crear.</guimenu>
     </para>
     <figure>
      <title/>
      <mediaobject>
       <imageobject role="fo">
        <imagedata fileref="dash_osd_add_primary_preview.png" width="75%"/>
       </imageobject>
       <imageobject role="html">
        <imagedata fileref="dash_osd_add_primary_preview.png" width="75%"/>
       </imageobject>
      </mediaobject>
     </figure>
    </step>
    <step>
     <para>
      Los dispositivos nuevos se añadirán a la lista de OSD.
     </para>
     <figure>
      <title>OSD recién añadidos</title>
      <mediaobject>
       <imageobject role="fo">
        <imagedata fileref="dash_osd_add_primary_added.png" width="100%"/>
       </imageobject>
       <imageobject role="html">
        <imagedata fileref="dash_osd_add_primary_added.png" width="100%"/>
       </imageobject>
      </mediaobject>
     </figure>
     <note>
      <para>
       No es posible visualizar el progreso del proceso de creación de los OSD. Se tarda algún tiempo en crearlos. Los OSD aparecerán en la lista cuando se hayan distribuido. Si desea comprobar el estado de distribución, consulte los registros haciendo clic en <menuchoice><guimenu>Clúster</guimenu><guimenu>Registros</guimenu></menuchoice>.
      </para>
     </note>
    </step>
   </procedure>
  </sect2>
 </sect1>
 <sect1 xml:id="dashboard-cluster-config">
  <title>Visualización de la configuración del clúster</title>

  <para>
   Haga clic en <menuchoice><guimenu>Clúster</guimenu><guimenu>Configuración</guimenu></menuchoice> para ver una lista completa de las opciones de configuración del clúster de Ceph. La lista contiene el nombre de la opción, una descripción breve y sus valores actuales y por defecto. También se indica si la opción se puede editar.
  </para>

  <figure>
   <title>Configuración del clúster</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="dash_cluster_config.png" width="100%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="dash_cluster_config.png" width="100%"/>
    </imageobject>
   </mediaobject>
  </figure>

  <para>
   Haga clic en la flecha desplegable situada junto a una opción de configuración en la columna <guimenu>Nombre</guimenu> para ver una tabla extendida con información detallada sobre la opción, como su tipo de valor, los valores mínimos y máximos permitidos, si se puede actualizar en el tiempo de ejecución y mucho más.
  </para>

  <para>
   Después de resaltar una opción específica, puede editar sus valores haciendo clic en el botón <guimenu>Editar</guimenu> en la parte superior izquierda del encabezado de la tabla. Para confirmar los cambios, haga clic en <guimenu>Guardar.</guimenu>
  </para>
 </sect1>
 <sect1 xml:id="dashboard-cluster-crushmap">
  <title>Visualización del mapa de CRUSH</title>

  <para>
   Haga clic en <menuchoice><guimenu>Clúster</guimenu><guimenu>Mapa de CRUSH</guimenu></menuchoice> para ver un mapa de CRUSH del clúster. Para obtener información general sobre los mapas de CRUSH, consulte la <xref linkend="op-crush"/>.
  </para>

  <para>
   Haga clic en la raíz, los nodos o los OSD individuales para ver información más detallada, como el peso de CRUSH, la profundidad del árbol de mapa, la clase de dispositivo del OSD y mucho más.
  </para>

  <figure>
   <title>Mapa de CRUSH</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="dash_crushmap.png" width="100%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="dash_crushmap.png" width="100%"/>
    </imageobject>
   </mediaobject>
  </figure>
 </sect1>
 <sect1 xml:id="dashboard-cluster-mgr-plugins">
  <title>Visualización de módulos del gestor</title>

  <para>
   Haga clic en <menuchoice><guimenu>Clúster</guimenu><guimenu>Módulos de gestor</guimenu></menuchoice> para ver una lista de los módulos de Ceph Manager disponibles. Cada línea está formada por nombre de módulo e información sobre si está habilitado actualmente.
  </para>

  <figure>
   <title>Módulos de gestor</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="dash_mgr_modules.png" width="70%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="dash_mgr_modules.png" width="70%"/>
    </imageobject>
   </mediaobject>
  </figure>

  <para>
   Haga clic en la flecha desplegable situada junto a un módulo en la columna <guimenu> Nombre</guimenu> para ver una tabla extendida con detalles sobre la configuración en la tabla <guimenu>Detalles</guimenu> de abajo. Para editar los detalles, haciendo clic en <guimenu>Editar</guimenu> en la parte superior izquierda del encabezado de la tabla. Para confirmar los cambios, haga clic en <guimenu>Actualizar.</guimenu>
  </para>

  <para>
   Haga clic en la flecha desplegable situada junto al botón <guimenu>Editar</guimenu> en la parte superior izquierda del encabezado de la tabla para <guimenu>habilitar</guimenu> o <guimenu>inhabilitar</guimenu> un módulo.
  </para>
 </sect1>
 <sect1 xml:id="dashboard-cluster-logs">
  <title>Visualización de registros</title>

  <para>
   Haga clic en <menuchoice><guimenu>Clúster</guimenu><guimenu>Registros</guimenu></menuchoice> para ver una lista de las entradas de registro recientes del clúster. Cada línea está formada por una marca de tiempo, el tipo de la entrada de registro y el propio mensaje registrado.
  </para>

  <para>
   Haga clic en la pestaña <guimenu>Registros de auditoría</guimenu> para ver las entradas de registro del subsistema de auditoría. Consulte en la <xref linkend="dashboard-auditing"/> los comandos necesarios para habilitar o inhabilitar la auditoría.
  </para>

  <figure>
   <title>Registros</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="dash_logs.png" width="80%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="dash_logs.png" width="80%"/>
    </imageobject>
   </mediaobject>
  </figure>
 </sect1>
 <sect1 xml:id="dashboard-cluster-monitoring">
  <title>Visualización de la supervisión</title>

  <para>
   Haga clic en <menuchoice><guimenu>Clúster</guimenu><guimenu>Supervisión</guimenu></menuchoice> para gestionar y ver los detalles de las alertas de Prometheus.
  </para>

  <para>
   Si tiene Prometheus activo, en este panel de contenido puede ver información detallada sobre <guimenu>Alertas activas,</guimenu> <guimenu>Todas las alertas</guimenu> o <guimenu>Silencios.</guimenu>
  </para>

  <note>
   <para>
    Si no ha distribuido Prometheus, aparecerá un anuncio con información y un enlace a la documentación pertinente.
   </para>
  </note>
 </sect1>
</chapter>
