<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="dashboard_cluster.xml" version="5.0" xml:id="dashboard-cluster">
 <title>Anzeigen von Cluster-internen Elementen</title>
 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:translation>yes</dm:translation>
   <dm:release>SES 7</dm:release>
  </dm:docmanager>
 </info>
 <para>
  Über den Menüpunkt <guimenu>Cluster</guimenu> können Sie detaillierte Informationen über Ceph-Clusterhosts, Inventar, Ceph Monitors, Services, OSDs, Konfiguration, CRUSH-Zuordnung, Ceph Manager, Protokolle und Überwachungsdateien anzeigen.
 </para>
 <sect1 xml:id="dashboard-cluster-hosts">
  <title>Anzeigen von Cluster-Knoten</title>

  <para>
   Mit <menuchoice><guimenu>Cluster</guimenu><guimenu>Hosts</guimenu></menuchoice> rufen Sie eine Liste der Cluster-Knoten ab.
  </para>

  <figure>
   <title>Hosts</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="dash_hosts.png" width="100%" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="dash_hosts.png" width="100%" format="PNG"/>
    </imageobject>
   </mediaobject>
  </figure>

  <para>
   Klicken Sie auf den Dropdown-Pfeil neben einem Knotennamen in der Spalte <guimenu>Hostname</guimenu>, um die Leistungsdetails des Knotens anzuzeigen.
  </para>

  <para>
   Die Spalte <guimenu>Services</guimenu> enthält alle Daemons, die auf den einzelnen zugehörigen Knoten ausgeführt werden. Zum Abrufen der ausführlichen Konfiguration eines Daemons klicken Sie auf den Namen dieses Daemons.
  </para>
 </sect1>
 <sect1 xml:id="dashboard-cluster-inventory">
  <title>Zugreifen auf das Clusterinventar</title>

  <para>
   Mit <menuchoice><guimenu>Cluster</guimenu><guimenu>Inventar</guimenu></menuchoice> rufen Sie eine Liste der Geräte ab. Die Liste enthält den Gerätepfad, den Typ, die Verfügbarkeit, den Hersteller, das Modell, die Größe und die OSDs.
  </para>

  <para>
   Klicken Sie in der Spalte <guimenu>Hostname</guimenu> einen Knotennamen zur Auswahl an. Klicken Sie nach der Auswahl auf <guimenu>Identifizieren</guimenu>, um das Gerät zu identifizieren, auf dem der Host ausgeführt wird. Dadurch wird das Gerät angewiesen, die LEDs blinken zu lassen. Wählen Sie für die Dauer dieser Aktion zwischen 1, 2, 5, 10 und 15 Minuten. Klicken Sie auf <guimenu>Ausführen</guimenu>.
  </para>

  <figure>
   <title>Services</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="dash_inventory.png" width="100%" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="dash_inventory.png" width="100%" format="PNG"/>
    </imageobject>
   </mediaobject>
  </figure>
 </sect1>
 <sect1 xml:id="dashboard-cluster-monitors">
  <title>Anzeigen von Ceph Monitors</title>

  <para>
   Mit <menuchoice><guimenu>Cluster</guimenu><guimenu>Monitore</guimenu></menuchoice> rufen Sie eine Liste der Cluster-Knoten mit aktiven Ceph-Monitoren ab. Das Inhaltsfenster ist in zwei Ansichten unterteilt: <literal>Status</literal> und <literal>In Quorum</literal> oder <literal>Nicht in Quorum</literal>.
  </para>

  <para>
   Die Tabelle <guimenu>Status</guimenu> enthält allgemeine Statistiken zu aktiven Ceph Monitors, einschließlich der folgenden:
  </para>

  <itemizedlist>
   <listitem>
    <para>
     Cluster-ID
    </para>
   </listitem>
   <listitem>
    <para>
     Monmap geändert
    </para>
   </listitem>
   <listitem>
    <para>
     Monmap-Epoche
    </para>
   </listitem>
   <listitem>
    <para>
     quorum con
    </para>
   </listitem>
   <listitem>
    <para>
     quorum mon
    </para>
   </listitem>
   <listitem>
    <para>
     erforderliche Verbindung
    </para>
   </listitem>
   <listitem>
    <para>
     erforderliche Überwachung
    </para>
   </listitem>
  </itemizedlist>

  <para>
   Die Bereiche <literal>In Quorum</literal> und <literal>Nicht in Quorum</literal> enthalten die Namen der einzelnen Monitore, die Rangnummer, die öffentliche IP-Adresse und die Anzahl der offenen Sitzungen.
  </para>

  <para>
   Zum Abrufen der Ceph Monitor-Konfiguration eines Knotens klicken Sie auf den Namen dieses Knotens in der Spalte <guimenu>Name</guimenu>.
  </para>

  <figure>
   <title>Ceph Monitors</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="dash_mons.png" width="100%" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="dash_mons.png" width="100%" format="PNG"/>
    </imageobject>
   </mediaobject>
  </figure>
 </sect1>
 <sect1 xml:id="dashboard-cluster-services">
  <title>Anzeigen von Services</title>

  <para>
   Klicken Sie auf <menuchoice><guimenu>Cluster</guimenu><guimenu>Services</guimenu></menuchoice>, um Details zu jedem der verfügbaren Services anzuzeigen: <literal>crash</literal>, Ceph Manager und Ceph Monitors. Die Liste enthält den Namen des Container-Images, die ID des Container-Images, den Status der Services, die ausgeführt werden, sowie die Größe und den Zeitpunkt der letzten Aktualisierung.
  </para>

  <para>
   Klicken Sie auf den Dropdown-Pfeil neben einem Servicenamen in der Spalte <guimenu>Service</guimenu>, um die Details des Daemons anzuzeigen. Die Detailliste enthält den Hostnamen, den Daemon-Typ, die Daemon-ID, die Container-ID, den Container-Image-Namen, die Container-Image-ID, die Versionsnummer, den Status und den Zeitpunkt der letzten Aktualisierung.
  </para>

  <figure>
   <title>Services</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="dash_services.png" width="100%" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="dash_services.png" width="100%" format="PNG"/>
    </imageobject>
   </mediaobject>
  </figure>
 </sect1>
 <sect1 xml:id="dashboard-cluster-osds">
  <title>Anzeigen von Ceph OSDs</title>

  <para>
   Mit <menuchoice><guimenu>Cluster</guimenu><guimenu>OSDs</guimenu></menuchoice> rufen Sie eine Liste der Knoten mit aktiven OSD-Daemons ab. Die Liste enthält die Namen der einzelnen Knoten, die ID, den Status, die Geräteklasse, die Anzahl der Platzierungsgruppen, die Größe, die Auslastung, ein Diagramm der Lese-/Schreibvorgänge im Zeitverlauf sowie die Rate der Lese-/Schreibvorgänge pro Sekunde.
  </para>

  <figure>
   <title>Ceph OSDs</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="dash_osds.png" width="100%" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="dash_osds.png" width="100%" format="PNG"/>
    </imageobject>
   </mediaobject>
  </figure>

  <para>
   Wählen Sie im Dropdown-Menü der <guimenu>clusterweiten Konfiguration</guimenu> in der Tabellenüberschrift den Eintrag <guimenu>Flags</guimenu> aus, um ein Popup-Fenster zu öffnen. Dieser enthält eine Liste von Flags, die für den gesamten Cluster gelten. Sie können einzelne Flags aktivieren oder deaktivieren und dies dann mit <guimenu>Absenden</guimenu> bestätigen.
  </para>

  <figure>
   <title>OSD-Flags</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="dash_osds_flags.png" width="70%" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="dash_osds_flags.png" width="70%" format="PNG"/>
    </imageobject>
   </mediaobject>
  </figure>

  <para>
   Wählen Sie im Dropdown-Menü der <guimenu>clusterweiten Konfiguration</guimenu> in der Tabellenüberschrift den Eintrag <guimenu>Wiederherstellungspriorität</guimenu> aus, um ein Popup-Fenster zu öffnen. Dieser enthält eine Liste von OSD-Wiederherstellungsprioritäten, die für den gesamten Cluster gelten. Sie können das bevorzugte Prioritätsprofil aktivieren und die einzelnen Werte darunter anpassen. Bestätigen Sie mit <guimenu>Absenden</guimenu>.
  </para>

  <figure>
   <title>OSD-Wiederherstellungspriorität</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="dash_osds_recover.png" width="70%" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="dash_osds_recover.png" width="70%" format="PNG"/>
    </imageobject>
   </mediaobject>
  </figure>

  <para>
   Klicken Sie auf den Dropdown-Pfeil neben einem Knotennamen in der Spalte <guimenu>Host</guimenu>, um eine erweiterte Tabelle mit Details zu den Geräteeinstellungen und der Leistung anzuzeigen. Auf den verschiedenen Karteireitern finden Sie Listen der <guimenu>Attribute</guimenu>, <guimenu>der Metadaten</guimenu>, <guimenu>des Laufwerkszustands</guimenu>, <guimenu>der Leistungsindikatoren</guimenu> sowie ein grafisches <guimenu>Histogramm</guimenu> der Schreib- und Lesevorgänge und die <guimenu>Leistungsdetails</guimenu>.
  </para>

  <figure>
   <title>OSD-Details</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="dash_osd_details.png" width="100%" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="dash_osd_details.png" width="100%" format="PNG"/>
    </imageobject>
   </mediaobject>
  </figure>

  <tip>
   <title>Ausführen bestimmter Aufgaben für OSDs</title>
   <para>
    Nach dem Klicken auf einen OSD-Knotennamen wird die Tabellenzeile hervorgehoben. Dies bedeutet, dass Sie nun eine Aufgabe auf dem Knoten ausführen können. Sie können eine der folgenden Aktionen ausführen: <guimenu>Bearbeiten</guimenu>, <guimenu>Erstellen</guimenu>, <guimenu>Scrub</guimenu>, <guimenu>Umfassender Scrub</guimenu>, <guimenu>Neu gewichten</guimenu>, <guimenu>Mit Kommando ‚Out‘ markieren</guimenu>, <guimenu>Mit Kommando ‚In‘ markieren</guimenu>, <guimenu>Als ausgefallen markieren</guimenu>, <guimenu>Als verloren markieren</guimenu>, <guimenu>Bereinigen</guimenu>, <guimenu>Vernichten</guimenu> oder <guimenu>Löschen</guimenu>.
   </para>
   <para>
    Klicken Sie auf den Abwärtspfeil oben links in der Tabellenüberschrift neben der Schaltfläche <guimenu>Erstellen</guimenu> und wählen Sie die gewünschte Aufgabe aus.
   </para>
  </tip>

  <sect2 xml:id="dashboard-cluster-osds-add">
   <title>Hinzufügen von OSDs</title>
   <para>
    Führen Sie zum Hinzufügen neuer OSDs folgende Schritte aus:
   </para>
   <procedure>
    <step>
     <para>
      Überprüfen Sie, ob einige Cluster-Knoten über Speichergeräte verfügen, deren Status <literal>verfügbar</literal> lautet. Klicken Sie dann auf den Abwärtspfeil links oben in der Tabellenüberschrift und wählen Sie <guimenu>Erstellen</guimenu> aus. Dadurch wird das Fenster <guimenu>OSDs erstellen</guimenu> geöffnet.
     </para>
     <figure>
      <title>OSDs erstellen</title>
      <mediaobject>
       <imageobject role="fo">
        <imagedata fileref="dash_osd_add.png" width="75%"/>
       </imageobject>
       <imageobject role="html">
        <imagedata fileref="dash_osd_add.png" width="75%"/>
       </imageobject>
      </mediaobject>
     </figure>
    </step>
    <step>
     <para>
      Klicken Sie zum Hinzufügen primärer Speichergeräte für OSDs auf <guimenu>Hinzufügen</guimenu>. Bevor Sie Speichergeräte hinzufügen können, müssen Sie oben rechts in der Tabelle <guimenu>Primäre Geräte</guimenu> Filterkriterien angeben, z. B. <guimenu>Typ</guimenu> <guimenu>HDD</guimenu>. Bestätigen Sie Ihre Einstellung mit <guimenu>Hinzufügen</guimenu>.
     </para>
     <figure>
      <title>Hinzufügen von primären Geräten</title>
      <mediaobject>
       <imageobject role="fo">
        <imagedata fileref="dash_osd_add_primary.png" width="100%"/>
       </imageobject>
       <imageobject role="html">
        <imagedata fileref="dash_osd_add_primary.png" width="100%"/>
       </imageobject>
      </mediaobject>
     </figure>
    </step>
    <step>
     <para>
      Fügen Sie im aktualisierten Fenster <guimenu>OSDs erstellen</guimenu> optional freigegebene WAL- und BD-Geräte hinzu oder aktivieren Sie die Geräteverschlüsselung.
     </para>
     <figure>
      <title>OSDs mit hinzugefügten primären Geräten erstellen</title>
      <mediaobject>
       <imageobject role="fo">
        <imagedata fileref="dash_osd_add_primary_created.png" width="75%"/>
       </imageobject>
       <imageobject role="html">
        <imagedata fileref="dash_osd_add_primary_created.png" width="75%"/>
       </imageobject>
      </mediaobject>
     </figure>
    </step>
    <step>
     <para>
      Klicken Sie auf <guimenu>Vorschau</guimenu>, um die Vorschau der DriveGroups-Spezifikation für die zuvor hinzugefügten Geräte anzuzeigen. Bestätigen Sie mit <guimenu>Erstellen</guimenu>.
     </para>
     <figure>
      <title/>
      <mediaobject>
       <imageobject role="fo">
        <imagedata fileref="dash_osd_add_primary_preview.png" width="75%"/>
       </imageobject>
       <imageobject role="html">
        <imagedata fileref="dash_osd_add_primary_preview.png" width="75%"/>
       </imageobject>
      </mediaobject>
     </figure>
    </step>
    <step>
     <para>
      Neue Geräte werden in die Liste der OSDs aufgenommen.
     </para>
     <figure>
      <title>Neu hinzugefügte OSDs</title>
      <mediaobject>
       <imageobject role="fo">
        <imagedata fileref="dash_osd_add_primary_added.png" width="100%"/>
       </imageobject>
       <imageobject role="html">
        <imagedata fileref="dash_osd_add_primary_added.png" width="100%"/>
       </imageobject>
      </mediaobject>
     </figure>
     <note>
      <para>
       Eine Fortschrittsvisualisierung des OSD-Erstellungsprozesses ist nicht vorhanden. Es dauert einige Zeit, bis die OSDs tatsächlich erstellt sind. Die OSDs werden nach dem Bereitstellen in der Liste angezeigt. Wenn Sie den Bereitstellungsstatus überprüfen möchten, zeigen Sie die Protokolle an, indem Sie auf <menuchoice><guimenu>Cluster</guimenu><guimenu>Protokolle</guimenu></menuchoice> klicken.
      </para>
     </note>
    </step>
   </procedure>
  </sect2>
 </sect1>
 <sect1 xml:id="dashboard-cluster-config">
  <title>Anzeigen der Cluster-Konfiguration</title>

  <para>
   Mit <menuchoice><guimenu>Cluster</guimenu><guimenu>Konfiguration</guimenu></menuchoice> erhalten Sie eine umfassende Liste der Ceph-Cluster-Konfigurationsoptionen. Die Liste enthält den Namen der Option, eine Kurzbeschreibung und die aktuellen und Standardwerte sowie die Angabe, ob die Option bearbeitbar ist.
  </para>

  <figure>
   <title>Cluster-Konfiguration</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="dash_cluster_config.png" width="100%" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="dash_cluster_config.png" width="100%" format="PNG"/>
    </imageobject>
   </mediaobject>
  </figure>

  <para>
   Klicken Sie auf den Dropdown-Pfeil neben einer Konfigurationsoption in der Spalte <guimenu>Name</guimenu>, um eine erweiterte Tabelle mit detaillierten Informationen über die Option anzuzeigen, z. B. den Wertetyp, die minimal und maximal zulässigen Werte, ob sie zur Laufzeit aktualisiert werden kann und vieles mehr.
  </para>

  <para>
   Ist eine bestimmte Option hervorgehoben, können Sie ihre(n) Wert(e) mit der Schaltfläche <guimenu>Bearbeiten</guimenu> oben links in der Tabellenüberschrift bearbeiten. Bestätigen Sie die Änderungen mit <guimenu>Speichern</guimenu>.
  </para>
 </sect1>
 <sect1 xml:id="dashboard-cluster-crushmap">
  <title>Anzeigen der CRUSH Map</title>

  <para>
   Mit <menuchoice><guimenu>Cluster</guimenu><guimenu>CRUSH map</guimenu></menuchoice> rufen Sie eine CRUSH-Zuordnung des Clusters ab. Weitere allgemeine Informationen zu CRUSH-Zuordnungen finden Sie in <xref linkend="op-crush"/>.
  </para>

  <para>
   Wenn Sie auf den Root, die Knoten oder die einzelnen OSDs klicken, werden ausführlichere Informationen angezeigt, z. B. das Crush-Gewicht, die Tiefe im Zuordnungsbaum, die Geräteklasse des OSD und vieles mehr.
  </para>

  <figure>
   <title>CRUSH Map</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="dash_crushmap.png" width="100%" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="dash_crushmap.png" width="100%" format="PNG"/>
    </imageobject>
   </mediaobject>
  </figure>
 </sect1>
 <sect1 xml:id="dashboard-cluster-mgr-plugins">
  <title>Anzeigen von Manager-Modulen</title>

  <para>
   Mit <menuchoice><guimenu>Cluster</guimenu><guimenu>Manager-Module</guimenu></menuchoice> rufen Sie eine Liste der verfügbaren Ceph-Manager-Module ab. Die Zeilen enthalten jeweils einen Modulnamen sowie einen Hinweis, ob das Modul derzeit aktiviert ist oder nicht.
  </para>

  <figure>
   <title>Manager-Module</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="dash_mgr_modules.png" width="70%" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="dash_mgr_modules.png" width="70%" format="PNG"/>
    </imageobject>
   </mediaobject>
  </figure>

  <para>
   Klicken Sie auf den Dropdown-Pfeil neben einem Modul in der Spalte <guimenu>Name</guimenu>, um in der nachfolgenden Tabelle <guimenu>Details</guimenu> eine erweiterte Tabelle mit detaillierten Einstellungen anzuzeigen. Zum Bearbeiten klicken Sie oben links in der Tabellenüberschrift auf die Schaltfläche <guimenu>Bearbeiten</guimenu>. Bestätigen Sie die Änderungen mit <guimenu>Aktualisieren</guimenu>.
  </para>

  <para>
   Klicken Sie auf den Dropdown-Pfeil neben der Schaltfläche <guimenu>Bearbeiten</guimenu> oben links in der Tabellenüberschrift, um ein Modul zu <guimenu>aktivieren</guimenu> oder zu <guimenu>deaktivieren</guimenu>.
  </para>
 </sect1>
 <sect1 xml:id="dashboard-cluster-logs">
  <title>Anzeigen von Protokollen</title>

  <para>
   Mit <menuchoice><guimenu>Cluster</guimenu><guimenu>Logs</guimenu></menuchoice> rufen Sie eine Liste der letzten Protokolleinträge des Clusters ab. Die Zeilen enthalten jeweils einen Zeitstempel, den Typ des Protokolleintrags sowie die protokollierte Meldung selbst.
  </para>

  <para>
   Auf der Registerkarte <guimenu>Revisionsprotokoll</guimenu> finden Sie die Protokolleinträge des 
Revisions-Subsystems. Kommandos zum Aktivieren oder Deaktivieren der Revision finden Sie in <xref linkend="dashboard-auditing"/>.
  </para>

  <figure>
   <title>Protokolle</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="dash_logs.png" width="80%" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="dash_logs.png" width="80%" format="PNG"/>
    </imageobject>
   </mediaobject>
  </figure>
 </sect1>
 <sect1 xml:id="dashboard-cluster-monitoring">
  <title>Anzeigen der Überwachung</title>

  <para>
   Klicken Sie auf <menuchoice><guimenu>Cluster</guimenu><guimenu>Überwachung</guimenu></menuchoice>, um Details zu Prometheus-Warnungen zu verwalten und anzuzeigen.
  </para>

  <para>
   Wenn Prometheus aktiv ist, können Sie in diesem Bereich detaillierte Informationen zu <guimenu>Aktive Warnungen</guimenu>, <guimenu>Alle Warnungen</guimenu> oder <guimenu>Stummschaltungen</guimenu> anzeigen.
  </para>

  <note>
   <para>
    Wenn Sie Prometheus noch nicht bereitgestellt haben, werden ein Informationsbanner und ein Link zur entsprechenden Dokumentation angezeigt.
   </para>
  </note>
 </sect1>
</chapter>
