<?xml version="1.0" encoding="UTF-8"?>
<appendix xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="ceph_maintenance_updates.xml" version="5.0">
 <title>Ceph-Wartungsaktualisierungen auf der Grundlage von vorgeschalteten „Octopus“-Unterversionen</title>
 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:translation>Ja</dm:translation>
   <dm:release>SES 7</dm:release>
  </dm:docmanager>
 </info>
 <para>
  Mehrere wesentliche Pakete in SUSE Enterprise Storage 7 beruhen auf der Octopus-Versionsserie von Ceph. Wenn das Ceph-Projekt (<link xlink:href="https://github.com/ceph/ceph"/>) neue Unterversionen in der Octopus-Serie veröffentlicht, wird SUSE Enterprise Storage 7 aktualisiert, damit das Produkt von den aktuellen vorgeschalteten Bugfixes und Funktions-Backports profitiert.
 </para>
 <para>
  In diesem Kapitel erhalten Sie einen Überblick über wichtige Änderungen in den einzelnen vorgeschalteten Unterversionen, die bereits in das Produkt aufgenommen wurden oder künftig aufgenommen werden.
 </para>
 <bridgehead renderas="sect1">Octopus-Unterversion 15.2.5</bridgehead>
 <para>
  Die Octopus-Unterversion 15.2.5 brachte die folgenden Korrekturen und weitere Änderungen:
 </para>
 <itemizedlist>
  <listitem>
   <para>
    CephFS: Die Richtlinien für die automatische statische Teilbaumpartitionierung können jetzt unter Verwendung der neuen erweiterten Attribute für verteiltes und zufälliges kurzlebiges Anheften von Verzeichnissen konfiguriert werden. Weitere Informationen finden Sie in der folgenden Dokumentation: <link xlink:href="https://docs.ceph.com/docs/master/cephfs/multimds/"/>
   </para>
  </listitem>
  <listitem>
   <para>
    Für Monitore ist nun die Konfigurationsoption <option>mon_osd_warn_num_repaired</option> verfügbar, die standardmäßig auf 10 festgelegt ist. Wenn ein OSD mehr als diese Anzahl von E/A-Fehlern in den gespeicherten Daten repariert hat, wird die Zustandswarnung <literal>OSD_TOO_MANY_REPAIRS</literal> generiert.
   </para>
  </listitem>
  <listitem>
   <para>
    Jetzt werden geplante Scrubs vom Typ „deaktiviert“ abgebrochen, wenn global oder pro Pool die Flags <literal>no scrub</literal> und/oder <literal>no deep-scrub</literal> gesetzt sind. Alle vom Benutzer initiierten Scrubs werden NICHT unterbrochen.
   </para>
  </listitem>
  <listitem>
   <para>
    Ein Problem wurde behoben, bei dem OSD-Zuordnungen in einem fehlerfreien Cluster nicht optimiert wurden.
   </para>
  </listitem>
 </itemizedlist>
 <bridgehead renderas="sect1">Octopus-Unterversion 15.2.4</bridgehead>
 <para>
  Die Octopus-Unterversion 15.2.4 brachte die folgenden Korrekturen und weitere Änderungen:
 </para>
 <itemizedlist>
  <listitem>
   <para>
    CVE-2020-10753: rgw: sanitize newlines in s3 CORSConfiguration’s ExposeHeader
   </para>
  </listitem>
  <listitem>
   <para>
    Object Gateway: Die Unterkommandos <command>radosgw-admin</command>, die sich auf bezugslose Einheiten beziehen (<command>radosgw-admin orphans find</command>, <command>radosgw-admin orphans finish</command> und <command>radosgw-admin orphans list-jobs</command>), wurden als veraltet entfernt. Sie wurden nicht aktiv gewartet, und da sie Zwischenergebnisse auf dem Cluster speichern, könnten sie potenziell einen fast vollen Cluster füllen. Sie wurden durch das Werkzeug <command>rgw-orphan-list</command> ersetzt, das derzeit noch als experimentell betrachtet wird.
   </para>
  </listitem>
  <listitem>
   <para>
    RBD: Der Name des RBD-Pool-Objekts, das zum Speichern des Zeitplans zum Bereinigen des RBD-Papierkorbs verwendet wird, wurde von <literal>rbd_trash_trash_purge_schedule</literal> zu <literal>rbd_trash_purge_schedule</literal> geändert. Benutzer, die bereits mit der Funktion des Zeitplans zum Bereinigen des RBD-Papierkorbs begonnen und Zeitpläne pro Pool oder Namespace konfiguriert haben, sollten vor dem Upgrade das Objekt <literal>rbd_trash_trash_purge_schedule</literal> nach <literal>rbd_trash_purge_schedule</literal> kopieren und <literal>rbd_trash_purge_schedule</literal> mit den folgenden Kommandos in jedem RBD-Pool und -Namespace entfernen, in denen zuvor ein Zeitplan zur Bereinigung des Papierkorbs konfiguriert war:
   </para>
<screen>
rados -p <replaceable>pool-name</replaceable> [-N namespace] cp rbd_trash_trash_purge_schedule rbd_trash_purge_schedule
rados -p <replaceable>pool-name</replaceable> [-N namespace] rm rbd_trash_trash_purge_schedule
</screen>
   <para>
    Alternativ können Sie den Zeitplan nach der Aktualisierung auf eine andere Ihnen genehme Weise wiederherstellen.
   </para>
  </listitem>
 </itemizedlist>
 <bridgehead renderas="sect1">Octopus-Unterversion 15.2.3</bridgehead>
 <itemizedlist>
  <listitem>
   <para>
    Die Octopus-Unterversion 15.2.3 war eine Hot Fix-Version zur Behebung eines Problems, bei dem das WAL beschädigt wurde, wenn <option>bluefs_preextend_wal_files</option> und <option>bluefs_buffered_io</option> gleichzeitig aktiviert waren. Der Fix in 15.2.3 ist nur eine vorübergehende Maßnahme (Änderung des Standardwertes von <option>bluefs_preextend_wal_files</option> zu <literal>false</literal>). Die dauerhafte Lösung besteht darin, die Option <option>bluefs_preextend_wal_files</option> komplett zu entfernen. Diese Lösung wird wahrscheinlich in der Zwischenversion 15.2.6 erscheinen.
   </para>
  </listitem>
 </itemizedlist>
 <bridgehead renderas="sect1">Octopus-Unterversion 15.2.2</bridgehead>
 <para>
  Mit der Octopus-Unterversion 15.2.2 wurde eine Sicherheitslücke gepatcht:
 </para>
 <itemizedlist>
  <listitem>
   <para>
    CVE-2020-10736: Autorisierungsumgehung in MONs und MGRs behoben
   </para>
  </listitem>
 </itemizedlist>
 <bridgehead renderas="sect1">Octopus-Unterversion 15.2.1</bridgehead>
 <para>
  In Octopus-Unterversion 15.2.1 wurde ein Problem behoben, bei dem ein schnelles Upgrade von Luminous (SES5.5) zu Nautilus (SES6) zu Octopus (SES7) zum Absturz von OSDs führte. Darüber hinaus wurden zwei Sicherheitslücken gepatcht, die in der ursprünglichen Octopus-Version (15.2.0) vorhanden waren:
 </para>
 <itemizedlist>
  <listitem>
   <para>
    CVE-2020-1759: Nonce-Wiederverwendung im sicheren Modus von msgr V2 behoben
   </para>
  </listitem>
  <listitem>
   <para>
    CVE-2020-1760: XSS aufgrund von RGW GetObject-Header-Splitting behoben
   </para>
  </listitem>
 </itemizedlist>
</appendix>
