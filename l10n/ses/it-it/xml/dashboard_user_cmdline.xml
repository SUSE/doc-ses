<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="dashboard_user_cmdline.xml" version="5.0" xml:id="dashboard-user-roles">
 <title>Gestione di utenti e ruoli sulla riga di comando</title>
 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:translation>yes</dm:translation>
   <dm:release>SES 7</dm:release>
  </dm:docmanager>
 </info>
 <para>
  Questa sezione descrive come gestire gli account utente utilizzati dal Ceph Dashboard e fornisce informazioni sulla creazione o modifica degli account utente, nonché sull&apos;impostazione dei ruoli dell&apos;utente e delle autorizzazioni corretti.
 </para>
 <sect1 xml:id="dashboard-password-policy">
  <title>Gestione della policy password</title>

  <para>
   Per default, la funzione della policy password è abilitata insieme ai controlli seguenti:
  </para>

  <itemizedlist>
   <listitem>
    <para>
     La password supera <emphasis>N</emphasis> caratteri?
    </para>
   </listitem>
   <listitem>
    <para>
     La nuova password è uguale a quella vecchia?
    </para>
   </listitem>
  </itemizedlist>

  <para>
   La funzione della policy password può essere attivata o disattivata:
  </para>

<screen><prompt>cephuser@adm &gt; </prompt>ceph dashboard set-pwd-policy-enabled <replaceable>true|false</replaceable></screen>

  <para>
   I singoli controlli seguenti possono essere attivati o disattivati:
  </para>

<screen>
<prompt>cephuser@adm &gt; </prompt>ceph dashboard set-pwd-policy-check-length-enabled <replaceable>true|false</replaceable>
<prompt>cephuser@adm &gt; </prompt>ceph dashboard set-pwd-policy-check-oldpwd-enabled <replaceable>true|false</replaceable>
<prompt>cephuser@adm &gt; </prompt>ceph dashboard set-pwd-policy-check-username-enabled <replaceable>true|false</replaceable>
<prompt>cephuser@adm &gt; </prompt>ceph dashboard set-pwd-policy-check-exclusion-list-enabled <replaceable>true|false</replaceable>
<prompt>cephuser@adm &gt; </prompt>ceph dashboard set-pwd-policy-check-complexity-enabled <replaceable>true|false</replaceable>
<prompt>cephuser@adm &gt; </prompt>ceph dashboard set-pwd-policy-check-sequential-chars-enabled <replaceable>true|false</replaceable>
<prompt>cephuser@adm &gt; </prompt>ceph dashboard set-pwd-policy-check-repetitive-chars-enabled <replaceable>true|false</replaceable>
</screen>

  <para>
   Inoltre, sono disponibili le opzioni seguenti per configurare il comportamento della policy password.
  </para>

  <itemizedlist>
   <listitem>
    <para>
     La lunghezza minima della password (il valore di default è 8):
    </para>
<screen><prompt>cephuser@adm &gt; </prompt>ceph dashboard set-pwd-policy-min-length <replaceable>N</replaceable></screen>
   </listitem>
   <listitem>
    <para>
     La complessità minima della password (il valore di default è 10):
    </para>
<screen><prompt>cephuser@adm &gt; </prompt>ceph dashboard set-pwd-policy-min-complexity <replaceable>N</replaceable></screen>
    <para>
     La complessità della password è calcolata tramite la classificazione di ciascun carattere da cui è composta.
    </para>
   </listitem>
   <listitem>
    <para>
     Un elenco di parole separate da virgole che non è possibile utilizzare nella password:
    </para>
<screen><prompt>cephuser@adm &gt; </prompt>ceph dashboard set-pwd-policy-exclusion-list <replaceable>word</replaceable>[,...]</screen>
   </listitem>
  </itemizedlist>
 </sect1>
 <sect1 xml:id="dashboard-user-accounts">
  <title>Gestione degli account utente</title>

  <para>
   Il Ceph Dashboard supporta la gestione di più account utente. Ogni account utente include un nome utente, una password (memorizzata in formato cifrato tramite il comando <literal>bcrypt</literal>), un nome facoltativo e un indirizzo e-mail facoltativo.
  </para>

  <para>
   Gli account utente sono memorizzati nel database di configurazione di Ceph Monitor e sono condivisi a livello globale su tutte le istanze di Ceph Manager.
  </para>

  <para>
   Utilizzare i comandi seguenti per gestire gli account utente:
  </para>

  <variablelist>
   <varlistentry>
    <term>Per mostrare gli utenti esistenti:</term>
    <listitem>
<screen>
<prompt>cephuser@adm &gt; </prompt>ceph dashboard ac-user-show [<replaceable>USERNAME</replaceable>]
</screen>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Per creare un nuovo utente:</term>
    <listitem>
<screen>
<prompt>cephuser@adm &gt; </prompt>ceph dashboard ac-user-create <replaceable>USERNAME</replaceable> -i [<replaceable>PASSWORD_FILE</replaceable>] [<replaceable>ROLENAME</replaceable>] [<replaceable>NAME</replaceable>] [<replaceable>EMAIL</replaceable>]
</screen>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Per eliminare un utente:</term>
    <listitem>
<screen>
<prompt>cephuser@adm &gt; </prompt>ceph dashboard ac-user-delete <replaceable>USERNAME</replaceable>
</screen>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Per modificare la password di un utente:</term>
    <listitem>
<screen>
<prompt>cephuser@adm &gt; </prompt>ceph dashboard ac-user-set-password <replaceable>USERNAME</replaceable> -i <replaceable>PASSWORD_FILE</replaceable>
</screen>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Per modificare il nome e l&apos;e-mail di un utente:</term>
    <listitem>
<screen>
<prompt>cephuser@adm &gt; </prompt>ceph dashboard ac-user-set-info <replaceable>USERNAME</replaceable> <replaceable>NAME</replaceable> <replaceable>EMAIL</replaceable>
</screen>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Per disabilitare un utente</term>
    <listitem>
<screen>
<prompt>cephuser@adm &gt; </prompt>ceph dashboard ac-user-disable <replaceable>USERNAME</replaceable>
</screen>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>Per abilitare un utente</term>
    <listitem>
<screen>
<prompt>cephuser@adm &gt; </prompt>ceph dashboard ac-user-enable <replaceable>USERNAME</replaceable>
</screen>
    </listitem>
   </varlistentry>
  </variablelist>
 </sect1>
 <sect1 xml:id="dashboard-permissions">
  <title>Ruoli e autorizzazioni dell&apos;utente</title>

  <para>
   Questa sezione descrive gli ambiti di sicurezza che è possibile assegnare a un ruolo dell&apos;utente e come gestire i ruoli dell&apos;utente e assegnarli agli account utente.
  </para>

  <sect2 xml:id="dashboard-security-scopes">
   <title>Definizione degli ambiti di sicurezza</title>
   <para>
    Gli account utente sono associati a un set di ruoli che definiscono le parti del dashboard accessibili dall&apos;utente. Le parti del dashboard sono raggruppate all&apos;interno di un ambito di <emphasis>sicurezza</emphasis>. Gli ambiti di sicurezza sono predefiniti e statici. Attualmente sono disponibili gli ambiti di sicurezza seguenti:
   </para>
   <variablelist>
    <varlistentry>
     <term>hosts</term>
     <listitem>
      <para>
       Include tutte le funzioni relative alla voce di menu <guimenu>Host</guimenu>.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>config-opt</term>
     <listitem>
      <para>
       Include tutte le funzioni relative alla gestione delle opzioni di configurazione di Ceph.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>pool</term>
     <listitem>
      <para>
       Include tutte le funzioni relative alla gestione del pool.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>osd</term>
     <listitem>
      <para>
       Include tutte le funzioni relative alla gestione di Ceph OSD.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>monitor</term>
     <listitem>
      <para>
       Include tutte le funzioni relative alla gestione di Ceph Monitor.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>rbd-image</term>
     <listitem>
      <para>
       Include tutte le funzioni relative alla gestione delle immagini del dispositivo di blocco RADOS.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>rbd-mirroring</term>
     <listitem>
      <para>
       Include tutte le funzioni relative alla gestione della copia speculare del dispositivo di blocco RADOS.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>iscsi</term>
     <listitem>
      <para>
       Include tutte le funzioni relative alla gestione di iSCSI.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>rgw</term>
     <listitem>
      <para>
       Include tutte le funzioni relative alla gestione di Object Gateway.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>cephfs</term>
     <listitem>
      <para>
       Include tutte le funzioni relative alla gestione di CephFS.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>manager</term>
     <listitem>
      <para>
       Include tutte le funzioni relative alla gestione di Ceph Manager.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>log</term>
     <listitem>
      <para>
       Include tutte le funzioni relative alla gestione dei log di Ceph.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>grafana</term>
     <listitem>
      <para>
       Include tutte le funzioni relative al proxy Grafana.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>prometheus</term>
     <listitem>
      <para>
       Include tutte le funzioni relative alla gestione degli avvisi di Prometheus.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>dashboard-settings</term>
     <listitem>
      <para>
       Modifica le impostazioni del dashboard.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
  </sect2>

  <sect2 xml:id="dashboard-user-roles-security-scope">
   <title>Specifica dei ruoli dell&apos;utente</title>
   <para>
    Un <emphasis>ruolo</emphasis> consente di specificare un set di mappature tra un <emphasis>ambito di sicurezza</emphasis> e un set di <emphasis>autorizzazioni</emphasis>. Vi sono quattro tipi di autorizzazioni: &quot;read&quot; (lettura), &quot;create&quot; (creazione), &quot;update&quot; (aggiornamento) e &quot;delete&quot; (eliminazione).
   </para>
   <para>
    Nell&apos;esempio seguente viene specificato un ruolo in cui l&apos;utente dispone delle autorizzazioni &quot;read&quot; e &quot;create&quot; per le funzioni relative alla gestione del pool e delle autorizzazioni complete per le funzioni relative alla gestione delle immagini RBD:
   </para>
<screen>
{
  'role': 'my_new_role',
  'description': 'My new role',
  'scopes_permissions': {
    'pool': ['read', 'create'],
    'rbd-image': ['read', 'create', 'update', 'delete']
  }
}
</screen>
   <para>
    Nel dashboard è già fornito un set di ruoli predefiniti denominati <emphasis>ruoli di sistema</emphasis>. È possibile utilizzarli immediatamente dopo l&apos;installazione da zero del Ceph Dashboard:
   </para>
   <variablelist>
    <varlistentry>
     <term>amministratore</term>
     <listitem>
      <para>
       Fornisce le autorizzazioni complete per tutti gli ambiti di sicurezza.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>sola lettura</term>
     <listitem>
      <para>
       Fornisce l&apos;autorizzazione in lettura per tutti gli ambiti di sicurezza a eccezione delle impostazioni del dashboard.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>block-manager</term>
     <listitem>
      <para>
       Fornisce le autorizzazioni complete per gli ambiti &quot;rbd-image&quot;, &quot;rbd-mirroring&quot; e &quot;iscsi&quot;.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>rgw-manager</term>
     <listitem>
      <para>
       Fornisce le autorizzazioni complete per l&apos;ambito &quot;rgw&quot;.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>cluster-manager</term>
     <listitem>
      <para>
       Fornisce le autorizzazioni complete per gli ambiti &quot;hosts&quot;, &quot;osd&quot;, &quot;monitor&quot;, &quot;manager&quot; e &quot;config-opt&quot;.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>pool-manager</term>
     <listitem>
      <para>
       Fornisce le autorizzazioni complete per l&apos;ambito &quot;pool&quot;.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term>cephfs-manager</term>
     <listitem>
      <para>
       Fornisce le autorizzazioni complete per l&apos;ambito &quot;cephfs&quot;.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
   <sect3 xml:id="dashboard-managing-custom-roles">
    <title>Gestione dei ruoli personalizzati</title>
    <para>
     È possibile creare nuovi ruoli dell&apos;utente utilizzando i comandi seguenti:
    </para>
    <variablelist>
     <varlistentry>
      <term>Per creare un nuovo ruolo:</term>
      <listitem>
<screen>
<prompt>cephuser@adm &gt; </prompt>ceph dashboard ac-role-create <replaceable>ROLENAME</replaceable> [<replaceable>DESCRIPTION</replaceable>]
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>Per eliminare un ruolo:</term>
      <listitem>
<screen>
<prompt>cephuser@adm &gt; </prompt>ceph dashboard ac-role-delete <replaceable>ROLENAME</replaceable>
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>Per aggiungere autorizzazioni di ambito a un ruolo:</term>
      <listitem>
<screen>
<prompt>cephuser@adm &gt; </prompt>ceph dashboard ac-role-add-scope-perms <replaceable>ROLENAME</replaceable> <replaceable>SCOPENAME</replaceable> <replaceable>PERMISSION</replaceable> [<replaceable>PERMISSION</replaceable>...]
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>Per eliminare le autorizzazioni di ambito da un ruolo:</term>
      <listitem>
<screen>
<prompt>cephuser@adm &gt; </prompt>ceph dashboard ac-role-del-perms <replaceable>ROLENAME</replaceable> <replaceable>SCOPENAME</replaceable>
</screen>
      </listitem>
     </varlistentry>
    </variablelist>
   </sect3>
   <sect3 xml:id="dashboard-assigning-roles-user-accounts">
    <title>Assegnazione dei ruoli agli account utente</title>
    <para>
     Utilizzare i comandi seguenti per assegnare i ruoli agli utenti:
    </para>
    <variablelist>
     <varlistentry>
      <term>Per impostare i ruoli dell&apos;utente:</term>
      <listitem>
<screen>
<prompt>cephuser@adm &gt; </prompt>ceph dashboard ac-user-set-roles <replaceable>USERNAME</replaceable> <replaceable>ROLENAME</replaceable> [<replaceable>ROLENAME</replaceable> ...]
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>Per aggiungere ulteriori ruoli a un utente:</term>
      <listitem>
<screen>
<prompt>cephuser@adm &gt; </prompt>ceph dashboard ac-user-add-roles <replaceable>USERNAME</replaceable> <replaceable>ROLENAME</replaceable> [<replaceable>ROLENAME</replaceable> ...]
</screen>
      </listitem>
     </varlistentry>
     <varlistentry>
      <term>Per eliminare i ruoli da un utente:</term>
      <listitem>
<screen>
<prompt>cephuser@adm &gt; </prompt>ceph dashboard ac-user-del-roles <replaceable>USERNAME</replaceable> <replaceable>ROLENAME</replaceable> [<replaceable>ROLENAME</replaceable> ...]
</screen>
      </listitem>
     </varlistentry>
    </variablelist>
    <tip>
     <title>eliminazione definitiva dei ruoli personalizzati</title>
     <para>
      Se si creano ruoli dell&apos;utente personalizzati e si intende rimuovere il cluster Ceph con lo strumento di esecuzione <command>ceph.purge</command> in un secondo momento, è necessario innanzitutto eliminare definitivamente i ruoli personalizzati. Ulteriori dettagli sono disponibili nel <xref linkend="ceph-cluster-purge"/>.
     </para>
    </tip>
   </sect3>
   <sect3 xml:id="example-create-user-custom-role">
    <title>Esempio: creazione di un utente e di un ruolo personalizzato</title>
    <para>
     Questa sezione illustra la procedura di creazione di un account utente in grado di gestire le immagini RBD, visualizzare e creare pool Ceph e con l&apos;accesso in sola lettura a qualsiasi altro ambito.
    </para>
    <procedure>
     <step>
      <para>
       Creare un nuovo utente denominato <literal>tux</literal>:
      </para>
<screen>
 <prompt>cephuser@adm &gt; </prompt>ceph dashboard ac-user-create tux <replaceable>PASSWORD</replaceable>
</screen>
     </step>
     <step>
      <para>
       Creare un ruolo e specificare le autorizzazioni di ambito:
      </para>
<screen>
<prompt>cephuser@adm &gt; </prompt>ceph dashboard ac-role-create rbd/pool-manager
<prompt>cephuser@adm &gt; </prompt>ceph dashboard ac-role-add-scope-perms rbd/pool-manager \
 rbd-image read create update delete
<prompt>cephuser@adm &gt; </prompt>ceph dashboard ac-role-add-scope-perms rbd/pool-manager pool read create
</screen>
     </step>
     <step>
      <para>
       Associare i ruoli all&apos;utente <literal>tux</literal>:
      </para>
<screen>
<prompt>cephuser@adm &gt; </prompt>ceph dashboard ac-user-set-roles tux rbd/pool-manager read-only
</screen>
     </step>
    </procedure>
   </sect3>
  </sect2>
 </sect1>
 <sect1 xml:id="dashboard-proxy-config">
  <title>Configurazione del proxy</title>

  <para>
   Se si desidera stabilire un URL fisso per raggiungere il Ceph Dashboard o se non si desidera consentire connessioni dirette ai nodi del manager, è possibile configurare un proxy per l&apos;inoltro automatico delle richieste in entrata all&apos;istanza <literal>ceph-mgr</literal> attualmente attiva.
  </para>

  <sect2 xml:id="dashboard-proxy">
   <title>Accesso al dashboard con proxy inversi</title>
   <para>
    Se si effettua l&apos;accesso al dashboard tramite una configurazione di proxy inverso, potrebbe essere necessario fornirlo tramite un prefisso URL. Per fare in modo che il dashboard utilizzi i collegamenti ipertestuali che includono il prefisso specificato, è possibile configurare l&apos;impostazione <option>url_prefix</option>:
   </para>
<screen>
  <prompt>cephuser@adm &gt; </prompt>ceph config set mgr mgr/dashboard/url_prefix <replaceable>URL_PREFIX</replaceable>
  </screen>
   <para>
    Quindi, è possibile accedere al dashboard all&apos;indirizzo <literal>http://<replaceable>HOST_NAME</replaceable>:<replaceable>PORT_NUMBER</replaceable>/<replaceable>URL_PREFIX</replaceable>/</literal>.
   </para>
  </sect2>

  <sect2 xml:id="dashboard-disable-redirection">
   <title>Disabilitazione dei reindirizzamenti</title>
   <para>
    Se il Ceph Dashboard è protetto da un proxy per il bilanciamento del carico come HAProxy, disabilitare il comportamento di reindirizzamento per evitare situazioni in cui gli URL interni (non risolvibili) vengono pubblicati nel client di front-end. Utilizzare il comando seguente per fare in modo che il dashboard generi una risposta con un errore HTTP (<literal>500</literal> per default) invece del reindirizzamento al dashboard attivo:
   </para>
<screen>
<prompt>cephuser@adm &gt; </prompt>ceph config set mgr mgr/dashboard/standby_behaviour "error"
</screen>
   <para>
    Per reimpostare l&apos;impostazione sul comportamento di reindirizzamento di default, utilizzare il comando seguente:
   </para>
<screen>
<prompt>cephuser@adm &gt; </prompt>ceph config set mgr mgr/dashboard/standby_behaviour "redirect"
</screen>
  </sect2>

  <sect2 xml:id="dashboard-config-error-status">
   <title>Configurazione dei codici di stato di errore</title>
   <para>
    Se il comportamento di reindirizzamento è disabilitato, è necessario personalizzare il codice di stato HTTP dei dashboard di standby. A questo scopo, eseguire il comando seguente:
   </para>
<screen>
<prompt>cephuser@adm &gt; </prompt>ceph config set mgr mgr/dashboard/standby_error_status_code 503
</screen>
  </sect2>

  <sect2 xml:id="dashboard-haproxy-config">
   <title>Configurazione HAProxy di esempio</title>
   <para>
    La configurazione di esempio seguente è da utilizzare per il pass-through TLS/SSL tramite HAProxy.
   </para>
   <note>
    <para>
     La configurazione è valida nelle condizioni seguenti: in caso di failover del dashboard, il client di front-end potrebbe ricevere una risposta di reindirizzamento HTTP (<literal>303</literal>) e verrà reindirizzato a un host non risolvibile.
    </para>
    <para>
     Ciò avviene quando il failover si verifica durante due controlli di integrità di HAProxy. In questa situazione, il nodo del dashboard precedentemente attivo restituirà la risposta 303 che punta a un nuovo nodo attivo. Per evitare questa situazione, si consiglia di disabilitare il comportamento di reindirizzamento sui nodi di standby.
    </para>
   </note>
<screen>
  defaults
    log global
    option log-health-checks
    timeout connect 5s
    timeout client 50s
    timeout server 450s

  frontend dashboard_front
    mode http
    bind *:80
    option httplog
    redirect scheme https code 301 if !{ ssl_fc }

  frontend dashboard_front_ssl
    mode tcp
    bind *:443
    option tcplog
    default_backend dashboard_back_ssl

  backend dashboard_back_ssl
    mode tcp
    option httpchk GET /
    http-check expect status 200
    server x <replaceable>HOST</replaceable>:<replaceable>PORT</replaceable> ssl check verify none
    server y <replaceable>HOST</replaceable>:<replaceable>PORT</replaceable> ssl check verify none
    server z <replaceable>HOST</replaceable>:<replaceable>PORT</replaceable> ssl check verify none
</screen>
  </sect2>
 </sect1>
 <sect1 xml:id="dashboard-auditing">
  <title>Controllo delle richieste API</title>

  <para>
   L&apos;API REST del Ceph Dashboard è in grado di registrare le richieste PUT, POST e DELETE sul log di revisione di Ceph. La funzione di registrazione è disabilita per default, ma è possibile abilitarla con il comando seguente:
  </para>

<screen>
<prompt>cephuser@adm &gt; </prompt>ceph dashboard set-audit-api-enabled true
</screen>

  <para>
   Se abilitata, per ciascuna richiesta vengono registrati i parametri seguenti:
  </para>

  <variablelist>
   <varlistentry>
    <term>from</term>
    <listitem>
     <para>
      Origine della richiesta, ad esempio &quot;https://[::1]:44410&quot;.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>percorso</term>
    <listitem>
     <para>
      Percorso dell&apos;API REST, ad esempio <filename>/api/auth</filename>.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>method</term>
    <listitem>
     <para>
      &quot;PUT&quot;, &quot;POST&quot; o &quot;DELETE&quot;.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term>utente</term>
    <listitem>
     <para>
      Nome dell&apos;utente (o &quot;None&quot;).
     </para>
    </listitem>
   </varlistentry>
  </variablelist>

  <para>
   Una voce di log di esempio ha il seguente aspetto:
  </para>

<screen>
2019-02-06 10:33:01.302514 mgr.x [INF] [DASHBOARD] \
 from='https://[::ffff:127.0.0.1]:37022' path='/api/rgw/user/exu' method='PUT' \
 user='admin' params='{"max_buckets": "1000", "display_name": "Example User", "uid": "exu", "suspended": "0", "email": "user@example.com"}'
</screen>

  <tip>
   <title>disabilitazione della registrazione del payload della richiesta</title>
   <para>
    La registrazione del payload della richiesta (l&apos;elenco degli argomenti e dei relativi valori) è abilitata per default. È possibile disabilitarla nel modo seguente:
   </para>
<screen>
<prompt>cephuser@adm &gt; </prompt>ceph dashboard set-audit-api-log-payload false
</screen>
  </tip>
 </sect1>
 <sect1 xml:id="dashboard-config-nfs-ganesha">
  <title>Configurazione di NFS Ganesha nel Ceph Dashboard</title>

  <para>
   Il Ceph Dashboard è in grado di gestire le esportazioni NFS Ganesha che utilizzano CephFS oppure Object Gateway come backstore. Il dashboard gestisce i file di configurazione di NFS Ganesha memorizzati negli oggetti RADOS sul cluster CephFS. NFS Ganesha deve memorizzare parte della loro configurazione nel cluster Ceph.
  </para>

  <para>
   Eseguire il comando seguente per configurare l&apos;ubicazione dell&apos;oggetto di configurazione di NFS Ganesha.
  </para>

<screen><prompt>cephuser@adm &gt; </prompt>ceph dashboard set-ganesha-clusters-rados-pool-namespace <replaceable>pool_name</replaceable>[/<replaceable>namespace</replaceable>]</screen>

  <para>
   Adesso, è possibile gestire le esportazioni di NFS Ganesha tramite il Ceph Dashboard.
  </para>

  <sect2 xml:id="dashboard-multi-config-nfs-ganesha">
   <title>Configurazione di più cluster NFS Ganesha</title>
   <para>
    Il Ceph Dashboard supporta la gestione delle esportazioni di NFS Ganesha appartenenti a diversi cluster NFS Ganesha. Per isolare le singole configurazioni, è consigliabile che ogni cluster NFS Ganesha memorizzi i rispettivi oggetti di configurazione in uno spazio dei nomi/pool RADOS diverso.
   </para>
   <para>
    Utilizzare il comando seguente per specificare l&apos;ubicazione della configurazione di ciascun cluster NFS Ganesha:
   </para>
<screen><prompt>cephuser@adm &gt; </prompt>ceph dashboard set-ganesha-clusters-rados-pool-namespace <replaceable>cluster_id</replaceable>:<replaceable>pool_name</replaceable>[/<replaceable>namespace</replaceable>](,<replaceable>cluster_id</replaceable>:<replaceable>pool_name</replaceable>[/<replaceable>namespace</replaceable>])*</screen>
   <para>
    <replaceable>cluster_id</replaceable> è una stringa arbitraria che identifica in modo univoco il cluster NFS Ganesha.
   </para>
   <para>
    Se il Ceph Dashboard viene configurato su più cluster NFS Ganesha, l&apos;interfaccia utente Web consente automaticamente di selezionare il cluster a cui appartiene un&apos;esportazione.
   </para>
  </sect2>
 </sect1>
 <sect1 xml:id="dashboard-debug-plugin">
  <title>Plug-in di debug</title>

  <para>
   I plug-in del Ceph Dashboard estendono la funzionalità del dashboard. Il plug-in di debug consente la personalizzazione del comportamento del dashboard in base alla modalità di debug. È possibile abilitarlo, disabilitarlo o selezionarlo con il comando seguente:
  </para>

<screen>
<prompt>cephuser@adm &gt; </prompt>ceph dashboard debug status
Debug: 'disabled'
<prompt>cephuser@adm &gt; </prompt>ceph dashboard debug enable
Debug: 'enabled'
<prompt>cephuser@adm &gt; </prompt>dashboard debug disable
Debug: 'disabled'
</screen>

  <para>
   Per default, è disabilitato. Si tratta dell&apos;impostazione consigliata per le distribuzioni di produzione. Se necessario, è possibile abilitare la modalità di debug senza dover riavviare.
  </para>
 </sect1>
</chapter>
