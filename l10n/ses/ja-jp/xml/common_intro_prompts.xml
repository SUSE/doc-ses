<?xml version="1.0" encoding="UTF-8"?>
<sect1 xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="common_intro_prompts.xml" version="5.0">
 <title>このガイドで使用されるコマンドとコマンドプロンプト</title>

 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:translation>yes</dm:translation>
   <dm:release>SES 7</dm:release>
  </dm:docmanager>
 </info>

 <para>
  Cephクラスタ管理者は、特定のコマンドを実行して、クラスタの動作を設定および調整します。必要になるコマンドには、次のようにいくつかの種類があります。
 </para>

 <sect2>
  <title>Salt関連のコマンド</title>
  <para>
   これらのコマンドは、Cephクラスタノードを展開する場合や、クラスタノードの一部(または全部)で同時にコマンドを実行する場合、クラスタノードを追加または削除する場合に役立ちます。最も頻繁に使用されるコマンドは<command>ceph-salt</command>と<command>ceph-salt config</command>です。Salt Masterノードでは、Saltコマンドは<systemitem class="username">root</systemitem>として実行する必要があります。これらのコマンドは、次のプロンプトで示されます。
  </para>
<screen>
<prompt>root@master # </prompt>
</screen>
  <para>
   例:
  </para>
<screen>
<prompt>root@master # </prompt>ceph-salt config ls
</screen>
 </sect2>

 <sect2>
  <title>Ceph関連のコマンド</title>
  <para>
   これらは、<command>ceph</command>、<command>cephadm</command>、<command>rbd</command>、または<command>radosgw-admin</command>など、コマンドラインでクラスタとそのゲートウェイのすべての側面を設定および微調整するための下位レベルのコマンドです。
  </para>
  <para>
   Ceph関連のコマンドを実行するには、Cephキーの読み取りアクセス権が必要です。このキーの機能により、Ceph環境内におけるユーザの特権が定義されます。1つのオプションは、<systemitem class="username">root</systemitem>として(または<command>sudo</command>を使用して)Cephコマンドを実行し、制限のないデフォルトのキーリング「ceph.client.admin.key」を使用します。
  </para>
  <para>
   より安全な推奨オプションは、各管理者ユーザに対してより制限の厳しい個別のキーを作成し、そのキーを、各ユーザが読み取ることができるディレクトリに保存することです。次に例を示します。
  </para>
<screen>~/.ceph/ceph.client.<replaceable>USERNAME</replaceable>.keyring</screen>
  <tip>
   <title>Cephキーのパス</title>
   <para>
    カスタムの管理者ユーザとキーリングを使用するには、<command>ceph</command>コマンドを実行するたびに、<option>-n client.<replaceable>USER_NAME</replaceable></option>オプションと<option>--keyring <replaceable>PATH/TO/KEYRING</replaceable></option>オプションを使用して、ユーザ名とプールのパスを指定する必要があります。
   </para>
   <para>
    これを回避するには、個々のユーザの<filename>~/.bashrc</filename>ファイルで<varname>CEPH_ARGS</varname>変数にこれらのオプションを含めてください。
   </para>
  </tip>
  <para>
   Ceph関連のコマンドは任意のクラスタノードで実行できますが、管理ノードで実行することをお勧めします。このドキュメントでは、<systemitem class="username">cephuser</systemitem>ユーザを使用してコマンドを実行するので、コマンドは次のプロンプトが表示されます。
  </para>
<screen>
<prompt>cephuser@adm &gt; </prompt>
</screen>
  <para>
   例:
  </para>
<screen>
<prompt>cephuser@adm &gt; </prompt>ceph auth list
</screen>
  <tip>
   <title>特定のノード用のコマンド</title>
   <para>
    クラスタノードに対して特定の役割でコマンドを実行するようドキュメントで指示されている場合は、プロンプトによって示されます。以下に例を示します。
   </para>
<screen>
<prompt>cephuser@mon &gt; </prompt>
</screen>
  </tip>
  <sect3>
   <title><command>ceph-volume</command>の実行</title>
   <para>
    SUSE Enterprise Storage 7から、Cephサービスはコンテナ化された状態で実行されます。OSDノード上で<command>ceph-volume</command>を実行する必要がある場合は、<command>cephadm</command>コマンドに付加する必要があります。たとえば、次のようになります。
   </para>
<screen><prompt>cephuser@adm &gt; </prompt>cephadm ceph-volume simple scan</screen>
  </sect3>
 </sect2>

 <sect2>
  <title>一般的なLinuxコマンド</title>
  <para>
   <command>mount</command>、<command>cat</command>、または<command>openssl</command>など、Cephに関連しないLinuxコマンドは、関連するコマンドに必要な特権に応じて、<prompt>cephuser@adm &gt;</prompt>または<prompt role="root">#</prompt>のいずれかで導入されます。
  </para>
 </sect2>

 <sect2>
  <title>追加情報</title>
  <para>
   Cephのキー管理の詳細については、<xref linkend="storage-cephx-keymgmt"/>を参照してください。
  </para>
 </sect2>
</sect1>
