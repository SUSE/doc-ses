<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="dashboard_cluster.xml" version="5.0" xml:id="dashboard-cluster">
 <title>檢視叢集內部</title>
 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:translation>是</dm:translation>
   <dm:release>SES 7</dm:release>
  </dm:docmanager>
 </info>
 <para>
  您可以透過<guimenu>叢集</guimenu>功能表項目檢視有關 Ceph 叢集主機、庫存、Ceph 監控程式、服務、OSD、組態、CRUSH 地圖、Ceph 管理員、記錄和監控檔案的詳細資訊。
 </para>
 <sect1 xml:id="dashboard-cluster-hosts">
  <title>檢視叢集節點</title>

  <para>
   按一下<menuchoice><guimenu>叢集</guimenu><guimenu>主機</guimenu></menuchoice>可檢視叢集節點清單。
  </para>

  <figure>
   <title>主機</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="dash_hosts.png" width="100%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="dash_hosts.png" width="100%"/>
    </imageobject>
   </mediaobject>
  </figure>

  <para>
   按一下<guimenu>主機名稱</guimenu>欄中某個節點名稱旁的下拉式箭頭可檢視節點的效能詳細資料。
  </para>

  <para>
   <guimenu>服務</guimenu>欄中會列出每個相關節點上的所有執行中精靈。按一下精靈名稱可檢視其詳細組態。
  </para>
 </sect1>
 <sect1 xml:id="dashboard-cluster-inventory">
  <title>存取叢集庫存</title>

  <para>
   按一下<menuchoice><guimenu>叢集</guimenu><guimenu>庫存</guimenu></menuchoice>可檢視裝置清單。該清單包含裝置路徑、類型、可用性、廠商、型號、大小和 OSD。
  </para>

  <para>
   按一下以在<guimenu>主機名稱</guimenu>欄中選取節點名稱。選取後，按一下<guimenu>識別</guimenu>以識別正在執行主機的裝置。這會讓相應裝置上的 LED 閃爍。選取此動作的持續時間 (介於 1、2、5、10 或 15 分鐘之間)。按一下<guimenu>執行</guimenu>。
  </para>

  <figure>
   <title>服務</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="dash_inventory.png" width="100%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="dash_inventory.png" width="100%"/>
    </imageobject>
   </mediaobject>
  </figure>
 </sect1>
 <sect1 xml:id="dashboard-cluster-monitors">
  <title>檢視 Ceph 監控程式</title>

  <para>
   按一下<menuchoice><guimenu>叢集</guimenu><guimenu>監控程式</guimenu></menuchoice>可檢視具有執行中 Ceph 監控程式的叢集節點清單。內容窗格分為兩個檢視窗：<literal>狀態</literal>和<literal>仲裁成員</literal>或<literal>非仲裁成員</literal>。
  </para>

  <para>
   <guimenu>狀態</guimenu>表顯示有關執行中 Ceph 監控程式的一般統計資料，包括以下各項：
  </para>

  <itemizedlist>
   <listitem>
    <para>
     叢集 ID
    </para>
   </listitem>
   <listitem>
    <para>
     monmap 修改時間
    </para>
   </listitem>
   <listitem>
    <para>
     monmap 版本編號
    </para>
   </listitem>
   <listitem>
    <para>
     仲裁 con
    </para>
   </listitem>
   <listitem>
    <para>
     仲裁 mon
    </para>
   </listitem>
   <listitem>
    <para>
     所需 con
    </para>
   </listitem>
   <listitem>
    <para>
     所需 mon
    </para>
   </listitem>
  </itemizedlist>

  <para>
   <literal>仲裁成員</literal>和<literal>非仲裁成員</literal>窗格包含每個監控程式的名稱、階層編號、公用 IP 位址和開啟的工作階段數。
  </para>

  <para>
   按一下<guimenu>名稱</guimenu>欄中的節點名稱可檢視相關的 Ceph 監控程式組態。
  </para>

  <figure>
   <title>Ceph 監控程式</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="dash_mons.png" width="100%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="dash_mons.png" width="100%"/>
    </imageobject>
   </mediaobject>
  </figure>
 </sect1>
 <sect1 xml:id="dashboard-cluster-services">
  <title>顯示服務</title>

  <para>
   按一下<menuchoice><guimenu>叢集</guimenu><guimenu>服務</guimenu></menuchoice>可檢視每個可用服務的詳細資料：<literal>crash</literal>、Ceph 管理員和 Ceph 監控程式。該清單包含容器影像名稱、容器影像 ID、正在執行項目的狀態、大小以及上次重新整理時間。
  </para>

  <para>
   按一下<guimenu>服務</guimenu>欄中某個服務名稱旁的下拉式箭頭可檢視精靈的詳細資料。詳細資料清單包含主機名稱、精靈類型、精靈 ID、容器 ID、容器影像名稱、容器影像 ID、版本號碼、狀態以及上次重新整理時間。
  </para>

  <figure>
   <title>服務</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="dash_services.png" width="100%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="dash_services.png" width="100%"/>
    </imageobject>
   </mediaobject>
  </figure>
 </sect1>
 <sect1 xml:id="dashboard-cluster-osds">
  <title>顯示 Ceph OSD</title>

  <para>
   按一下<menuchoice><guimenu>叢集</guimenu><guimenu>OSD</guimenu></menuchoice> 可檢視具有執行中 OSD 精靈的節點清單。該清單包含每個節點的名稱、ID、狀態、裝置類別、放置群組數量、大小、使用率、不同時間的讀取/寫入圖表，以及每秒讀取/寫入操作次數。
  </para>

  <figure>
   <title>Ceph OSD</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="dash_osds.png" width="100%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="dash_osds.png" width="100%"/>
    </imageobject>
   </mediaobject>
  </figure>

  <para>
   從表標題中的<guimenu>叢集範圍的組態</guimenu>下拉式功能表中選取<guimenu>旗標</guimenu>，可開啟一個快顯視窗。此視窗包含適用於整個叢集的旗標清單。您可以啟用或停用個別旗標，然後按一下<guimenu>提交</guimenu>進行確認。
  </para>

  <figure>
   <title>OSD 旗標</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="dash_osds_flags.png" width="70%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="dash_osds_flags.png" width="70%"/>
    </imageobject>
   </mediaobject>
  </figure>

  <para>
   從表標題中的<guimenu>叢集範圍的組態</guimenu>下拉式功能表中選取<guimenu>復原優先程度</guimenu>，可開啟一個快顯視窗。此視窗包含適用於整個叢集的 OSD 復原優先程度清單。您可以啟用偏好的優先程度設定檔，並對下面的個別值進行微調。按一下<guimenu>提交</guimenu>以確認。
  </para>

  <figure>
   <title>OSD 復原優先程度</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="dash_osds_recover.png" width="70%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="dash_osds_recover.png" width="70%"/>
    </imageobject>
   </mediaobject>
  </figure>

  <para>
   按一下<guimenu>主機</guimenu>欄中某個節點名稱旁的下拉式箭頭可檢視延伸表，其中包含有關裝置設定和效能的詳細資料。您可以在數個索引標籤之間切換，以便查看<guimenu>屬性</guimenu>、<guimenu>中繼資料</guimenu>、<guimenu>裝置狀況</guimenu>、<guimenu>效能計數器</guimenu>的各個清單、讀取/寫入操作次數的圖形<guimenu>長條圖</guimenu>，以及<guimenu>效能詳細資料</guimenu>。
  </para>

  <figure>
   <title>OSD 詳細資料</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="dash_osd_details.png" width="100%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="dash_osd_details.png" width="100%"/>
    </imageobject>
   </mediaobject>
  </figure>

  <tip>
   <title>在 OSD 上執行特定任務</title>
   <para>
    按一下某個 OSD 節點名稱後，將反白顯示表中的對應列。這表示現在您可以在該節點上執行任務。您可以選擇執行以下任何動作：<guimenu>編輯</guimenu>、<guimenu>建立</guimenu>、<guimenu>整理</guimenu>、<guimenu>深層整理</guimenu>、<guimenu>重新設定權數</guimenu>、<guimenu>標示為除名</guimenu>、<guimenu>標示為加入</guimenu>、<guimenu>標示為停機</guimenu>、<guimenu>標示為遺失</guimenu>、<guimenu>清除</guimenu>、<guimenu>損毀</guimenu>或<guimenu>刪除</guimenu>。
   </para>
   <para>
    按一下表標題左上方<guimenu>建立</guimenu>按鈕旁的向下箭頭，然後選取要執行的任務。
   </para>
  </tip>

  <sect2 xml:id="dashboard-cluster-osds-add">
   <title>新增 OSD</title>
   <para>
    若要新增新的 OSD，請執行以下步驟：
   </para>
   <procedure>
    <step>
     <para>
      確認某些叢集節點的儲存裝置的狀態為<literal>可用</literal>。然後按一下表標題左上方的向下箭頭並選取<guimenu>建立</guimenu>。此動作將開啟<guimenu>建立 OSD</guimenu> 視窗。
     </para>
     <figure>
      <title>建立 OSD</title>
      <mediaobject>
       <imageobject role="fo">
        <imagedata fileref="dash_osd_add.png" width="75%"/>
       </imageobject>
       <imageobject role="html">
        <imagedata fileref="dash_osd_add.png" width="75%"/>
       </imageobject>
      </mediaobject>
     </figure>
    </step>
    <step>
     <para>
      若要為 OSD 新增主要儲存裝置，請按一下<guimenu>新增</guimenu>。在新增儲存裝置之前，需要在<guimenu>主要裝置</guimenu>表的右上方指定過濾準則，例如<guimenu>類型</guimenu> <guimenu>hdd</guimenu>。請按<guimenu>新增</guimenu>加以確認。
     </para>
     <figure>
      <title>新增主要裝置</title>
      <mediaobject>
       <imageobject role="fo">
        <imagedata fileref="dash_osd_add_primary.png" width="100%"/>
       </imageobject>
       <imageobject role="html">
        <imagedata fileref="dash_osd_add_primary.png" width="100%"/>
       </imageobject>
      </mediaobject>
     </figure>
    </step>
    <step>
     <para>
      在更新的<guimenu>建立 OSD</guimenu> 視窗中，可以選擇新增共用的 WAL 和 BD 裝置，或者啟用裝置加密。
     </para>
     <figure>
      <title>建立新增了主要裝置的 OSD</title>
      <mediaobject>
       <imageobject role="fo">
        <imagedata fileref="dash_osd_add_primary_created.png" width="75%"/>
       </imageobject>
       <imageobject role="html">
        <imagedata fileref="dash_osd_add_primary_created.png" width="75%"/>
       </imageobject>
      </mediaobject>
     </figure>
    </step>
    <step>
     <para>
      按一下<guimenu>預覽</guimenu>可檢視您先前已新增裝置的 DriveGroups 規格預覽。按一下<guimenu>建立</guimenu>以確認。
     </para>
     <figure>
      <title/>
      <mediaobject>
       <imageobject role="fo">
        <imagedata fileref="dash_osd_add_primary_preview.png" width="75%"/>
       </imageobject>
       <imageobject role="html">
        <imagedata fileref="dash_osd_add_primary_preview.png" width="75%"/>
       </imageobject>
      </mediaobject>
     </figure>
    </step>
    <step>
     <para>
      新裝置將被新增至 OSD 清單中。
     </para>
     <figure>
      <title>新增的 OSD</title>
      <mediaobject>
       <imageobject role="fo">
        <imagedata fileref="dash_osd_add_primary_added.png" width="100%"/>
       </imageobject>
       <imageobject role="html">
        <imagedata fileref="dash_osd_add_primary_added.png" width="100%"/>
       </imageobject>
      </mediaobject>
     </figure>
     <note>
      <para>
       無法查看 OSD 建立程序的進度。實際建立 OSD 需要一些時間。OSD 部署完畢後，它們將顯示在清單中。如果您要檢查部署狀態，請按一下<menuchoice><guimenu>叢集</guimenu><guimenu>記錄</guimenu></menuchoice>檢視相關記錄。
      </para>
     </note>
    </step>
   </procedure>
  </sect2>
 </sect1>
 <sect1 xml:id="dashboard-cluster-config">
  <title>檢視叢集組態</title>

  <para>
   按一下<menuchoice><guimenu>叢集</guimenu><guimenu>組態</guimenu></menuchoice>可檢視 Ceph 叢集組態選項的完整清單。該清單包含選項的名稱、其簡短描述、目前值和預設值以及選項是否可編輯。
  </para>

  <figure>
   <title>叢集組態</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="dash_cluster_config.png" width="100%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="dash_cluster_config.png" width="100%"/>
    </imageobject>
   </mediaobject>
  </figure>

  <para>
   按一下<guimenu>名稱</guimenu>欄中某個組態選項旁的下拉式箭頭可檢視延伸表，其中包含有關該選項的詳細資訊，例如其值類型、允許的最小值和最大值、是否可以在執行時期更新等。
  </para>

  <para>
   反白特定選項後，您可以透過按一下表標題左上方的<guimenu>編輯</guimenu>按鈕來編輯它的值。按一下<guimenu>儲存</guimenu>確認變更。
  </para>
 </sect1>
 <sect1 xml:id="dashboard-cluster-crushmap">
  <title>檢視 CRUSH 地圖</title>

  <para>
   按一下<menuchoice><guimenu>叢集</guimenu><guimenu>CRUSH 地圖</guimenu></menuchoice>可檢視叢集的 CRUSH 地圖。如需 CRUSH 地圖的更多一般資訊，請參閱<xref linkend="op-crush"/>。
  </para>

  <para>
   按一下根、節點或個別 OSD 可檢視更多詳細資訊，例如 CRUSH 權數、地圖樹狀結構的深度、OSD 的裝置類別等等。
  </para>

  <figure>
   <title>CRUSH 地圖</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="dash_crushmap.png" width="100%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="dash_crushmap.png" width="100%"/>
    </imageobject>
   </mediaobject>
  </figure>
 </sect1>
 <sect1 xml:id="dashboard-cluster-mgr-plugins">
  <title>檢視管理員模組</title>

  <para>
   按一下<menuchoice><guimenu>叢集</guimenu><guimenu>管理員模組</guimenu></menuchoice>可檢視可用 Ceph 管理員模組的清單。每行包含模組名稱以及該模組目前啟用與否的資訊。
  </para>

  <figure>
   <title>管理員模組</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="dash_mgr_modules.png" width="70%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="dash_mgr_modules.png" width="70%"/>
    </imageobject>
   </mediaobject>
  </figure>

  <para>
   按一下<guimenu>名稱</guimenu>欄中某個模組旁的下拉式箭頭，可在下面的<guimenu>詳細資料</guimenu>表中檢視包含詳細設定的延伸表。按一下表標題左上方的<guimenu>編輯</guimenu>按鈕可進行編輯。按一下<guimenu>更新</guimenu>確認變更。
  </para>

  <para>
   按一下表標題左上方<guimenu>編輯</guimenu>按鈕旁的下拉式箭頭，可<guimenu>啟用</guimenu>或<guimenu>停用</guimenu>模組。
  </para>
 </sect1>
 <sect1 xml:id="dashboard-cluster-logs">
  <title>檢視記錄</title>

  <para>
   按一下<menuchoice><guimenu>叢集</guimenu><guimenu>記錄</guimenu></menuchoice>可檢視叢集的最近記錄項目清單。每行包含一個時戳、記錄項目的類型及自身所記錄的訊息。
  </para>

  <para>
   按一下<guimenu>稽核記錄</guimenu>索引標籤可檢視稽核子系統的記錄項目。如需啟用或停用稽核的指令，請參閱<xref linkend="dashboard-auditing"/>。
  </para>

  <figure>
   <title>記錄</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="dash_logs.png" width="80%"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="dash_logs.png" width="80%"/>
    </imageobject>
   </mediaobject>
  </figure>
 </sect1>
 <sect1 xml:id="dashboard-cluster-monitoring">
  <title>檢視監控</title>

  <para>
   按一下<menuchoice><guimenu>叢集</guimenu><guimenu>監控</guimenu></menuchoice>可管理和檢視有關 Prometheus 警示的詳細資料。
  </para>

  <para>
   如果您啟用了 Prometheus，則在此內容窗格中，您可以檢視有關<guimenu>使用中警示</guimenu>、<guimenu>所有警示</guimenu>或<guimenu>靜默</guimenu>的詳細資訊。
  </para>

  <note>
   <para>
    如果您未部署 Prometheus，則會顯示一個資訊標題頁以及相關文件的連結。
   </para>
  </note>
 </sect1>
</chapter>
