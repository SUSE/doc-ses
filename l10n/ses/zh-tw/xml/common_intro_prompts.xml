<?xml version="1.0" encoding="UTF-8"?>
<sect1 xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="common_intro_prompts.xml" version="5.0">
 <title>本指南中使用的指令和指令提示符</title>

 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:translation>是</dm:translation>
   <dm:release>SES 7</dm:release>
  </dm:docmanager>
 </info>

 <para>
  做為 Ceph 叢集管理員，您需要透過執行特定指令來設定和調整叢集行為。您將需要執行以下幾種類型的指令：
 </para>

 <sect2>
  <title>與 Salt 相關的指令</title>
  <para>
   這些指令可協助您部署 Ceph 叢集節點、同時在數個 (或所有) 叢集節點上執行指令，或在您新增或移除叢集節點時為您提供協助。最常用的指令是 <command>ceph-salt</command> 和 <command>ceph-salt config</command>。您需要以 <systemitem class="username">root</systemitem> 身分在 Salt Master 節點上執行 Salt 指令。透過以下提示符來引入這些指令：
  </para>
<screen>
<prompt>root@master # </prompt>
</screen>
  <para>
   例如：
  </para>
<screen>
<prompt>root@master # </prompt>ceph-salt config ls
</screen>
 </sect2>

 <sect2>
  <title>與 Ceph 相關的指令</title>
  <para>
   這些是較低層級的指令，用於在指令行上設定和微調叢集及其閘道的所有方面，例如 <command>ceph</command>、<command>cephadm</command>、<command>rbd</command> 或 <command>radosgw-admin</command>。
  </para>
  <para>
   若要執行與 Ceph 相關的指令，您需要擁有 Ceph 金鑰的讀取存取權，而金鑰的功能則定義您在 Ceph 環境內的權限。一種方案是以 <systemitem class="username">root</systemitem> 身分 (或透過 <command>sudo</command>) 執行 Ceph 指令，並使用不受限制的預設金鑰圈「ceph.client.admin.key」。
  </para>
  <para>
   建議您使用更安全的方案，即為每個管理員使用者建立限制性更高的個別金鑰，並將其存放在使用者可讀取的目錄中，例如：
  </para>
<screen>~/.ceph/ceph.client.<replaceable>USERNAME</replaceable>.keyring</screen>
  <tip>
   <title>Ceph 金鑰的路徑</title>
   <para>
    若要使用自訂管理員使用者和金鑰圈，每次執行 <command>ceph</command> 指令 (使用 <option>-n client.<replaceable>USER_NAME</replaceable></option> 和 <option>--keyring <replaceable>PATH/TO/KEYRING</replaceable></option> 選項) 時，都需要指定該金鑰的使用者名稱和路徑。
   </para>
   <para>
    為避免出現此情況，請將這些選項包含在各個使用者的 <filename>~/.bashrc</filename> 檔案中的 <varname>CEPH_ARGS</varname> 變數中。
   </para>
  </tip>
  <para>
   儘管您可以在任何叢集節點上執行與 Ceph 相關的指令，但我們建議您在管理節點上執行。本文件使用 <systemitem class="username">cephuser</systemitem> 使用者來執行指令，因此透過以下提示符來引入指令：
  </para>
<screen>
<prompt>cephuser@adm &gt; </prompt>
</screen>
  <para>
   例如：
  </para>
<screen>
<prompt>cephuser@adm &gt; </prompt>ceph auth list
</screen>
  <tip>
   <title>特定節點的指令</title>
   <para>
    如果文件指示您在叢集節點上以特定角色來執行指令，應透過該提示符來定址。例如：
   </para>
<screen>
<prompt>cephuser@mon &gt; </prompt>
</screen>
  </tip>
  <sect3>
   <title>執行 <command>ceph-volume</command></title>
   <para>
    從 SUSE Enterprise Storage 7 開始，Ceph 服務以容器化方式執行。如果您需要在 OSD 節點上執行 <command>ceph-volume</command>，則需要在其前面加上 <command>cephadm</command> 指令，例如：
   </para>
<screen><prompt>cephuser@adm &gt; </prompt>cephadm ceph-volume simple scan</screen>
  </sect3>
 </sect2>

 <sect2>
  <title>一般的 Linux 指令</title>
  <para>
   與 Ceph 無關的 Linux 指令 (例如 <command>mount</command>、<command>cat</command> 或 <command>openssl</command>) 可透過 <prompt>cephuser@adm &gt; </prompt> 或 <prompt role="root">root # </prompt> 提示符來引入，具體取決於相關指令所需的權限。
  </para>
 </sect2>

 <sect2>
  <title>其他資訊</title>
  <para>
   如需 Ceph 金鑰管理的詳細資訊，請參閱<xref linkend="storage-cephx-keymgmt"/>。
  </para>
 </sect2>
</sect1>
