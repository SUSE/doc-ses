<?xml version="1.0" encoding="UTF-8"?>
<sect1 xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="common_intro_prompts.xml" version="5.0">
 <title>Comandi e prompt dei comandi utilizzati nella presente guida</title>

 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:translation>sì</dm:translation>
   <dm:release>SES 7</dm:release>
  </dm:docmanager>
 </info>

 <para>
  Gli amministratori del cluster Ceph si occupano della configurazione e della modifica del comportamento del cluster tramite l'esecuzione di comandi specifici. Saranno necessari diversi tipi di comandi:
 </para>

 <sect2>
  <title>Comandi correlati a Salt</title>
  <para>
   Questi comandi consentono di distribuire i nodi del cluster Ceph, di eseguire comandi contemporaneamente su più (o su tutti i) nodi del cluster e semplificano l'aggiunta o la rimozione dei nodi del cluster. I comandi utilizzati più di frequente sono <command>ceph-salt</command> e <command>ceph-salt config</command>. È necessario eseguire i comandi Salt sul nodo del Salt Master come <systemitem class="username">root</systemitem>. Questi comandi sono introdotti dal prompt seguente:
  </para>
<screen>
<prompt>root@master # </prompt>
</screen>
  <para>
   Esempio:
  </para>
<screen>
<prompt>root@master # </prompt>ceph-salt config ls
</screen>
 </sect2>

 <sect2>
  <title>Comandi correlati a Ceph</title>
  <para>
   Si tratta di comandi di livello inferiore per la configurazione e l'ottimizzazione di tutti gli aspetti del cluster e dei relativi gateway sulla riga di comando, ad esempio <command>ceph</command>, <command>cephadm</command>, <command>rbd</command> o <command>radosgw-admin</command>.
  </para>
  <para>
   Per eseguire i comandi correlati a Ceph, è necessario disporre dell'accesso in lettura a una chiave Ceph. Le capacità della chiave definiscono i privilegi dell'utente all'interno dell'ambiente Ceph. Un'opzione consiste nell'eseguire i comandi di Ceph come <systemitem class="username">root</systemitem> (o tramite <command>sudo</command>) e utilizzare il portachiavi di default senza restrizioni "ceph.client.admin.key".
  </para>
  <para>
   L'opzione consigliata e più sicura consiste nel creare una chiave individuale più restrittiva per ogni utente amministratore e inserirla in una directory in cui gli utenti possano leggerla, ad esempio:
  </para>
<screen>~/.ceph/ceph.client.<replaceable>USERNAME</replaceable>.keyring</screen>
  <tip>
   <title>percorso delle chiavi Ceph</title>
   <para>
    Per utilizzare un utente amministratore e un portachiavi personalizzati, è necessario specificare il nome utente e il percorso della chiave ogni volta che si esegue il comando <command>ceph</command> tramite le opzioni <option>-n client.<replaceable>USER_NAME</replaceable></option> e <option>--keyring <replaceable>PATH/TO/KEYRING</replaceable></option>.
   </para>
   <para>
    Per evitarlo, includere queste opzioni nella variabile <varname>CEPH_ARGS</varname> nei file <filename>~/.bashrc</filename> dei singoli utenti.
   </para>
  </tip>
  <para>
   I comandi correlati a Ceph possono essere eseguiti su qualsiasi nodo del cluster, ma è consigliabile eseguirli sul nodo admin. In questa documentazione, l'utente <systemitem class="username">cephuser</systemitem> esegue i comandi, pertanto questi vengono introdotti dal prompt seguente:
  </para>
<screen>
<prompt>cephuser@adm &gt; </prompt>
</screen>
  <para>
   Esempio:
  </para>
<screen>
<prompt>cephuser@adm &gt; </prompt>ceph auth list
</screen>
  <tip>
   <title>comandi per nodi specifici</title>
   <para>
    Se nella documentazione è indicato di eseguire un comando su un nodo del cluster con un ruolo specifico, questo verrà indirizzato dal prompt. Esempio:
   </para>
<screen>
<prompt>cephuser@mon &gt; </prompt>
</screen>
  </tip>
  <sect3>
   <title>Esecuzione di <command>ceph-volume</command></title>
   <para>
    A partire da SUSE Enterprise Storage 7, i servizi Ceph vengono eseguiti in container. Se è necessario eseguire <command>ceph-volume</command> su un nodo OSD, occorre anteporlo con il comando <command>cephadm</command>, ad esempio:
   </para>
<screen><prompt>cephuser@adm &gt; </prompt>cephadm ceph-volume simple scan</screen>
  </sect3>
 </sect2>

 <sect2>
  <title>Comandi Linux generali</title>
  <para>
   I comandi Linux non correlati a Ceph, come <command>mount</command>, <command>cat</command> o <command>openssl</command>, sono introdotti con i prompt <prompt>cephuser@adm &gt; </prompt> o <prompt role="root">root # </prompt>, a seconda dei privilegi richiesti dal comando correlato.
  </para>
 </sect2>

 <sect2>
  <title>Informazioni aggiuntive</title>
  <para>
   Per ulteriori informazioni sulla gestione della chiave Ceph, fare riferimento a <xref linkend="storage-cephx-keymgmt"/>.
  </para>
 </sect2>
</sect1>
