<?xml version="1.0" encoding="UTF-8"?>
<appendix xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="ceph_maintenance_updates.xml" version="5.0">
 <title>Aggiornamenti alla manutenzione di Ceph basati sulle release intermedie upstream "Octopus"</title>
 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:translation>sì</dm:translation>
   <dm:release>SES 7</dm:release>
  </dm:docmanager>
 </info>
 <para>
  Molti pacchetti di chiavi di SUSE Enterprise Storage 7 si basano sulle serie di release Octopus di Ceph. Quando vengono pubblicate dal progetto Ceph (<link xlink:href="https://github.com/ceph/ceph"/>) nuove release intermedie nella serie Octopus, SUSE Enterprise Storage 7 viene aggiornato con le correzioni di bug e i backport delle funzioni upstream più recenti.
 </para>
 <para>
  Questo capitolo contiene un riepilogo delle modifiche principali presenti in ogni release intermedia upstream che sono state o che verranno incluse nel prodotto.
 </para>
 <bridgehead renderas="sect1">Release intermedia Octopus 15.2.5</bridgehead>
 <para>
  La release intermedia Octopus 15.2.5 comprende le correzioni e altre modifiche seguenti:
 </para>
 <itemizedlist>
  <listitem>
   <para>
    CephFS: le policy automatiche di partizionamento della sotto-struttura statica possono adesso essere configurate tramite i nuovi attributi estesi di aggiunta temporanea distribuiti e casuali sulle directory. Per ulteriori informazioni consultare la documentazione seguente: <link xlink:href="https://docs.ceph.com/docs/master/cephfs/multimds/"/>
   </para>
  </listitem>
  <listitem>
   <para>
    I monitor dispongono adesso dell'opzione di configurazione <option>mon_osd_warn_num_repaired</option>, impostata a 10 per default. Se un OSD ha riparato un numero di errori di I/O nei dati archiviati superiore a quello impostato, viene generato un avviso di integrità <literal>OSD_TOO_MANY_REPAIRS</literal>.
   </para>
  </listitem>
  <listitem>
   <para>
    Adesso, se i flag <literal>no scrub</literal> e/o <literal>no deep-scrub</literal> sono impostati a livello globale o di pool, le puliture pianificate del tipo disabilitato verranno interrotte. Tutte le puliture avviate dagli utenti NON verranno interrotte.
   </para>
  </listitem>
  <listitem>
   <para>
    È stato risolto il problema in base al quale osdmap non veniva ottimizzato in un cluster integro.
   </para>
  </listitem>
 </itemizedlist>
 <bridgehead renderas="sect1">Release intermedia Octopus 15.2.4</bridgehead>
 <para>
  La release intermedia Octopus 15.2.4 comprende le correzioni e altre modifiche seguenti:
 </para>
 <itemizedlist>
  <listitem>
   <para>
    CVE-2020-10753: rgw: purifica i caratteri di fine riga in ExposeHeader di s3 CORSConfiguration
   </para>
  </listitem>
  <listitem>
   <para>
    Object Gateway: i sottocomandi <command>radosgw-admin</command> relativi agli orphan-<command>radosgw-admin orphans find</command>, <command>radosgw-admin orphans finish</command> e <command>radosgw-admin orphans list-jobs</command>-sono stati deprecati. Non sono stati mantenuti attivamente e, dal momento che memorizzano risultati intermedi sul cluster, potrebbero potenzialmente riempire un cluster quasi pieno. Sono stati sostituiti da <command>rgw-orphan-list</command>, uno strumento attualmente considerato sperimentale.
   </para>
  </listitem>
  <listitem>
   <para>
    RBD: il nome dell'oggetto del pool RBD utilizzato per memorizzare la pianificazione dell'eliminazione definitiva del cestino RBD è stato modificato da <literal>rbd_trash_trash_purge_schedule</literal> a <literal>rbd_trash_purge_schedule</literal>. Gli utenti che hanno già iniziato a utilizzare la funzionalità di pianificazione dell'eliminazione definitiva del cestino RBD e hanno configurato pianificazioni a livello di pool o spazio dei nomi devono copiare l'oggetto <literal>rbd_trash_trash_purge_schedule</literal> su <literal>rbd_trash_purge_schedule</literal> prima di eseguire l'upgrade e rimuovere <literal>rbd_trash_purge_schedule</literal> utilizzando i comandi seguenti in ogni pool e spazio dei nomi RBD in cui è stata precedentemente configurata una pianificazione dell'eliminazione definitiva del cestino:
   </para>
<screen>
rados -p <replaceable>pool-name</replaceable> [-N namespace] cp rbd_trash_trash_purge_schedule rbd_trash_purge_schedule
rados -p <replaceable>pool-name</replaceable> [-N namespace] rm rbd_trash_trash_purge_schedule
</screen>
   <para>
    In alternativa, utilizzare qualsiasi altro metodo pratico di ripristino della pianificazione in seguito all'upgrade.
   </para>
  </listitem>
 </itemizedlist>
 <bridgehead renderas="sect1">Release intermedia Octopus 15.2.3</bridgehead>
 <itemizedlist>
  <listitem>
   <para>
    La release intermedia Octopus 15.2.3 era una release di correzione rapida per risolvere il problema in base al quale veniva visualizzato il danneggiamento di WAL se <option>bluefs_preextend_wal_files</option> e <option>bluefs_buffered_io</option> erano abilitati contemporaneamente. La correzione contenuta nella release 15.2.3 è soltanto una misura temporanea (il valore di default di <option>bluefs_preextend_wal_files</option> viene modificato su <literal>false</literal>). La correzione definitiva, molto probabilmente disponibile con la release intermedia 15.2.6, prevede la rimozione completa dell'opzione <option>bluefs_preextend_wal_files</option>.
   </para>
  </listitem>
 </itemizedlist>
 <bridgehead renderas="sect1">Release intermedia Octopus 15.2.2</bridgehead>
 <para>
  La release intermedia Octopus 15.2.2 fornisce una patch per una vulnerabilità della sicurezza:
 </para>
 <itemizedlist>
  <listitem>
   <para>
    CVE-2020-10736: correzione di un bypass di autorizzazione nei MON e nei MGR
   </para>
  </listitem>
 </itemizedlist>
 <bridgehead renderas="sect1">Release intermedia Octopus 15.2.1</bridgehead>
 <para>
  La release intermedia Octopus 15.2.1 risolve il problema in base al quale l'upgrade rapido da Luminous (SES5.5) a Nautilus (SES6) a Octopus (SES7) causava l'arresto anomalo degli OSD. Inoltre, questa release applica una patch a due vulnerabilità di sicurezza della release iniziale di Octopus (15.2.0):
 </para>
 <itemizedlist>
  <listitem>
   <para>
    CVE-2020-1759: correzione del riutilizzo nonce nella modalità sicura msgr V2
   </para>
  </listitem>
  <listitem>
   <para>
    CVE-2020-1760: correzione dell'errore di XSS causato dalla suddivisione dell'intestazione RGW GetObject
   </para>
  </listitem>
 </itemizedlist>
</appendix>
