<?xml version="1.0" encoding="UTF-8"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" xml:base="dashboard_cluster.xml" version="5.0" xml:id="dashboard-cluster">
 <title>Visualizzazione dei componenti interni del cluster</title>
 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:translation>sì</dm:translation>
   <dm:release>SES 7</dm:release>
  </dm:docmanager>
 </info>
 <para>
  La voce di menu <guimenu>Cluster</guimenu> consente di visualizzare informazioni dettagliate su host, inventario, Ceph Monitor, servizi, OSD, configurazione, mappa CRUSH, Ceph Manager, log e file di monitoraggio del cluster Ceph.
 </para>
 <sect1 xml:id="dashboard-cluster-hosts">
  <title>Visualizzazione dei nodi del cluster</title>

  <para>
   Fare clic su <menuchoice><guimenu>Cluster</guimenu><guimenu>Host</guimenu></menuchoice> per visualizzare un elenco dei nodi del cluster.
  </para>

  <figure>
   <title>Hosts</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="dash_hosts.png" width="100%" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="dash_hosts.png" width="100%" format="PNG"/>
    </imageobject>
   </mediaobject>
  </figure>

  <para>
   Fare clic sulla freccia a discesa accanto al nome di un nodo nella colonna <guimenu>Nome host</guimenu> per visualizzare i dettagli sulle prestazioni del nodo.
  </para>

  <para>
   Nella colonna <guimenu>Servizi</guimenu> sono elencati tutti i daemon in esecuzione in ogni nodo correlato. Fare clic sul nome di un daemon per visualizzare la relativa configurazione dettagliata.
  </para>
 </sect1>
 <sect1 xml:id="dashboard-cluster-inventory">
  <title>Accesso all'inventario del cluster</title>

  <para>
   Fare clic su <menuchoice><guimenu>Cluster</guimenu><guimenu>Inventario</guimenu></menuchoice> per visualizzare un elenco dei dispositivi. L'elenco riporta il percorso, il tipo, la disponibilità, il produttore, il modello, la dimensione e gli OSD del dispositivo.
  </para>

  <para>
   Fare clic per selezionare il nome di un nodo nella colonna <guimenu>Nome host</guimenu>. Quindi, fare clic su <guimenu>Identifica</guimenu> per identificare il dispositivo su cui è in esecuzione l'host. Questa operazione invia al dispositivo l'istruzione di far lampeggiare i LED. Selezionare la durata di questa azione su 1, 2, 5, 10 o 15 minuti. Fare clic su <guimenu>Esegui</guimenu>.
  </para>

  <figure>
   <title>servizi</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="dash_inventory.png" width="100%" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="dash_inventory.png" width="100%" format="PNG"/>
    </imageobject>
   </mediaobject>
  </figure>
 </sect1>
 <sect1 xml:id="dashboard-cluster-monitors">
  <title>Visualizzazione dei Ceph Monitor</title>

  <para>
   Fare clic su <menuchoice><guimenu>Cluster</guimenu><guimenu>Monitor</guimenu></menuchoice> per visualizzare un elenco dei nodi del cluster con Ceph Monitor in esecuzione. Il pannello dei contenuti è suddiviso in due viste: <literal>Stato</literal> e <literal>Nel quorum</literal> o <literal>Non nel quorum</literal>.
  </para>

  <para>
   Nella tabella <guimenu>Stato</guimenu> sono riportate le statistiche generali relative ai Ceph Monitor in esecuzione, inclusi:
  </para>

  <itemizedlist>
   <listitem>
    <para>
     ID cluster
    </para>
   </listitem>
   <listitem>
    <para>
     monmap modified
    </para>
   </listitem>
   <listitem>
    <para>
     monmap epoch
    </para>
   </listitem>
   <listitem>
    <para>
     quorum con
    </para>
   </listitem>
   <listitem>
    <para>
     quorum mon
    </para>
   </listitem>
   <listitem>
    <para>
     required con
    </para>
   </listitem>
   <listitem>
    <para>
     required mon
    </para>
   </listitem>
  </itemizedlist>

  <para>
   I pannelli <literal>Nel quorum</literal> e <literal>Non nel quorum</literal> includono il nome, la classificazione, il numero, l'indirizzo IP pubblico e il numero di sessioni aperte di ogni monitor.
  </para>

  <para>
   Fare clic sul nome di un nodo nella colonna <guimenu>Nome</guimenu> per visualizzare la configurazione del Ceph Monitor correlato.
  </para>

  <figure>
   <title>Ceph Monitor</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="dash_mons.png" width="100%" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="dash_mons.png" width="100%" format="PNG"/>
    </imageobject>
   </mediaobject>
  </figure>
 </sect1>
 <sect1 xml:id="dashboard-cluster-services">
  <title>Visualizzazione dei servizi</title>

  <para>
   Fare clic su <menuchoice><guimenu>Cluster</guimenu><guimenu>Servizi</guimenu></menuchoice> per visualizzare i dettagli su ciascuno dei servizi disponibili: <literal>crash</literal>, Ceph Manager e Ceph Monitor. L'elenco include il nome dell'immagine del container, l'ID dell'immagine del container, lo stato degli elementi in esecuzione, la dimensione e l'ultimo aggiornamento.
  </para>

  <para>
   Fare clic sulla freccia a discesa accanto al nome di un servizio nella colonna <guimenu>Servizio</guimenu> per visualizzare i dettagli sul daemon. Nell'elenco dei dettagli sono inclusi il nome host, il tipo di daemon, l'ID del daemon, l'ID del container, il nome dell'immagine del container, l'ID dell'immagine del container, il numero di versione, lo stato e l'ultimo aggiornamento.
  </para>

  <figure>
   <title>servizi</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="dash_services.png" width="100%" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="dash_services.png" width="100%" format="PNG"/>
    </imageobject>
   </mediaobject>
  </figure>
 </sect1>
 <sect1 xml:id="dashboard-cluster-osds">
  <title>Visualizzazione dei Ceph OSD</title>

  <para>
   Fare clic su <menuchoice><guimenu>Cluster</guimenu><guimenu>OSD</guimenu></menuchoice> per visualizzare un elenco dei nodi con daemon OSD in esecuzione. Nell'elenco sono inclusi il nome, l'ID, lo stato, la classe del dispositivo, il numero di gruppi di posizionamento, le dimensioni, l'utilizzo, il grafico delle operazioni di lettura/scrittura nel tempo e la frequenza delle operazioni di lettura/scrittura al secondo di ogni nodo.
  </para>

  <figure>
   <title>Ceph OSD</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="dash_osds.png" width="100%" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="dash_osds.png" width="100%" format="PNG"/>
    </imageobject>
   </mediaobject>
  </figure>

  <para>
   Selezionare <guimenu>Flag</guimenu> dal menu a discesa <guimenu>Configurazione a livello di cluster</guimenu> nell'intestazione della tabella per aprire una finestra popup contenente un elenco dei flag che si applicano all'intero cluster. È possibile attivare o disattivare i singoli flag e confermare con <guimenu>Invia</guimenu>.
  </para>

  <figure>
   <title>Flag OSD</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="dash_osds_flags.png" width="70%" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="dash_osds_flags.png" width="70%" format="PNG"/>
    </imageobject>
   </mediaobject>
  </figure>

  <para>
   Selezionare <guimenu>Priorità di recupero</guimenu> dal menu a discesa <guimenu>Configurazione a livello di cluster</guimenu> nell'intestazione della tabella per aprire una finestra popup contenente un elenco delle priorità di recupero OSD che si applicano all'intero cluster. È possibile attivare il profilo di priorità preferito e ottimizzare i singoli valori di seguito. Confermare con <guimenu>Invia</guimenu>.
  </para>

  <figure>
   <title>Priorità di recupero OSD</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="dash_osds_recover.png" width="70%" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="dash_osds_recover.png" width="70%" format="PNG"/>
    </imageobject>
   </mediaobject>
  </figure>

  <para>
   Fare clic sulla freccia a discesa accanto al nome di un nodo nella colonna <guimenu>Host</guimenu> per visualizzare una tabella estesa con i dettagli sulle impostazioni e le prestazioni del dispositivo. Sfogliando le diverse schede, è possibile visualizzare gli elenchi <guimenu>Attributi</guimenu>, <guimenu>Metadati</guimenu>, <guimenu>Integrità dispositivo</guimenu>, <guimenu>Contatore delle prestazioni</guimenu>, un <guimenu>Istogramma</guimenu> delle operazioni di lettura e scrittura e <guimenu>Dettagli sulle prestazioni</guimenu>.
  </para>

  <figure>
   <title>Dettagli OSD</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="dash_osd_details.png" width="100%" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="dash_osd_details.png" width="100%" format="PNG"/>
    </imageobject>
   </mediaobject>
  </figure>

  <tip>
   <title>esecuzione di task specifici sugli OSD</title>
   <para>
    Dopo aver fatto clic sul nome di un nodo OSD, la riga della tabella verrà evidenziata a indicare che è possibile eseguire task sul nodo. È possibile scegliere di eseguire una delle azioni seguenti: <guimenu>Modifica</guimenu>, <guimenu>Crea</guimenu>, <guimenu>Pulitura</guimenu>, <guimenu>Pulitura approfondita</guimenu>, <guimenu>Ripesa</guimenu>, <guimenu>Disattiva</guimenu>, <guimenu>Attiva</guimenu>, <guimenu>Declassa</guimenu>, <guimenu>Contrassegna come perso</guimenu>, <guimenu>Ripulisci</guimenu>, <guimenu>Elimina definitivamente</guimenu> o <guimenu>Elimina</guimenu>.
   </para>
   <para>
    Fare clic sulla freccia verso il basso in alto a sinistra nell'intestazione della tabella accanto al pulsante <guimenu>Crea</guimenu> e selezionare il task che si desidera eseguire.
   </para>
  </tip>

  <sect2 xml:id="dashboard-cluster-osds-add">
   <title>Aggiunta di OSD</title>
   <para>
    Per aggiungere nuovi OSD, seguire la procedura indicata di seguito:
   </para>
   <procedure>
    <step>
     <para>
      Verificare che alcuni nodi del cluster dispongano di dispositivi di memorizzazione in stato <literal>available</literal> (disponibile). Quindi, fare clic sulla freccia verso il basso in alto a sinistra nell'intestazione della tabella e selezionate <guimenu>Crea</guimenu>. Si aprirà la finestra <guimenu>Crea OSD</guimenu>.
     </para>
     <figure>
      <title>Creazione di OSD</title>
      <mediaobject>
       <imageobject role="fo">
        <imagedata fileref="dash_osd_add.png" width="75%"/>
       </imageobject>
       <imageobject role="html">
        <imagedata fileref="dash_osd_add.png" width="75%"/>
       </imageobject>
      </mediaobject>
     </figure>
    </step>
    <step>
     <para>
      Per aggiungere dispositivi di memorizzazione primari per gli OSD, fare clic su <guimenu>Aggiungi</guimenu>. Prima che sia possibile aggiungere dispositivi di memorizzazione, è necessario specificare i criteri di filtro in alto a destra nella tabella <guimenu>Dispositivi primari</guimenu>, ad esempio <guimenu>Tipo</guimenu> <guimenu>hdd</guimenu>. Confermare con <guimenu>Aggiungi</guimenu>.
     </para>
     <figure>
      <title>Aggiunta di dispositivi primari</title>
      <mediaobject>
       <imageobject role="fo">
        <imagedata fileref="dash_osd_add_primary.png" width="100%"/>
       </imageobject>
       <imageobject role="html">
        <imagedata fileref="dash_osd_add_primary.png" width="100%"/>
       </imageobject>
      </mediaobject>
     </figure>
    </step>
    <step>
     <para>
      Nella finestra <guimenu>Crea OSD</guimenu> aggiornata, è possibile aggiungere dispositivi WAL e DB condivisi o abilitare la cifratura dei dispositivi.
     </para>
     <figure>
      <title>Creazione di OSD con dispositivi primari aggiunti</title>
      <mediaobject>
       <imageobject role="fo">
        <imagedata fileref="dash_osd_add_primary_created.png" width="75%"/>
       </imageobject>
       <imageobject role="html">
        <imagedata fileref="dash_osd_add_primary_created.png" width="75%"/>
       </imageobject>
      </mediaobject>
     </figure>
    </step>
    <step>
     <para>
      Fare clic su <guimenu>Anteprima</guimenu> per visualizzare l'anteprima della specifica dei DriveGroups per i dispositivi aggiunti in precedenza. Confermare con il pulsante <guimenu>Crea</guimenu>.
     </para>
     <figure>
      <title/>
      <mediaobject>
       <imageobject role="fo">
        <imagedata fileref="dash_osd_add_primary_preview.png" width="75%"/>
       </imageobject>
       <imageobject role="html">
        <imagedata fileref="dash_osd_add_primary_preview.png" width="75%"/>
       </imageobject>
      </mediaobject>
     </figure>
    </step>
    <step>
     <para>
      I nuovi dispositivi verranno aggiunti all'elenco degli OSD.
     </para>
     <figure>
      <title>OSD appena aggiunti</title>
      <mediaobject>
       <imageobject role="fo">
        <imagedata fileref="dash_osd_add_primary_added.png" width="100%"/>
       </imageobject>
       <imageobject role="html">
        <imagedata fileref="dash_osd_add_primary_added.png" width="100%"/>
       </imageobject>
      </mediaobject>
     </figure>
     <note>
      <para>
       Lo stato di avanzamento del processo di creazione degli OSD non viene visualizzato. Per completare il processo, sono necessari diversi istanti. Gli OSD verranno visualizzati nell'elenco dopo essere stati distribuiti. Se si desidera controllare lo stato della distribuzione, aprire i log facendo clic su <menuchoice><guimenu>Cluster</guimenu><guimenu>Log</guimenu></menuchoice>.
      </para>
     </note>
    </step>
   </procedure>
  </sect2>
 </sect1>
 <sect1 xml:id="dashboard-cluster-config">
  <title>Visualizzazione della configurazione del cluster</title>

  <para>
   Fare clic su <menuchoice><guimenu>Cluster</guimenu><guimenu>Configurazione</guimenu></menuchoice> per visualizzare un elenco completo delle opzioni di configurazione del cluster Ceph. L'elenco contiene il nome dell'opzione, la descrizione breve, i valori attuali e di default e se l'opzione è modificabile.
  </para>

  <figure>
   <title>Configurazione del cluster</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="dash_cluster_config.png" width="100%" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="dash_cluster_config.png" width="100%" format="PNG"/>
    </imageobject>
   </mediaobject>
  </figure>

  <para>
   Fare clic sulla freccia a discesa accanto a un'opzione di configurazione nella colonna <guimenu>Nome</guimenu> per visualizzare una tabella estesa con le informazioni dettagliate sull'opzione, come il tipo di valore, i valori minimo e massimo consentiti, se è possibile aggiornarla al runtime e molto altro.
  </para>

  <para>
   Dopo aver evidenziato un'opzione specifica, è possibile modificarne i valori facendo clic sul pulsante <guimenu>Modifica</guimenu> in alto a sinistra nell'intestazione della tabella. Confermare le modifiche con <guimenu>Salva</guimenu>.
  </para>
 </sect1>
 <sect1 xml:id="dashboard-cluster-crushmap">
  <title>Visualizzazione della mappa CRUSH del </title>

  <para>
   Fare clic su <menuchoice><guimenu>Cluster</guimenu><guimenu>Mappa CRUSH</guimenu></menuchoice> per visualizzare una mappa CRUSH del cluster. Per ulteriori informazioni generali sulle mappe CRUSH, fare riferimento alla <xref linkend="op-crush"/>.
  </para>

  <para>
   Fare clic sulla radice, sui nodi o sui singoli OSD per visualizzare altri dettagli, come il peso crush, la profondità nell'albero della mappa, la classe di dispositivi dell'OSD e molto altro.
  </para>

  <figure>
   <title>Mappa CRUSH</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="dash_crushmap.png" width="100%" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="dash_crushmap.png" width="100%" format="PNG"/>
    </imageobject>
   </mediaobject>
  </figure>
 </sect1>
 <sect1 xml:id="dashboard-cluster-mgr-plugins">
  <title>Visualizzazione dei moduli Manager</title>

  <para>
   Fare clic su <menuchoice><guimenu>Cluster</guimenu><guimenu>Moduli Manager</guimenu></menuchoice> per visualizzare un elenco dei moduli Ceph Manager disponibili. Ogni riga contiene il nome del modulo e informazioni sul suo stato di abilitazione o disabilitazione.
  </para>

  <figure>
   <title>Moduli Manager</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="dash_mgr_modules.png" width="70%" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="dash_mgr_modules.png" width="70%" format="PNG"/>
    </imageobject>
   </mediaobject>
  </figure>

  <para>
   Fare clic sulla freccia a discesa accanto a un modulo nella colonna <guimenu>Nome</guimenu> per visualizzare una tabella estesa con le impostazioni dettagliate nella tabella <guimenu>Dettagli</guimenu> di seguito. Modificarle facendo clic sul pulsante <guimenu>Modifica</guimenu> in alto a sinistra nell'intestazione della tabella. Confermare le modifiche con <guimenu>Aggiorna</guimenu>.
  </para>

  <para>
   Fare clic sulla freccia a discesa accanto al pulsante <guimenu>Modifica</guimenu> in alto a sinistra nell'intestazione della tabella per <guimenu>abilitare</guimenu> o <guimenu>disabilitare</guimenu> un modulo.
  </para>
 </sect1>
 <sect1 xml:id="dashboard-cluster-logs">
  <title>Visualizzazione dei log</title>

  <para>
   Fare clic su <menuchoice><guimenu>Cluster</guimenu><guimenu>Log</guimenu></menuchoice> per visualizzare un elenco delle voci di log recenti del cluster. Ogni riga contiene la registrazione dell'orario, il tipo di voce del log e il messaggio registrato.
  </para>

  <para>
   Fare clic sulla scheda <guimenu>Log delle revisioni</guimenu> per visualizzare le voci di log del sottosistema di revisione. Fare riferimento alla <xref linkend="dashboard-auditing"/> per i comandi di abilitazione o disabilitazione della revisione.
  </para>

  <figure>
   <title>Log</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="dash_logs.png" width="80%" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="dash_logs.png" width="80%" format="PNG"/>
    </imageobject>
   </mediaobject>
  </figure>
 </sect1>
 <sect1 xml:id="dashboard-cluster-monitoring">
  <title>Visualizzazione del monitoraggio</title>

  <para>
   Fare clic su <menuchoice><guimenu>Cluster</guimenu><guimenu>Monitoraggio</guimenu></menuchoice> per gestire e visualizzare i dettagli sugli avvisi di Prometheus.
  </para>

  <para>
   Se Prometheus è attivo, nel relativo pannello dei contenuti è possibile visualizzare le informazioni dettagliate su <guimenu>Avvisi attivi</guimenu>, <guimenu>Tutti gli avvisi</guimenu> o <guimenu>Silenziamenti</guimenu>.
  </para>

  <note>
   <para>
    Se Prometheus non è stato distribuito, verranno visualizzati un'intestazione di informazioni e un collegamento alla documentazione pertinente.
   </para>
  </note>
 </sect1>
</chapter>
