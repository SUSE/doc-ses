<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE chapter
[
  <!ENTITY % entities SYSTEM "entity-decl.ent">
    %entities;
]>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="dashboard-webui-general">
 <title>Dashboard's Web User Interface</title>
 <info>
  <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
   <dm:editurl>https://github.com/SUSE/doc-ses/edit/maintenance/ses6/xml/</dm:editurl>
   <dm:translation>yes</dm:translation>
   <dm:release>SES 6</dm:release>
  </dm:docmanager>
 </info>
 <sect1 xml:id="dashboard-webui-login">
  <title>Log In</title>

  <para>
   To log in to the dashboard Web application, point your browser to its URL
   including the port number. You can find its address by running
  </para>

<screen>
&prompt.cephuser;ceph mgr services | grep dashboard
"dashboard": "https://ses-dash-node.example.com:8443/",
</screen>

  <figure>
   <title>&dashboard; Login Screen</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="dashboard_login.png" width="70%" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="dashboard_login.png" width="70%" format="PNG"/>
    </imageobject>
   </mediaobject>
  </figure>

  <para>
   You need a user account in order to log in to the dashboard Web application.
   &deepsea; creates a default user 'admin' with administrator privileges for
   you. If you decide to log in with the default 'admin' user, retrieve the
   corresponding password by running
  </para>

<screen>
&prompt.smaster;salt-call grains.get dashboard_creds
</screen>

  <tip>
   <title>Custom User Account</title>
   <para>
    If you do not want to use the default 'admin' account to access the
    &dashboard;, create a custom user account with administrator privileges.
    Refer to <xref linkend="dashboard-user-roles" /> for more details.
   </para>
  </tip>

  <para>
   The dashboard user interface is graphically divided into several
   <emphasis>blocks</emphasis>: the <emphasis>utility menu</emphasis>, the
   <emphasis>main menu</emphasis>, and the main <emphasis>content
   pane</emphasis>.
  </para>

  <figure>
   <title>&dashboard; Home Page</title>
   <mediaobject>
    <imageobject role="fo">
     <imagedata fileref="dashboard_homepage.png" width="90%" format="PNG"/>
    </imageobject>
    <imageobject role="html">
     <imagedata fileref="dashboard_homepage.png" width="90%" format="PNG"/>
    </imageobject>
   </mediaobject>
  </figure>
 </sect1>
 <sect1 xml:id="dashboard-util-menu">
  <title>Utility Menu</title>

  <para>
   The top right part of the screen contains a utility menu. It includes
   general tasks related more to the dashboard than to the &ceph; cluster. By
   clicking its items, you can access the following topics:
  </para>

  <itemizedlist>
   <listitem>
    <para>
     Change the language of the dashboard's user interface. You can choose from
     Czech, English, German, Spanish, French, Portuguese, Chinese, or
     Indonesian.
    </para>
   </listitem>
   <listitem>
    <para>
     Display a list of &ceph; related tasks that are running in the background.
    </para>
   </listitem>
   <listitem>
    <para>
     View and erase recent dashboard notifications.
    </para>
   </listitem>
   <listitem>
    <para>
     Display a list of links that refer to the information about the dashboard,
     its complete documentation, and an overview of its REST API.
    </para>
   </listitem>
   <listitem>
    <para>
     Manage the dashboard's users and user roles. Refer to
     <xref linkend="dashboard-user-roles" /> for more detailed command line
     descriptions.
    </para>
   </listitem>
   <listitem>
    <para>
     Log out of the dashboard.
    </para>
   </listitem>
  </itemizedlist>
 </sect1>
 <sect1 xml:id="dashboard-main-menu">
  <title>Main Menu</title>

  <para>
   The dashboard's main menu occupies the top left part of the screen. It
   covers the following topics:
  </para>

  <variablelist>
   <varlistentry>
    <term><guimenu>Dashboard</guimenu></term>
    <listitem>
     <para>
      Return to &dashboard;'s home page.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><guimenu>Cluster</guimenu></term>
    <listitem>
     <para>
      View detailed information about overall cluster configuration and
      &crushmap;, its hosts, &osd;s, &mon;s, and the content of a log file.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><guimenu>Pools</guimenu></term>
    <listitem>
     <para>
      View and manage cluster pools.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><guimenu>Block</guimenu></term>
    <listitem>
     <para>
      View and manage block devices and their &iscsi; exports.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><guimenu>NFS</guimenu></term>
    <listitem>
     <para>
      View and manage &ganesha; deployments.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><guimenu>Filesystems</guimenu></term>
    <listitem>
     <para>
      View and manage &cephfs;s.
     </para>
    </listitem>
   </varlistentry>
   <varlistentry>
    <term><guimenu>Object Gateway</guimenu></term>
    <listitem>
     <para>
      View and manage &ogw;'s daemons, users, and buckets.
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
 </sect1>
 <sect1 xml:id="dashboard-cpane">
  <title>The Content Pane</title>

  <para>
   The content pane occupies the main part of the dashboard's screen. The
   dashboard home page shows plenty of helpful widgets to inform you briefly
   about the current status of the cluster, capacity, and performance
   information.
  </para>
 </sect1>
 <sect1 xml:id="dashboard-ui-common">
  <title>Common Web UI Features</title>

  <para>
   In &dashboard;, you often work with <emphasis>lists</emphasis>&mdash;for
   example, lists of pools, OSD nodes, or RBD devices. All lists will
   automatically refresh themselves by default every 5 seconds. The following
   common widgets help you manage or adjust these list:
  </para>

  <para>
   Click <inlinemediaobject>
   <imageobject role="fo">
    <imagedata fileref="oa_widget_reload.png" width="1.2em" format="PNG"/>
   </imageobject>
   <imageobject role="html">
    <imagedata fileref="oa_widget_reload.png" width="1.2em" format="PNG"/>
   </imageobject>
   </inlinemediaobject> to trigger a manual refresh of the list.
  </para>

  <para>
   Click <inlinemediaobject>
   <imageobject role="fo">
    <imagedata fileref="oa_widget_columns.png" width="1.3em" format="PNG"/>
   </imageobject>
   <imageobject role="html">
    <imagedata fileref="oa_widget_columns.png" width="1.3em" format="PNG"/>
   </imageobject>
   </inlinemediaobject> to display or hide individual table columns.
  </para>

  <para>
   Click <inlinemediaobject>
   <imageobject role="fo">
    <imagedata fileref="oa_widget_rows.png" width="1.8em" format="PNG"/>
   </imageobject>
   <imageobject role="html">
    <imagedata fileref="oa_widget_rows.png" width="1.8em" format="PNG"/>
   </imageobject>
   </inlinemediaobject> and select how many rows to display on a single page.
  </para>

  <para>
   Click inside <inlinemediaobject>
   <imageobject role="fo">
    <imagedata fileref="oa_widget_search.png" width="5em" format="PNG"/>
   </imageobject>
   <imageobject role="html">
    <imagedata fileref="oa_widget_search.png" width="5em" format="PNG"/>
   </imageobject>
   </inlinemediaobject> and filter the rows by typing the string to search for.
  </para>

  <para>
   Use <inlinemediaobject>
   <imageobject role="fo">
    <imagedata fileref="oa_widget_pager.png" width="6em" format="PNG"/>
   </imageobject>
   <imageobject role="html">
    <imagedata fileref="oa_widget_pager.png" width="6em" format="PNG"/>
   </imageobject>
   </inlinemediaobject> to change the currently displayed page if the list
   spans across multiple pages.
  </para>
 </sect1>
 <sect1 xml:id="dashboard-widgets">
  <title>Dashboard Widgets</title>

  <para>
   Each dashboard widget shows specific status information related to a
   specific aspect of a running &ceph; cluster. Some widgets are active links
   and after clicking them, they will redirect you to a related detailed page
   of the topic they represent.
  </para>

  <tip>
   <title>More Details on Mouse Over</title>
   <para>
    Some graphical widgets show you more detail when you move the mouse over
    them.
   </para>
  </tip>

  <sect2 xml:id="dashboard-widgets-status">
   <title>Status Widgets</title>
   <para>
    <guimenu>Status</guimenu> widgets give you a brief overview about the
    cluster's current status.
   </para>
   <figure>
    <title>Status Widgets</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="dashboard_widgets_status.png" width="70%" format="PNG"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="dashboard_widgets_status.png" width="70%" format="PNG"/>
     </imageobject>
    </mediaobject>
   </figure>
   <variablelist>
    <varlistentry>
     <term><guimenu>Cluster Status</guimenu></term>
     <listitem>
      <para>
       Presents basic information about the cluster's health.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>Monitors</guimenu></term>
     <listitem>
      <para>
       Shows the number of running monitors and their quorum.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>OSDs</guimenu></term>
     <listitem>
      <para>
       Shows the total number of OSDs, as well as the number of 'up' and 'in'
       OSDs.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>Manager Daemons</guimenu></term>
     <listitem>
      <para>
       Shows the number of active and standby &mgr; daemons.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>Hosts</guimenu></term>
     <listitem>
      <para>
       Shows the total number of cluster nodes.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>Object Gateways</guimenu></term>
     <listitem>
      <para>
       Shows the number of running &ogw;s.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>Metadata Servers</guimenu></term>
     <listitem>
      <para>
       Shows the number of &mds;s.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>iSCSI Gateway</guimenu></term>
     <listitem>
      <para>
       Shows the number of configured &iscsi; gateways.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
  </sect2>

  <sect2 xml:id="dashboard-widgets-performance">
   <title>Performance Widgets</title>
   <para>
    <guimenu>Performance</guimenu> widgets refer to basic performance data of
    &ceph; clients.
   </para>
   <figure>
    <title>performance Widgets</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="dashboard_widgets_perf.png" width="70%" format="PNG"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="dashboard_widgets_perf.png" width="70%" format="PNG"/>
     </imageobject>
    </mediaobject>
   </figure>
   <variablelist>
    <varlistentry>
     <term><guimenu>Client IOPS</guimenu></term>
     <listitem>
      <para>
       The amount of clients' read and write operations per second.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>Client Throughput</guimenu></term>
     <listitem>
      <para>
       The sum of clients' read and write operations per second.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>Client Read/Write</guimenu></term>
     <listitem>
      <para>
       Visualizes clients' read/write ratio.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>Recovery Throughput</guimenu></term>
     <listitem>
      <para>
       The throughput of data recovered per second.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>Scrub</guimenu></term>
     <listitem>
      <para>
       Shows the scrub (see <xref linkend="op-pg-scrubpg"/>) status. It is
       either disabled, enabled, or active.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
  </sect2>

  <sect2 xml:id="dashboard-widgets-capacity">
   <title>Capacity Widgets</title>
   <para>
    <guimenu>Capacity</guimenu> widgets show brief information about the
    storage capacity.
   </para>
   <figure>
    <title>Capacity Widgets</title>
    <mediaobject>
     <imageobject role="fo">
      <imagedata fileref="dashboard_widgets_capacity.png" width="70%" format="PNG"/>
     </imageobject>
     <imageobject role="html">
      <imagedata fileref="dashboard_widgets_capacity.png" width="70%" format="PNG"/>
     </imageobject>
    </mediaobject>
   </figure>
   <variablelist>
    <varlistentry>
     <term><guimenu>Pools</guimenu></term>
     <listitem>
      <para>
       Shows the number of pools in the cluster.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>Raw Capacity</guimenu></term>
     <listitem>
      <para>
       Shows the ratio of used and available raw storage capacity.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>Objects</guimenu></term>
     <listitem>
      <para>
       Shows the number of data objects stored in the cluster.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>PGs per OSD</guimenu></term>
     <listitem>
      <para>
       Shows the number of placement groups per OSD.
      </para>
     </listitem>
    </varlistentry>
    <varlistentry>
     <term><guimenu>PG Status</guimenu></term>
     <listitem>
      <para>
       Displays a chart of the placement groups according to their status.
      </para>
     </listitem>
    </varlistentry>
   </variablelist>
  </sect2>
 </sect1>
</chapter>
